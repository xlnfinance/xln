var{defineProperty:kU,getOwnPropertyNames:IC,getOwnPropertyDescriptor:SC}=Object,NC=Object.prototype.hasOwnProperty;var OO=new WeakMap,X$=($)=>{var Q=OO.get($),X;if(Q)return Q;if(Q=kU({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")IC($).map((Z)=>!NC.call(Q,Z)&&kU(Q,Z,{get:()=>$[Z],enumerable:!(X=SC($,Z))||X.enumerable}));return OO.set($,Q),Q},A$=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var RQ=($,Q)=>{for(var X in Q)kU($,X,{get:Q[X],enumerable:!0,configurable:!0,set:(Z)=>Q[X]=()=>Z})};var G0=($,Q)=>()=>($&&(Q=$($=0)),Q);var zO=(($)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy($,{get:(Q,X)=>(typeof require!=="undefined"?require:Q)[X]}):$)(function($){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var HO=A$((BC)=>{BC.supports=function $(...Q){let X=Q.reduce((Z,Y)=>Object.assign(Z,Y),{});return Object.assign(X,{snapshots:X.snapshots||!1,permanence:X.permanence||!1,seek:X.seek||!1,clear:X.clear||!1,getMany:X.getMany||!1,keyIterator:X.keyIterator||!1,valueIterator:X.valueIterator||!1,iteratorNextv:X.iteratorNextv||!1,iteratorAll:X.iteratorAll||!1,status:X.status||!1,createIfMissing:X.createIfMissing||!1,errorIfExists:X.errorIfExists||!1,deferredOpen:X.deferredOpen||!1,promises:X.promises||!1,streams:X.streams||!1,encodings:Object.assign({},X.encodings),events:Object.assign({},X.events),additionalMethods:Object.assign({},X.additionalMethods)})}});var KZ=A$((hj,DO)=>{DO.exports=class $ extends Error{constructor(Q,X){super(Q||"");if(typeof X==="object"&&X!==null){if(X.code)this.code=String(X.code);if(X.expected)this.expected=!0;if(X.transient)this.transient=!0;if(X.cause)this.cause=X.cause}if(Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}}});var m$={};RQ(m$,{transcode:()=>DA,resolveObjectURL:()=>OA,kStringMaxLength:()=>PO,kMaxLength:()=>AW,isUtf8:()=>zA,isAscii:()=>HA,default:()=>LA,constants:()=>bC,btoa:()=>vC,atob:()=>gC,INSPECT_MAX_BYTES:()=>RO,File:()=>yC,Buffer:()=>D0,Blob:()=>hC});function _C($){var Q=$.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=$.indexOf("=");if(X===-1)X=Q;var Z=X===Q?0:4-X%4;return[X,Z]}function wC($,Q){return($+Q)*3/4-Q}function xC($){var Q,X=_C($),Z=X[0],Y=X[1],V=new Uint8Array(wC(Z,Y)),G=0,z=Y>0?Z-4:Z,L;for(L=0;L<z;L+=4)Q=fX[$.charCodeAt(L)]<<18|fX[$.charCodeAt(L+1)]<<12|fX[$.charCodeAt(L+2)]<<6|fX[$.charCodeAt(L+3)],V[G++]=Q>>16&255,V[G++]=Q>>8&255,V[G++]=Q&255;if(Y===2)Q=fX[$.charCodeAt(L)]<<2|fX[$.charCodeAt(L+1)]>>4,V[G++]=Q&255;if(Y===1)Q=fX[$.charCodeAt(L)]<<10|fX[$.charCodeAt(L+1)]<<4|fX[$.charCodeAt(L+2)]>>2,V[G++]=Q>>8&255,V[G++]=Q&255;return V}function kC($){return SZ[$>>18&63]+SZ[$>>12&63]+SZ[$>>6&63]+SZ[$&63]}function fC($,Q,X){var Z,Y=[];for(var V=Q;V<X;V+=3)Z=($[V]<<16&16711680)+($[V+1]<<8&65280)+($[V+2]&255),Y.push(kC(Z));return Y.join("")}function qO($){var Q,X=$.length,Z=X%3,Y=[],V=16383;for(var G=0,z=X-Z;G<z;G+=V)Y.push(fC($,G,G+V>z?z:G+V));if(Z===1)Q=$[X-1],Y.push(SZ[Q>>2]+SZ[Q<<4&63]+"==");else if(Z===2)Q=($[X-2]<<8)+$[X-1],Y.push(SZ[Q>>10]+SZ[Q>>4&63]+SZ[Q<<2&63]+"=");return Y.join("")}function fV($,Q,X,Z,Y){var V,G,z=Y*8-Z-1,L=(1<<z)-1,A=L>>1,F=-7,C=X?Y-1:0,q=X?-1:1,R=$[Q+C];C+=q,V=R&(1<<-F)-1,R>>=-F,F+=z;for(;F>0;V=V*256+$[Q+C],C+=q,F-=8);G=V&(1<<-F)-1,V>>=-F,F+=Z;for(;F>0;G=G*256+$[Q+C],C+=q,F-=8);if(V===0)V=1-A;else if(V===L)return G?NaN:(R?-1:1)*(1/0);else G=G+Math.pow(2,Z),V=V-A;return(R?-1:1)*G*Math.pow(2,V-Z)}function TO($,Q,X,Z,Y,V){var G,z,L,A=V*8-Y-1,F=(1<<A)-1,C=F>>1,q=Y===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=Z?0:V-1,I=Z?1:-1,S=Q<0||Q===0&&1/Q<0?1:0;if(Q=Math.abs(Q),isNaN(Q)||Q===1/0)z=isNaN(Q)?1:0,G=F;else{if(G=Math.floor(Math.log(Q)/Math.LN2),Q*(L=Math.pow(2,-G))<1)G--,L*=2;if(G+C>=1)Q+=q/L;else Q+=q*Math.pow(2,1-C);if(Q*L>=2)G++,L/=2;if(G+C>=F)z=0,G=F;else if(G+C>=1)z=(Q*L-1)*Math.pow(2,Y),G=G+C;else z=Q*Math.pow(2,C-1)*Math.pow(2,Y),G=0}for(;Y>=8;$[X+R]=z&255,R+=I,z/=256,Y-=8);G=G<<Y|z,A+=Y;for(;A>0;$[X+R]=G&255,R+=I,G/=256,A-=8);$[X+R-I]|=S*128}function nZ($){if($>AW)throw new RangeError('The value "'+$+'" is invalid for option "size"');let Q=new Uint8Array($);return Object.setPrototypeOf(Q,D0.prototype),Q}function bU($,Q,X){return class Z extends X{constructor(){super();Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function D0($,Q,X){if(typeof $==="number"){if(typeof Q==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pU($)}return EO($,Q,X)}function EO($,Q,X){if(typeof $==="string")return uC($,Q);if(ArrayBuffer.isView($))return dC($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(NZ($,ArrayBuffer)||$&&NZ($.buffer,ArrayBuffer))return yU($,Q,X);if(typeof SharedArrayBuffer!=="undefined"&&(NZ($,SharedArrayBuffer)||$&&NZ($.buffer,SharedArrayBuffer)))return yU($,Q,X);if(typeof $==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Z=$.valueOf&&$.valueOf();if(Z!=null&&Z!==$)return D0.from(Z,Q,X);let Y=lC($);if(Y)return Y;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]==="function")return D0.from($[Symbol.toPrimitive]("string"),Q,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function IO($){if(typeof $!=="number")throw new TypeError('"size" argument must be of type number');else if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function cC($,Q,X){if(IO($),$<=0)return nZ($);if(Q!==void 0)return typeof X==="string"?nZ($).fill(Q,X):nZ($).fill(Q);return nZ($)}function pU($){return IO($),nZ($<0?0:mU($)|0)}function uC($,Q){if(typeof Q!=="string"||Q==="")Q="utf8";if(!D0.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);let X=SO($,Q)|0,Z=nZ(X),Y=Z.write($,Q);if(Y!==X)Z=Z.slice(0,Y);return Z}function gU($){let Q=$.length<0?0:mU($.length)|0,X=nZ(Q);for(let Z=0;Z<Q;Z+=1)X[Z]=$[Z]&255;return X}function dC($){if(NZ($,Uint8Array)){let Q=new Uint8Array($);return yU(Q.buffer,Q.byteOffset,Q.byteLength)}return gU($)}function yU($,Q,X){if(Q<0||$.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<Q+(X||0))throw new RangeError('"length" is outside of buffer bounds');let Z;if(Q===void 0&&X===void 0)Z=new Uint8Array($);else if(X===void 0)Z=new Uint8Array($,Q);else Z=new Uint8Array($,Q,X);return Object.setPrototypeOf(Z,D0.prototype),Z}function lC($){if(D0.isBuffer($)){let Q=mU($.length)|0,X=nZ(Q);if(X.length===0)return X;return $.copy(X,0,0,Q),X}if($.length!==void 0){if(typeof $.length!=="number"||Number.isNaN($.length))return nZ(0);return gU($)}if($.type==="Buffer"&&Array.isArray($.data))return gU($.data)}function mU($){if($>=AW)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+AW.toString(16)+" bytes");return $|0}function SO($,Q){if(D0.isBuffer($))return $.length;if(ArrayBuffer.isView($)||NZ($,ArrayBuffer))return $.byteLength;if(typeof $!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);let X=$.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&X===0)return 0;let Y=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return hU($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return vO($).length;default:if(Y)return Z?-1:hU($).length;Q=(""+Q).toLowerCase(),Y=!0}}function oC($,Q,X){let Z=!1;if(Q===void 0||Q<0)Q=0;if(Q>this.length)return"";if(X===void 0||X>this.length)X=this.length;if(X<=0)return"";if(X>>>=0,Q>>>=0,X<=Q)return"";if(!$)$="utf8";while(!0)switch($){case"hex":return XA(this,Q,X);case"utf8":case"utf-8":return BO(this,Q,X);case"ascii":return $A(this,Q,X);case"latin1":case"binary":return QA(this,Q,X);case"base64":return tC(this,Q,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ZA(this,Q,X);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}function NJ($,Q,X){let Z=$[Q];$[Q]=$[X],$[X]=Z}function NO($,Q,X,Z,Y){if($.length===0)return-1;if(typeof X==="string")Z=X,X=0;else if(X>2147483647)X=2147483647;else if(X<-2147483648)X=-2147483648;if(X=+X,Number.isNaN(X))X=Y?0:$.length-1;if(X<0)X=$.length+X;if(X>=$.length)if(Y)return-1;else X=$.length-1;else if(X<0)if(Y)X=0;else return-1;if(typeof Q==="string")Q=D0.from(Q,Z);if(D0.isBuffer(Q)){if(Q.length===0)return-1;return CO($,Q,X,Z,Y)}else if(typeof Q==="number"){if(Q=Q&255,typeof Uint8Array.prototype.indexOf==="function")if(Y)return Uint8Array.prototype.indexOf.call($,Q,X);else return Uint8Array.prototype.lastIndexOf.call($,Q,X);return CO($,[Q],X,Z,Y)}throw new TypeError("val must be string, number or Buffer")}function CO($,Q,X,Z,Y){let V=1,G=$.length,z=Q.length;if(Z!==void 0){if(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le"){if($.length<2||Q.length<2)return-1;V=2,G/=2,z/=2,X/=2}}function L(F,C){if(V===1)return F[C];else return F.readUInt16BE(C*V)}let A;if(Y){let F=-1;for(A=X;A<G;A++)if(L($,A)===L(Q,F===-1?0:A-F)){if(F===-1)F=A;if(A-F+1===z)return F*V}else{if(F!==-1)A-=A-F;F=-1}}else{if(X+z>G)X=G-z;for(A=X;A>=0;A--){let F=!0;for(let C=0;C<z;C++)if(L($,A+C)!==L(Q,C)){F=!1;break}if(F)return A}}return-1}function nC($,Q,X,Z){X=Number(X)||0;let Y=$.length-X;if(!Z)Z=Y;else if(Z=Number(Z),Z>Y)Z=Y;let V=Q.length;if(Z>V/2)Z=V/2;let G;for(G=0;G<Z;++G){let z=parseInt(Q.substr(G*2,2),16);if(Number.isNaN(z))return G;$[X+G]=z}return G}function sC($,Q,X,Z){return vV(hU(Q,$.length-X),$,X,Z)}function iC($,Q,X,Z){return vV(WA(Q),$,X,Z)}function rC($,Q,X,Z){return vV(vO(Q),$,X,Z)}function aC($,Q,X,Z){return vV(VA(Q,$.length-X),$,X,Z)}function tC($,Q,X){if(Q===0&&X===$.length)return qO($);else return qO($.slice(Q,X))}function BO($,Q,X){X=Math.min($.length,X);let Z=[],Y=Q;while(Y<X){let V=$[Y],G=null,z=V>239?4:V>223?3:V>191?2:1;if(Y+z<=X){let L,A,F,C;switch(z){case 1:if(V<128)G=V;break;case 2:if(L=$[Y+1],(L&192)===128){if(C=(V&31)<<6|L&63,C>127)G=C}break;case 3:if(L=$[Y+1],A=$[Y+2],(L&192)===128&&(A&192)===128){if(C=(V&15)<<12|(L&63)<<6|A&63,C>2047&&(C<55296||C>57343))G=C}break;case 4:if(L=$[Y+1],A=$[Y+2],F=$[Y+3],(L&192)===128&&(A&192)===128&&(F&192)===128){if(C=(V&15)<<18|(L&63)<<12|(A&63)<<6|F&63,C>65535&&C<1114112)G=C}}}if(G===null)G=65533,z=1;else if(G>65535)G-=65536,Z.push(G>>>10&1023|55296),G=56320|G&1023;Z.push(G),Y+=z}return eC(Z)}function eC($){let Q=$.length;if(Q<=AO)return String.fromCharCode.apply(String,$);let X="",Z=0;while(Z<Q)X+=String.fromCharCode.apply(String,$.slice(Z,Z+=AO));return X}function $A($,Q,X){let Z="";X=Math.min($.length,X);for(let Y=Q;Y<X;++Y)Z+=String.fromCharCode($[Y]&127);return Z}function QA($,Q,X){let Z="";X=Math.min($.length,X);for(let Y=Q;Y<X;++Y)Z+=String.fromCharCode($[Y]);return Z}function XA($,Q,X){let Z=$.length;if(!Q||Q<0)Q=0;if(!X||X<0||X>Z)X=Z;let Y="";for(let V=Q;V<X;++V)Y+=KA[$[V]];return Y}function ZA($,Q,X){let Z=$.slice(Q,X),Y="";for(let V=0;V<Z.length-1;V+=2)Y+=String.fromCharCode(Z[V]+Z[V+1]*256);return Y}function PQ($,Q,X){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+Q>X)throw new RangeError("Trying to access beyond buffer length")}function KX($,Q,X,Z,Y,V){if(!D0.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>Y||Q<V)throw new RangeError('"value" argument is out of bounds');if(X+Z>$.length)throw new RangeError("Index out of range")}function jO($,Q,X,Z,Y){fO(Q,Z,Y,$,X,7);let V=Number(Q&BigInt(4294967295));$[X++]=V,V=V>>8,$[X++]=V,V=V>>8,$[X++]=V,V=V>>8,$[X++]=V;let G=Number(Q>>BigInt(32)&BigInt(4294967295));return $[X++]=G,G=G>>8,$[X++]=G,G=G>>8,$[X++]=G,G=G>>8,$[X++]=G,X}function _O($,Q,X,Z,Y){fO(Q,Z,Y,$,X,7);let V=Number(Q&BigInt(4294967295));$[X+7]=V,V=V>>8,$[X+6]=V,V=V>>8,$[X+5]=V,V=V>>8,$[X+4]=V;let G=Number(Q>>BigInt(32)&BigInt(4294967295));return $[X+3]=G,G=G>>8,$[X+2]=G,G=G>>8,$[X+1]=G,G=G>>8,$[X]=G,X+8}function wO($,Q,X,Z,Y,V){if(X+Z>$.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function xO($,Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y)wO($,Q,X,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return TO($,Q,X,Z,23,4),X+4}function kO($,Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y)wO($,Q,X,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return TO($,Q,X,Z,52,8),X+8}function FO($){let Q="",X=$.length,Z=$[0]==="-"?1:0;for(;X>=Z+4;X-=3)Q=`_${$.slice(X-3,X)}${Q}`;return`${$.slice(0,X)}${Q}`}function YA($,Q,X){if(m8(Q,"offset"),$[Q]===void 0||$[Q+X]===void 0)FW(Q,$.length-(X+1))}function fO($,Q,X,Z,Y,V){if($>X||$<Q){let G=typeof Q==="bigint"?"n":"",z;if(V>3)if(Q===0||Q===BigInt(0))z=`>= 0${G} and < 2${G} ** ${(V+1)*8}${G}`;else z=`>= -(2${G} ** ${(V+1)*8-1}${G}) and < 2 ** ${(V+1)*8-1}${G}`;else z=`>= ${Q}${G} and <= ${X}${G}`;throw new vU("value",z,$)}YA(Z,Y,V)}function m8($,Q){if(typeof $!=="number")throw new mC(Q,"number",$)}function FW($,Q,X){if(Math.floor($)!==$)throw m8($,X),new vU(X||"offset","an integer",$);if(Q<0)throw new pC;throw new vU(X||"offset",`>= ${X?1:0} and <= ${Q}`,$)}function GA($){if($=$.split("=")[0],$=$.trim().replace(JA,""),$.length<2)return"";while($.length%4!==0)$=$+"=";return $}function hU($,Q){Q=Q||1/0;let X,Z=$.length,Y=null,V=[];for(let G=0;G<Z;++G){if(X=$.charCodeAt(G),X>55295&&X<57344){if(!Y){if(X>56319){if((Q-=3)>-1)V.push(239,191,189);continue}else if(G+1===Z){if((Q-=3)>-1)V.push(239,191,189);continue}Y=X;continue}if(X<56320){if((Q-=3)>-1)V.push(239,191,189);Y=X;continue}X=(Y-55296<<10|X-56320)+65536}else if(Y){if((Q-=3)>-1)V.push(239,191,189)}if(Y=null,X<128){if((Q-=1)<0)break;V.push(X)}else if(X<2048){if((Q-=2)<0)break;V.push(X>>6|192,X&63|128)}else if(X<65536){if((Q-=3)<0)break;V.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((Q-=4)<0)break;V.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return V}function WA($){let Q=[];for(let X=0;X<$.length;++X)Q.push($.charCodeAt(X)&255);return Q}function VA($,Q){let X,Z,Y,V=[];for(let G=0;G<$.length;++G){if((Q-=2)<0)break;X=$.charCodeAt(G),Z=X>>8,Y=X%256,V.push(Y),V.push(Z)}return V}function vO($){return xC(GA($))}function vV($,Q,X,Z){let Y;for(Y=0;Y<Z;++Y){if(Y+X>=Q.length||Y>=$.length)break;Q[Y+X]=$[Y]}return Y}function NZ($,Q){return $ instanceof Q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===Q.name}function vY($){return typeof BigInt==="undefined"?UA:$}function UA(){throw new Error("BigInt not supported")}function cU($){return()=>{throw new Error($+" is not implemented for node:buffer browser polyfill")}}var SZ,fX,fU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SJ,LO,MO,RO=50,AW=2147483647,PO=536870888,vC,gC,yC,hC,bC,pC,mC,vU,AO=4096,JA,KA,OA,zA,HA=($)=>{for(let Q of $)if(Q.charCodeAt(0)>127)return!1;return!0},DA,LA;var c$=G0(()=>{SZ=[],fX=[];for(SJ=0,LO=fU.length;SJ<LO;++SJ)SZ[SJ]=fU[SJ],fX[fU.charCodeAt(SJ)]=SJ;fX[45]=62;fX[95]=63;MO=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,vC=globalThis.btoa,gC=globalThis.atob,yC=globalThis.File,hC=globalThis.Blob,bC={MAX_LENGTH:AW,MAX_STRING_LENGTH:PO};pC=bU("ERR_BUFFER_OUT_OF_BOUNDS",function($){if($)return`${$} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),mC=bU("ERR_INVALID_ARG_TYPE",function($,Q){return`The "${$}" argument must be of type number. Received type ${typeof Q}`},TypeError),vU=bU("ERR_OUT_OF_RANGE",function($,Q,X){let Z=`The value of "${$}" is out of range.`,Y=X;if(Number.isInteger(X)&&Math.abs(X)>4294967296)Y=FO(String(X));else if(typeof X==="bigint"){if(Y=String(X),X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))Y=FO(Y);Y+="n"}return Z+=` It must be ${Q}. Received ${Y}`,Z},RangeError);Object.defineProperty(D0.prototype,"parent",{enumerable:!0,get:function(){if(!D0.isBuffer(this))return;return this.buffer}});Object.defineProperty(D0.prototype,"offset",{enumerable:!0,get:function(){if(!D0.isBuffer(this))return;return this.byteOffset}});D0.poolSize=8192;D0.from=function($,Q,X){return EO($,Q,X)};Object.setPrototypeOf(D0.prototype,Uint8Array.prototype);Object.setPrototypeOf(D0,Uint8Array);D0.alloc=function($,Q,X){return cC($,Q,X)};D0.allocUnsafe=function($){return pU($)};D0.allocUnsafeSlow=function($){return pU($)};D0.isBuffer=function $(Q){return Q!=null&&Q._isBuffer===!0&&Q!==D0.prototype};D0.compare=function $(Q,X){if(NZ(Q,Uint8Array))Q=D0.from(Q,Q.offset,Q.byteLength);if(NZ(X,Uint8Array))X=D0.from(X,X.offset,X.byteLength);if(!D0.isBuffer(Q)||!D0.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===X)return 0;let Z=Q.length,Y=X.length;for(let V=0,G=Math.min(Z,Y);V<G;++V)if(Q[V]!==X[V]){Z=Q[V],Y=X[V];break}if(Z<Y)return-1;if(Y<Z)return 1;return 0};D0.isEncoding=function $(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};D0.concat=function $(Q,X){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return D0.alloc(0);let Z;if(X===void 0){X=0;for(Z=0;Z<Q.length;++Z)X+=Q[Z].length}let Y=D0.allocUnsafe(X),V=0;for(Z=0;Z<Q.length;++Z){let G=Q[Z];if(NZ(G,Uint8Array))if(V+G.length>Y.length){if(!D0.isBuffer(G))G=D0.from(G);G.copy(Y,V)}else Uint8Array.prototype.set.call(Y,G,V);else if(!D0.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');else G.copy(Y,V);V+=G.length}return Y};D0.byteLength=SO;D0.prototype._isBuffer=!0;D0.prototype.swap16=function $(){let Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<Q;X+=2)NJ(this,X,X+1);return this};D0.prototype.swap32=function $(){let Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<Q;X+=4)NJ(this,X,X+3),NJ(this,X+1,X+2);return this};D0.prototype.swap64=function $(){let Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<Q;X+=8)NJ(this,X,X+7),NJ(this,X+1,X+6),NJ(this,X+2,X+5),NJ(this,X+3,X+4);return this};D0.prototype.toString=function $(){let Q=this.length;if(Q===0)return"";if(arguments.length===0)return BO(this,0,Q);return oC.apply(this,arguments)};D0.prototype.toLocaleString=D0.prototype.toString;D0.prototype.equals=function $(Q){if(!D0.isBuffer(Q))throw new TypeError("Argument must be a Buffer");if(this===Q)return!0;return D0.compare(this,Q)===0};D0.prototype.inspect=function $(){let Q="",X=RO;if(Q=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X)Q+=" ... ";return"<Buffer "+Q+">"};if(MO)D0.prototype[MO]=D0.prototype.inspect;D0.prototype.compare=function $(Q,X,Z,Y,V){if(NZ(Q,Uint8Array))Q=D0.from(Q,Q.offset,Q.byteLength);if(!D0.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(X===void 0)X=0;if(Z===void 0)Z=Q?Q.length:0;if(Y===void 0)Y=0;if(V===void 0)V=this.length;if(X<0||Z>Q.length||Y<0||V>this.length)throw new RangeError("out of range index");if(Y>=V&&X>=Z)return 0;if(Y>=V)return-1;if(X>=Z)return 1;if(X>>>=0,Z>>>=0,Y>>>=0,V>>>=0,this===Q)return 0;let G=V-Y,z=Z-X,L=Math.min(G,z),A=this.slice(Y,V),F=Q.slice(X,Z);for(let C=0;C<L;++C)if(A[C]!==F[C]){G=A[C],z=F[C];break}if(G<z)return-1;if(z<G)return 1;return 0};D0.prototype.includes=function $(Q,X,Z){return this.indexOf(Q,X,Z)!==-1};D0.prototype.indexOf=function $(Q,X,Z){return NO(this,Q,X,Z,!0)};D0.prototype.lastIndexOf=function $(Q,X,Z){return NO(this,Q,X,Z,!1)};D0.prototype.write=function $(Q,X,Z,Y){if(X===void 0)Y="utf8",Z=this.length,X=0;else if(Z===void 0&&typeof X==="string")Y=X,Z=this.length,X=0;else if(isFinite(X))if(X=X>>>0,isFinite(Z)){if(Z=Z>>>0,Y===void 0)Y="utf8"}else Y=Z,Z=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let V=this.length-X;if(Z===void 0||Z>V)Z=V;if(Q.length>0&&(Z<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!Y)Y="utf8";let G=!1;for(;;)switch(Y){case"hex":return nC(this,Q,X,Z);case"utf8":case"utf-8":return sC(this,Q,X,Z);case"ascii":case"latin1":case"binary":return iC(this,Q,X,Z);case"base64":return rC(this,Q,X,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return aC(this,Q,X,Z);default:if(G)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),G=!0}};D0.prototype.toJSON=function $(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};D0.prototype.slice=function $(Q,X){let Z=this.length;if(Q=~~Q,X=X===void 0?Z:~~X,Q<0){if(Q+=Z,Q<0)Q=0}else if(Q>Z)Q=Z;if(X<0){if(X+=Z,X<0)X=0}else if(X>Z)X=Z;if(X<Q)X=Q;let Y=this.subarray(Q,X);return Object.setPrototypeOf(Y,D0.prototype),Y};D0.prototype.readUintLE=D0.prototype.readUIntLE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)PQ(Q,X,this.length);let Y=this[Q],V=1,G=0;while(++G<X&&(V*=256))Y+=this[Q+G]*V;return Y};D0.prototype.readUintBE=D0.prototype.readUIntBE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)PQ(Q,X,this.length);let Y=this[Q+--X],V=1;while(X>0&&(V*=256))Y+=this[Q+--X]*V;return Y};D0.prototype.readUint8=D0.prototype.readUInt8=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,1,this.length);return this[Q]};D0.prototype.readUint16LE=D0.prototype.readUInt16LE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,2,this.length);return this[Q]|this[Q+1]<<8};D0.prototype.readUint16BE=D0.prototype.readUInt16BE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,2,this.length);return this[Q]<<8|this[Q+1]};D0.prototype.readUint32LE=D0.prototype.readUInt32LE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216};D0.prototype.readUint32BE=D0.prototype.readUInt32BE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])};D0.prototype.readBigUInt64LE=vY(function $(Q){Q=Q>>>0,m8(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)FW(Q,this.length-8);let Y=X+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216,V=this[++Q]+this[++Q]*256+this[++Q]*65536+Z*16777216;return BigInt(Y)+(BigInt(V)<<BigInt(32))});D0.prototype.readBigUInt64BE=vY(function $(Q){Q=Q>>>0,m8(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)FW(Q,this.length-8);let Y=X*16777216+this[++Q]*65536+this[++Q]*256+this[++Q],V=this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+Z;return(BigInt(Y)<<BigInt(32))+BigInt(V)});D0.prototype.readIntLE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)PQ(Q,X,this.length);let Y=this[Q],V=1,G=0;while(++G<X&&(V*=256))Y+=this[Q+G]*V;if(V*=128,Y>=V)Y-=Math.pow(2,8*X);return Y};D0.prototype.readIntBE=function $(Q,X,Z){if(Q=Q>>>0,X=X>>>0,!Z)PQ(Q,X,this.length);let Y=X,V=1,G=this[Q+--Y];while(Y>0&&(V*=256))G+=this[Q+--Y]*V;if(V*=128,G>=V)G-=Math.pow(2,8*X);return G};D0.prototype.readInt8=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,1,this.length);if(!(this[Q]&128))return this[Q];return(255-this[Q]+1)*-1};D0.prototype.readInt16LE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,2,this.length);let Z=this[Q]|this[Q+1]<<8;return Z&32768?Z|4294901760:Z};D0.prototype.readInt16BE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,2,this.length);let Z=this[Q+1]|this[Q]<<8;return Z&32768?Z|4294901760:Z};D0.prototype.readInt32LE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};D0.prototype.readInt32BE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};D0.prototype.readBigInt64LE=vY(function $(Q){Q=Q>>>0,m8(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)FW(Q,this.length-8);let Y=this[Q+4]+this[Q+5]*256+this[Q+6]*65536+(Z<<24);return(BigInt(Y)<<BigInt(32))+BigInt(X+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216)});D0.prototype.readBigInt64BE=vY(function $(Q){Q=Q>>>0,m8(Q,"offset");let X=this[Q],Z=this[Q+7];if(X===void 0||Z===void 0)FW(Q,this.length-8);let Y=(X<<24)+this[++Q]*65536+this[++Q]*256+this[++Q];return(BigInt(Y)<<BigInt(32))+BigInt(this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+Z)});D0.prototype.readFloatLE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return fV(this,Q,!0,23,4)};D0.prototype.readFloatBE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,4,this.length);return fV(this,Q,!1,23,4)};D0.prototype.readDoubleLE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,8,this.length);return fV(this,Q,!0,52,8)};D0.prototype.readDoubleBE=function $(Q,X){if(Q=Q>>>0,!X)PQ(Q,8,this.length);return fV(this,Q,!1,52,8)};D0.prototype.writeUintLE=D0.prototype.writeUIntLE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,Z=Z>>>0,!Y){let z=Math.pow(2,8*Z)-1;KX(this,Q,X,Z,z,0)}let V=1,G=0;this[X]=Q&255;while(++G<Z&&(V*=256))this[X+G]=Q/V&255;return X+Z};D0.prototype.writeUintBE=D0.prototype.writeUIntBE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,Z=Z>>>0,!Y){let z=Math.pow(2,8*Z)-1;KX(this,Q,X,Z,z,0)}let V=Z-1,G=1;this[X+V]=Q&255;while(--V>=0&&(G*=256))this[X+V]=Q/G&255;return X+Z};D0.prototype.writeUint8=D0.prototype.writeUInt8=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,1,255,0);return this[X]=Q&255,X+1};D0.prototype.writeUint16LE=D0.prototype.writeUInt16LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,2,65535,0);return this[X]=Q&255,this[X+1]=Q>>>8,X+2};D0.prototype.writeUint16BE=D0.prototype.writeUInt16BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,2,65535,0);return this[X]=Q>>>8,this[X+1]=Q&255,X+2};D0.prototype.writeUint32LE=D0.prototype.writeUInt32LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,4,4294967295,0);return this[X+3]=Q>>>24,this[X+2]=Q>>>16,this[X+1]=Q>>>8,this[X]=Q&255,X+4};D0.prototype.writeUint32BE=D0.prototype.writeUInt32BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,4,4294967295,0);return this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4};D0.prototype.writeBigUInt64LE=vY(function $(Q,X=0){return jO(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))});D0.prototype.writeBigUInt64BE=vY(function $(Q,X=0){return _O(this,Q,X,BigInt(0),BigInt("0xffffffffffffffff"))});D0.prototype.writeIntLE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y){let L=Math.pow(2,8*Z-1);KX(this,Q,X,Z,L-1,-L)}let V=0,G=1,z=0;this[X]=Q&255;while(++V<Z&&(G*=256)){if(Q<0&&z===0&&this[X+V-1]!==0)z=1;this[X+V]=(Q/G>>0)-z&255}return X+Z};D0.prototype.writeIntBE=function $(Q,X,Z,Y){if(Q=+Q,X=X>>>0,!Y){let L=Math.pow(2,8*Z-1);KX(this,Q,X,Z,L-1,-L)}let V=Z-1,G=1,z=0;this[X+V]=Q&255;while(--V>=0&&(G*=256)){if(Q<0&&z===0&&this[X+V+1]!==0)z=1;this[X+V]=(Q/G>>0)-z&255}return X+Z};D0.prototype.writeInt8=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,1,127,-128);if(Q<0)Q=255+Q+1;return this[X]=Q&255,X+1};D0.prototype.writeInt16LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,2,32767,-32768);return this[X]=Q&255,this[X+1]=Q>>>8,X+2};D0.prototype.writeInt16BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,2,32767,-32768);return this[X]=Q>>>8,this[X+1]=Q&255,X+2};D0.prototype.writeInt32LE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,4,2147483647,-2147483648);return this[X]=Q&255,this[X+1]=Q>>>8,this[X+2]=Q>>>16,this[X+3]=Q>>>24,X+4};D0.prototype.writeInt32BE=function $(Q,X,Z){if(Q=+Q,X=X>>>0,!Z)KX(this,Q,X,4,2147483647,-2147483648);if(Q<0)Q=4294967295+Q+1;return this[X]=Q>>>24,this[X+1]=Q>>>16,this[X+2]=Q>>>8,this[X+3]=Q&255,X+4};D0.prototype.writeBigInt64LE=vY(function $(Q,X=0){return jO(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});D0.prototype.writeBigInt64BE=vY(function $(Q,X=0){return _O(this,Q,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});D0.prototype.writeFloatLE=function $(Q,X,Z){return xO(this,Q,X,!0,Z)};D0.prototype.writeFloatBE=function $(Q,X,Z){return xO(this,Q,X,!1,Z)};D0.prototype.writeDoubleLE=function $(Q,X,Z){return kO(this,Q,X,!0,Z)};D0.prototype.writeDoubleBE=function $(Q,X,Z){return kO(this,Q,X,!1,Z)};D0.prototype.copy=function $(Q,X,Z,Y){if(!D0.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(!Z)Z=0;if(!Y&&Y!==0)Y=this.length;if(X>=Q.length)X=Q.length;if(!X)X=0;if(Y>0&&Y<Z)Y=Z;if(Y===Z)return 0;if(Q.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");if(Y>this.length)Y=this.length;if(Q.length-X<Y-Z)Y=Q.length-X+Z;let V=Y-Z;if(this===Q&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(X,Z,Y);else Uint8Array.prototype.set.call(Q,this.subarray(Z,Y),X);return V};D0.prototype.fill=function $(Q,X,Z,Y){if(typeof Q==="string"){if(typeof X==="string")Y=X,X=0,Z=this.length;else if(typeof Z==="string")Y=Z,Z=this.length;if(Y!==void 0&&typeof Y!=="string")throw new TypeError("encoding must be a string");if(typeof Y==="string"&&!D0.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(Q.length===1){let G=Q.charCodeAt(0);if(Y==="utf8"&&G<128||Y==="latin1")Q=G}}else if(typeof Q==="number")Q=Q&255;else if(typeof Q==="boolean")Q=Number(Q);if(X<0||this.length<X||this.length<Z)throw new RangeError("Out of range index");if(Z<=X)return this;if(X=X>>>0,Z=Z===void 0?this.length:Z>>>0,!Q)Q=0;let V;if(typeof Q==="number")for(V=X;V<Z;++V)this[V]=Q;else{let G=D0.isBuffer(Q)?Q:D0.from(Q,Y),z=G.length;if(z===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(V=0;V<Z-X;++V)this[V+X]=G[V%z]}return this};JA=/[^+/0-9A-Za-z-_]/g;KA=function(){let $=new Array(256);for(let Q=0;Q<16;++Q){let X=Q*16;for(let Z=0;Z<16;++Z)$[X+Z]="0123456789abcdef"[Q]+"0123456789abcdef"[Z]}return $}();OA=cU("resolveObjectURL"),zA=cU("isUtf8"),DA=cU("transcode"),LA=D0});var dU=A$((bj,gO)=>{var uU=null;gO.exports=function(){if(uU===null)uU={textEncoder:new TextEncoder,textDecoder:new TextDecoder};return uU}});var oU=A$((MA)=>{var lU=KZ(),qA=new Set(["buffer","view","utf8"]);class yO{constructor($){if(this.encode=$.encode||this.encode,this.decode=$.decode||this.decode,this.name=$.name||this.name,this.format=$.format||this.format,typeof this.encode!=="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!=="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!=="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!=="string"||!qA.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");if($.createViewTranscoder)this.createViewTranscoder=$.createViewTranscoder;if($.createBufferTranscoder)this.createBufferTranscoder=$.createBufferTranscoder;if($.createUTF8Transcoder)this.createUTF8Transcoder=$.createUTF8Transcoder}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new lU(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new lU(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new lU(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}MA.Encoding=yO});var iU=A$((FA)=>{var{Buffer:nU}=(c$(),X$(m$))||{},{Encoding:sU}=oU(),AA=dU();class gV extends sU{constructor($){super({...$,format:"buffer"})}createViewTranscoder(){return new yV({encode:this.encode,decode:($)=>this.decode(nU.from($.buffer,$.byteOffset,$.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class yV extends sU{constructor($){super({...$,format:"view"})}createBufferTranscoder(){return new gV({encode:($)=>{let Q=this.encode($);return nU.from(Q.buffer,Q.byteOffset,Q.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}class hO extends sU{constructor($){super({...$,format:"utf8"})}createBufferTranscoder(){return new gV({encode:($)=>nU.from(this.encode($),"utf8"),decode:($)=>this.decode($.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:$,textDecoder:Q}=AA();return new yV({encode:(X)=>$.encode(this.encode(X)),decode:(X)=>this.decode(Q.decode(X)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}FA.BufferFormat=gV;FA.ViewFormat=yV;FA.UTF8Format=hO});var cO=A$((EA)=>{var{Buffer:uQ}=(c$(),X$(m$))||{Buffer:{isBuffer:()=>!1}},{textEncoder:pO,textDecoder:bO}=dU()(),{BufferFormat:TW,ViewFormat:rU,UTF8Format:mO}=iU(),hV=($)=>$;EA.utf8=new mO({encode:function($){return uQ.isBuffer($)?$.toString("utf8"):ArrayBuffer.isView($)?bO.decode($):String($)},decode:hV,name:"utf8",createViewTranscoder(){return new rU({encode:function($){return ArrayBuffer.isView($)?$:pO.encode($)},decode:function($){return bO.decode($)},name:`${this.name}+view`})},createBufferTranscoder(){return new TW({encode:function($){return uQ.isBuffer($)?$:ArrayBuffer.isView($)?uQ.from($.buffer,$.byteOffset,$.byteLength):uQ.from(String($),"utf8")},decode:function($){return $.toString("utf8")},name:`${this.name}+buffer`})}});EA.json=new mO({encode:JSON.stringify,decode:JSON.parse,name:"json"});EA.buffer=new TW({encode:function($){return uQ.isBuffer($)?$:ArrayBuffer.isView($)?uQ.from($.buffer,$.byteOffset,$.byteLength):uQ.from(String($),"utf8")},decode:hV,name:"buffer",createViewTranscoder(){return new rU({encode:function($){return ArrayBuffer.isView($)?$:uQ.from(String($),"utf8")},decode:function($){return uQ.from($.buffer,$.byteOffset,$.byteLength)},name:`${this.name}+view`})}});EA.view=new rU({encode:function($){return ArrayBuffer.isView($)?$:pO.encode($)},decode:hV,name:"view",createBufferTranscoder(){return new TW({encode:function($){return uQ.isBuffer($)?$:ArrayBuffer.isView($)?uQ.from($.buffer,$.byteOffset,$.byteLength):uQ.from(String($),"utf8")},decode:hV,name:`${this.name}+buffer`})}});EA.hex=new TW({encode:function($){return uQ.isBuffer($)?$:uQ.from(String($),"hex")},decode:function($){return $.toString("hex")},name:"hex"});EA.base64=new TW({encode:function($){return uQ.isBuffer($)?$:uQ.from(String($),"base64")},decode:function($){return $.toString("base64")},name:"base64"})});var lO=A$((mA)=>{var uO=KZ(),pV=cO(),{Encoding:wA}=oU(),{BufferFormat:xA,ViewFormat:kA,UTF8Format:fA}=iU(),RW=Symbol("formats"),bV=Symbol("encodings"),vA=new Set(["buffer","view","utf8"]);class dO{constructor($){if(!Array.isArray($))throw new TypeError("The first argument 'formats' must be an array");else if(!$.every((Q)=>vA.has(Q)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[bV]=new Map,this[RW]=new Set($);for(let Q in pV)try{this.encoding(Q)}catch(X){if(X.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw X}}encodings(){return Array.from(new Set(this[bV].values()))}encoding($){let Q=this[bV].get($);if(Q===void 0){if(typeof $==="string"&&$!==""){if(Q=bA[$],!Q)throw new uO(`Encoding '${$}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else if(typeof $!=="object"||$===null)throw new TypeError("First argument 'encoding' must be a string or object");else Q=gA($);let{name:X,format:Z}=Q;if(!this[RW].has(Z))if(this[RW].has("view"))Q=Q.createViewTranscoder();else if(this[RW].has("buffer"))Q=Q.createBufferTranscoder();else if(this[RW].has("utf8"))Q=Q.createUTF8Transcoder();else throw new uO(`Encoding '${X}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let Y of[$,X,Q.name,Q.commonName])this[bV].set(Y,Q)}return Q}}mA.Transcoder=dO;function gA($){if($ instanceof wA)return $;let Q="type"in $&&typeof $.type==="string"?$.type:void 0,X=$.name||Q||`anonymous-${pA++}`;switch(yA($)){case"view":return new kA({...$,name:X});case"utf8":return new fA({...$,name:X});case"buffer":return new xA({...$,name:X});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function yA($){if("format"in $&&$.format!==void 0)return $.format;else if("buffer"in $&&typeof $.buffer==="boolean")return $.buffer?"buffer":"utf8";else if("code"in $&&Number.isInteger($.code))return"view";else return"buffer"}var hA={binary:pV.buffer,"utf-8":pV.utf8},bA={...pV,...hA},pA=0});var u8={};RQ(u8,{setMaxListeners:()=>Xz,once:()=>$z,listenerCount:()=>Zz,init:()=>gY,getMaxListeners:()=>Jz,getEventListeners:()=>Qz,default:()=>aA,captureRejectionSymbol:()=>rO,addAbortListener:()=>Gz,EventEmitter:()=>gY});function aO($,Q){var{_events:X}=$;if(Q[0]??=new Error("Unhandled error."),!X)throw Q[0];var Z=X[iO];if(Z)for(var Y of nO.call(Z))Y.apply($,Q);var V=X.error;if(!V)throw Q[0];for(var Y of nO.call(V))Y.apply($,Q);return!0}function lA($,Q,X,Z){Q.then(void 0,function(Y){queueMicrotask(()=>oA($,Y,X,Z))})}function oA($,Q,X,Z){if(typeof $[oO]==="function")$[oO](Q,X,...Z);else try{$[BJ]=!1,$.emit("error",Q)}finally{$[BJ]=!0}}function tO($,Q,X){X.warned=!0;let Z=new Error(`Possible EventEmitter memory leak detected. ${X.length} ${String(Q)} listeners added to [${$.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);Z.name="MaxListenersExceededWarning",Z.emitter=$,Z.type=Q,Z.count=X.length,console.warn(Z)}function eO($,Q,...X){this.removeListener($,Q),Q.apply(this,X)}function $z($,Q,X){var Z=X?.signal;if(Yz(Z,"options.signal"),Z?.aborted)throw new aU(void 0,{cause:Z?.reason});let{resolve:Y,reject:V,promise:G}=$newPromiseCapability(Promise),z=(F)=>{if($.removeListener(Q,L),Z!=null)mV(Z,"abort",A);V(F)},L=(...F)=>{if(typeof $.removeListener==="function")$.removeListener("error",z);if(Z!=null)mV(Z,"abort",A);Y(F)};if(sO($,Q,L,{once:!0}),Q!=="error"&&typeof $.once==="function")$.once("error",z);function A(){mV($,Q,L),mV($,"error",z),V(new aU(void 0,{cause:Z?.reason}))}if(Z!=null)sO(Z,"abort",A,{once:!0});return G}function Qz($,Q){return $.listeners(Q)}function Xz($,...Q){eU($,"setMaxListeners",0);var X;if(Q&&(X=Q.length))for(let Z=0;Z<X;Z++)Q[Z].setMaxListeners($);else jJ=$}function Zz($,Q){return $.listenerCount(Q)}function mV($,Q,X,Z){if(typeof $.removeListener==="function")$.removeListener(Q,X);else $.removeEventListener(Q,X,Z)}function sO($,Q,X,Z){if(typeof $.on==="function")if(Z.once)$.once(Q,X);else $.on(Q,X);else $.addEventListener(Q,X,Z)}function c8($,Q,X){let Z=new TypeError(`The "${$}" argument must be of type ${Q}. Received ${X}`);return Z.code="ERR_INVALID_ARG_TYPE",Z}function iA($,Q,X){let Z=new RangeError(`The "${$}" argument is out of range. It must be ${Q}. Received ${X}`);return Z.code="ERR_OUT_OF_RANGE",Z}function Yz($,Q){if($!==void 0&&($===null||typeof $!=="object"||!("aborted"in $)))throw c8(Q,"AbortSignal",$)}function eU($,Q,X,Z){if(typeof $!=="number")throw c8(Q,"number",$);if(X!=null&&$<X||Z!=null&&$>Z||(X!=null||Z!=null)&&Number.isNaN($))throw iA(Q,`${X!=null?`>= ${X}`:""}${X!=null&&Z!=null?" && ":""}${Z!=null?`<= ${Z}`:""}`,$)}function PW($){if(typeof $!=="function")throw new TypeError("The listener must be a function")}function rA($,Q){if(typeof $!=="boolean")throw c8(Q,"boolean",$)}function Jz($){return $?._maxListeners??jJ}function Gz($,Q){if($===void 0)throw c8("signal","AbortSignal",$);if(Yz($,"signal"),typeof Q!=="function")throw c8("listener","function",Q);let X;if($.aborted)queueMicrotask(()=>Q());else $.addEventListener("abort",Q,{__proto__:null,once:!0}),X=()=>{$.removeEventListener("abort",Q)};return{__proto__:null,[Symbol.dispose](){X?.()}}}var tU,BJ,iO,uA,dA,oO,rO,nO,jJ=10,gY=function $(Q){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[BJ]=Q?.captureRejections?Boolean(Q?.captureRejections):f$[BJ])this.emit=sA},f$,nA=function $(Q,...X){if(Q==="error")return aO(this,X);var{_events:Z}=this;if(Z===void 0)return!1;var Y=Z[Q];if(Y===void 0)return!1;let V=Y.length>1?Y.slice():Y;for(let G=0,{length:z}=V;G<z;G++){let L=V[G];switch(X.length){case 0:L.call(this);break;case 1:L.call(this,X[0]);break;case 2:L.call(this,X[0],X[1]);break;case 3:L.call(this,X[0],X[1],X[2]);break;default:L.apply(this,X);break}}return!0},sA=function $(Q,...X){if(Q==="error")return aO(this,X);var{_events:Z}=this;if(Z===void 0)return!1;var Y=Z[Q];if(Y===void 0)return!1;let V=Y.length>1?Y.slice():Y;for(let G=0,{length:z}=V;G<z;G++){let L=V[G],A;switch(X.length){case 0:A=L.call(this);break;case 1:A=L.call(this,X[0]);break;case 2:A=L.call(this,X[0],X[1]);break;case 3:A=L.call(this,X[0],X[1],X[2]);break;default:A=L.apply(this,X);break}if(A!==void 0&&typeof A?.then==="function"&&A.then===Promise.prototype.then)lA(this,A,Q,X)}return!0},aU,aA;var d8=G0(()=>{tU=Symbol.for,BJ=Symbol("kCapture"),iO=tU("events.errorMonitor"),uA=Symbol("events.maxEventTargetListeners"),dA=Symbol("events.maxEventTargetListenersWarned"),oO=tU("nodejs.rejection"),rO=tU("nodejs.rejection"),nO=Array.prototype.slice,f$=gY.prototype={};f$._events=void 0;f$._eventsCount=0;f$._maxListeners=void 0;f$.setMaxListeners=function $(Q){return eU(Q,"setMaxListeners",0),this._maxListeners=Q,this};f$.constructor=gY;f$.getMaxListeners=function $(){return this?._maxListeners??jJ};f$.emit=nA;f$.addListener=function $(Q,X){PW(X);var Z=this._events;if(!Z)Z=this._events={__proto__:null},this._eventsCount=0;else if(Z.newListener)this.emit("newListener",Q,X.listener??X);var Y=Z[Q];if(!Y)Z[Q]=[X],this._eventsCount++;else{Y.push(X);var V=this._maxListeners??jJ;if(V>0&&Y.length>V&&!Y.warned)tO(this,Q,Y)}return this};f$.on=f$.addListener;f$.prependListener=function $(Q,X){PW(X);var Z=this._events;if(!Z)Z=this._events={__proto__:null},this._eventsCount=0;else if(Z.newListener)this.emit("newListener",Q,X.listener??X);var Y=Z[Q];if(!Y)Z[Q]=[X],this._eventsCount++;else{Y.unshift(X);var V=this._maxListeners??jJ;if(V>0&&Y.length>V&&!Y.warned)tO(this,Q,Y)}return this};f$.once=function $(Q,X){PW(X);let Z=eO.bind(this,Q,X);return Z.listener=X,this.addListener(Q,Z),this};f$.prependOnceListener=function $(Q,X){PW(X);let Z=eO.bind(this,Q,X);return Z.listener=X,this.prependListener(Q,Z),this};f$.removeListener=function $(Q,X){PW(X);var{_events:Z}=this;if(!Z)return this;var Y=Z[Q];if(!Y)return this;var V=Y.length;let G=-1;for(let z=V-1;z>=0;z--)if(Y[z]===X||Y[z].listener===X){G=z;break}if(G<0)return this;if(G===0)Y.shift();else Y.splice(G,1);if(Y.length===0)delete Z[Q],this._eventsCount--;return this};f$.off=f$.removeListener;f$.removeAllListeners=function $(Q){var{_events:X}=this;if(Q&&X){if(X[Q])delete X[Q],this._eventsCount--}else this._events={__proto__:null};return this};f$.listeners=function $(Q){var{_events:X}=this;if(!X)return[];var Z=X[Q];if(!Z)return[];return Z.map((Y)=>Y.listener??Y)};f$.rawListeners=function $(Q){var{_events:X}=this;if(!X)return[];var Z=X[Q];if(!Z)return[];return Z.slice()};f$.listenerCount=function $(Q){var{_events:X}=this;if(!X)return 0;return X[Q]?.length??0};f$.eventNames=function $(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};f$[BJ]=!1;aU=class aU extends Error{constructor($="The operation was aborted",Q=void 0){if(Q!==void 0&&typeof Q!=="object")throw c8("options","Object",Q);super($,Q);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(gY,{captureRejections:{get(){return f$[BJ]},set($){rA($,"EventEmitter.captureRejections"),f$[BJ]=$},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return jJ},set:($)=>{eU($,"defaultMaxListeners",0),jJ=$}},kMaxEventTargetListeners:{value:uA,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:dA,enumerable:!1,configurable:!1,writable:!1}});Object.assign(gY,{once:$z,getEventListeners:Qz,getMaxListeners:Jz,setMaxListeners:Xz,EventEmitter:gY,usingDomains:!1,captureRejectionSymbol:rO,errorMonitor:iO,addAbortListener:Gz,init:gY,listenerCount:Zz});aA=gY});var Vz=A$((dj,Wz)=>{Wz.exports=typeof queueMicrotask==="function"?queueMicrotask:($)=>Promise.resolve().then($)});var EW=A$((tA)=>{var Kz=Vz();tA.fromCallback=function($,Q){if($===void 0){var X=new Promise(function(Z,Y){$=function(V,G){if(V)Y(V);else Z(G)}});$[Q!==void 0?Q:"promise"]=X}else if(typeof $!=="function")throw new TypeError("Callback must be a function");return $};tA.fromPromise=function($,Q){if(Q===void 0)return $;$.then(function(X){Kz(()=>Q(null,X))}).catch(function(X){Kz(()=>Q(X))})}});var cV=A$((QF)=>{QF.getCallback=function($,Q){return typeof $==="function"?$:Q};QF.getOptions=function($,Q){if(typeof $==="object"&&$!==null)return $;if(Q!==void 0)return Q;return{}}});var mY=A$((JF)=>{var{fromCallback:$6}=EW(),RX=KZ(),{getOptions:Q6,getCallback:Uz}=cV(),_J=Symbol("promise"),l8=Symbol("callback"),BZ=Symbol("working"),wJ=Symbol("handleOne"),sZ=Symbol("handleMany"),X6=Symbol("autoClose"),pY=Symbol("finishWork"),jZ=Symbol("returnMany"),yY=Symbol("closing"),IW=Symbol("handleClose"),uV=Symbol("closed"),SW=Symbol("closeCallbacks"),bY=Symbol("keyEncoding"),xJ=Symbol("valueEncoding"),Z6=Symbol("abortOnClose"),dV=Symbol("legacy"),Y6=Symbol("keys"),J6=Symbol("values"),hY=Symbol("limit"),vX=Symbol("count"),lV=Object.freeze({}),YF=()=>{},Oz=!1;class oV{constructor($,Q,X){if(typeof $!=="object"||$===null)throw new TypeError(`The first argument must be an abstract-level database, received ${$===null?"null":typeof $}`);if(typeof Q!=="object"||Q===null)throw new TypeError("The second argument must be an options object");this[uV]=!1,this[SW]=[],this[BZ]=!1,this[yY]=!1,this[X6]=!1,this[l8]=null,this[wJ]=this[wJ].bind(this),this[sZ]=this[sZ].bind(this),this[IW]=this[IW].bind(this),this[bY]=Q[bY],this[xJ]=Q[xJ],this[dV]=X,this[hY]=Number.isInteger(Q.limit)&&Q.limit>=0?Q.limit:1/0,this[vX]=0,this[Z6]=!!Q.abortOnClose,this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get count(){return this[vX]}get limit(){return this[hY]}next($){let Q;if($===void 0)Q=new Promise((X,Z)=>{$=(Y,V,G)=>{if(Y)Z(Y);else if(!this[dV])X(V);else if(V===void 0&&G===void 0)X();else X([V,G])}});else if(typeof $!=="function")throw new TypeError("Callback must be a function");if(this[yY])this.nextTick($,new RX("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[BZ])this.nextTick($,new RX("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else if(this[BZ]=!0,this[l8]=$,this[vX]>=this[hY])this.nextTick(this[wJ],null);else this._next(this[wJ]);return Q}_next($){this.nextTick($)}nextv($,Q,X){if(X=Uz(Q,X),X=$6(X,_J),Q=Q6(Q,lV),!Number.isInteger($))return this.nextTick(X,new TypeError("The first argument 'size' must be an integer")),X[_J];if(this[yY])this.nextTick(X,new RX("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[BZ])this.nextTick(X,new RX("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else{if($<1)$=1;if(this[hY]<1/0)$=Math.min($,this[hY]-this[vX]);if(this[BZ]=!0,this[l8]=X,$<=0)this.nextTick(this[sZ],null,[]);else this._nextv($,Q,this[sZ])}return X[_J]}_nextv($,Q,X){let Z=[],Y=(V,G,z)=>{if(V)return X(V);else if(this[dV]?G===void 0&&z===void 0:G===void 0)return X(null,Z);if(Z.push(this[dV]?[G,z]:G),Z.length===$)X(null,Z);else this._next(Y)};this._next(Y)}all($,Q){if(Q=Uz($,Q),Q=$6(Q,_J),$=Q6($,lV),this[yY])this.nextTick(Q,new RX("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));else if(this[BZ])this.nextTick(Q,new RX("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"}));else if(this[BZ]=!0,this[l8]=Q,this[X6]=!0,this[vX]>=this[hY])this.nextTick(this[sZ],null,[]);else this._all($,this[sZ]);return Q[_J]}_all($,Q){let X=this[vX],Z=[],Y=()=>{let G=this[hY]<1/0?Math.min(1000,this[hY]-X):1000;if(G<=0)this.nextTick(Q,null,Z);else this._nextv(G,lV,V)},V=(G,z)=>{if(G)Q(G);else if(z.length===0)Q(null,Z);else Z.push.apply(Z,z),X+=z.length,Y()};Y()}[pY](){let $=this[l8];if(this[Z6]&&$===null)return YF;if(this[BZ]=!1,this[l8]=null,this[yY])this._close(this[IW]);return $}[jZ]($,Q,X){if(this[X6])this.close($.bind(null,Q,X));else $(Q,X)}seek($,Q){if(Q=Q6(Q,lV),this[yY]);else if(this[BZ])throw new RX("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});else{let X=this.db.keyEncoding(Q.keyEncoding||this[bY]),Z=X.format;if(Q.keyEncoding!==Z)Q={...Q,keyEncoding:Z};let Y=this.db.prefixKey(X.encode($),Z);this._seek(Y,Q)}}_seek($,Q){throw new RX("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close($){if($=$6($,_J),this[uV])this.nextTick($);else if(this[yY])this[SW].push($);else if(this[yY]=!0,this[SW].push($),!this[BZ])this._close(this[IW]);else if(this[Z6])this[pY]()(new RX("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}));return $[_J]}_close($){this.nextTick($)}[IW](){this[uV]=!0,this.db.detachResource(this);let $=this[SW];this[SW]=[];for(let Q of $)Q()}async*[Symbol.asyncIterator](){try{let $;while(($=await this.next())!==void 0)yield $}finally{if(!this[uV])await this.close()}}}class NW extends oV{constructor($,Q){super($,Q,!0);this[Y6]=Q.keys!==!1,this[J6]=Q.values!==!1}[wJ]($,Q,X){let Z=this[pY]();if($)return Z($);try{Q=this[Y6]&&Q!==void 0?this[bY].decode(Q):void 0,X=this[J6]&&X!==void 0?this[xJ].decode(X):void 0}catch(Y){return Z(new kJ("entry",Y))}if(!(Q===void 0&&X===void 0))this[vX]++;Z(null,Q,X)}[sZ]($,Q){let X=this[pY]();if($)return this[jZ](X,$);try{for(let Z of Q){let Y=Z[0],V=Z[1];Z[0]=this[Y6]&&Y!==void 0?this[bY].decode(Y):void 0,Z[1]=this[J6]&&V!==void 0?this[xJ].decode(V):void 0}}catch(Z){return this[jZ](X,new kJ("entries",Z))}this[vX]+=Q.length,this[jZ](X,null,Q)}end($){if(!Oz&&typeof console!=="undefined")Oz=!0,console.warn(new RX("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}));return this.close($)}}class zz extends oV{constructor($,Q){super($,Q,!1)}[wJ]($,Q){let X=this[pY]();if($)return X($);try{Q=Q!==void 0?this[bY].decode(Q):void 0}catch(Z){return X(new kJ("key",Z))}if(Q!==void 0)this[vX]++;X(null,Q)}[sZ]($,Q){let X=this[pY]();if($)return this[jZ](X,$);try{for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];Q[Z]=Y!==void 0?this[bY].decode(Y):void 0}}catch(Z){return this[jZ](X,new kJ("keys",Z))}this[vX]+=Q.length,this[jZ](X,null,Q)}}class Hz extends oV{constructor($,Q){super($,Q,!1)}[wJ]($,Q){let X=this[pY]();if($)return X($);try{Q=Q!==void 0?this[xJ].decode(Q):void 0}catch(Z){return X(new kJ("value",Z))}if(Q!==void 0)this[vX]++;X(null,Q)}[sZ]($,Q){let X=this[pY]();if($)return this[jZ](X,$);try{for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];Q[Z]=Y!==void 0?this[xJ].decode(Y):void 0}}catch(Z){return this[jZ](X,new kJ("values",Z))}this[vX]+=Q.length,this[jZ](X,null,Q)}}class kJ extends RX{constructor($,Q){super(`Iterator could not decode ${$}`,{code:"LEVEL_DECODE_ERROR",cause:Q})}}for(let $ of["_ended property","_nexting property","_end method"])Object.defineProperty(NW.prototype,$.split(" ")[0],{get(){throw new RX(`The ${$} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new RX(`The ${$} has been removed`,{code:"LEVEL_LEGACY"})}});NW.keyEncoding=bY;NW.valueEncoding=xJ;JF.AbstractIterator=NW;JF.AbstractKeyIterator=zz;JF.AbstractValueIterator=Hz});var Dz=A$((OF)=>{var{AbstractKeyIterator:KF,AbstractValueIterator:UF}=mY(),fJ=Symbol("iterator"),BW=Symbol("callback"),o8=Symbol("handleOne"),vJ=Symbol("handleMany");class nV extends KF{constructor($,Q){super($,Q);this[fJ]=$.iterator({...Q,keys:!0,values:!1}),this[o8]=this[o8].bind(this),this[vJ]=this[vJ].bind(this)}}class G6 extends UF{constructor($,Q){super($,Q);this[fJ]=$.iterator({...Q,keys:!1,values:!0}),this[o8]=this[o8].bind(this),this[vJ]=this[vJ].bind(this)}}for(let $ of[nV,G6]){let Q=$===nV,X=Q?(Z)=>Z[0]:(Z)=>Z[1];$.prototype._next=function(Z){this[BW]=Z,this[fJ].next(this[o8])},$.prototype[o8]=function(Z,Y,V){let G=this[BW];if(Z)G(Z);else G(null,Q?Y:V)},$.prototype._nextv=function(Z,Y,V){this[BW]=V,this[fJ].nextv(Z,Y,this[vJ])},$.prototype._all=function(Z,Y){this[BW]=Y,this[fJ].all(Z,this[vJ])},$.prototype[vJ]=function(Z,Y){let V=this[BW];if(Z)V(Z);else V(null,Y.map(X))},$.prototype._seek=function(Z,Y){this[fJ].seek(Z,Y)},$.prototype._close=function(Z){this[fJ].close(Z)}}OF.DefaultKeyIterator=nV;OF.DefaultValueIterator=G6});var Lz=A$((MF)=>{var{AbstractIterator:DF,AbstractKeyIterator:LF,AbstractValueIterator:qF}=mY(),W6=KZ(),UX=Symbol("nut"),sV=Symbol("undefer"),iV=Symbol("factory");class V6 extends DF{constructor($,Q){super($,Q);this[UX]=null,this[iV]=()=>$.iterator(Q),this.db.defer(()=>this[sV]())}}class K6 extends LF{constructor($,Q){super($,Q);this[UX]=null,this[iV]=()=>$.keys(Q),this.db.defer(()=>this[sV]())}}class U6 extends qF{constructor($,Q){super($,Q);this[UX]=null,this[iV]=()=>$.values(Q),this.db.defer(()=>this[sV]())}}for(let $ of[V6,K6,U6])$.prototype[sV]=function(){if(this.db.status==="open")this[UX]=this[iV]()},$.prototype._next=function(Q){if(this[UX]!==null)this[UX].next(Q);else if(this.db.status==="opening")this.db.defer(()=>this._next(Q));else this.nextTick(Q,new W6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._nextv=function(Q,X,Z){if(this[UX]!==null)this[UX].nextv(Q,X,Z);else if(this.db.status==="opening")this.db.defer(()=>this._nextv(Q,X,Z));else this.nextTick(Z,new W6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._all=function(Q,X){if(this[UX]!==null)this[UX].all(X);else if(this.db.status==="opening")this.db.defer(()=>this._all(Q,X));else this.nextTick(X,new W6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},$.prototype._seek=function(Q,X){if(this[UX]!==null)this[UX]._seek(Q,X);else if(this.db.status==="opening")this.db.defer(()=>this._seek(Q,X))},$.prototype._close=function(Q){if(this[UX]!==null)this[UX].close(Q);else if(this.db.status==="opening")this.db.defer(()=>this._close(Q));else this.nextTick(Q)};MF.DeferredIterator=V6;MF.DeferredKeyIterator=K6;MF.DeferredValueIterator=U6});var O6=A$((PF)=>{var{fromCallback:qz}=EW(),rV=KZ(),{getCallback:TF,getOptions:RF}=cV(),aV=Symbol("promise"),gX=Symbol("status"),n8=Symbol("operations"),jW=Symbol("finishClose"),s8=Symbol("closeCallbacks");class Mz{constructor($){if(typeof $!=="object"||$===null)throw new TypeError(`The first argument must be an abstract-level database, received ${$===null?"null":typeof $}`);this[n8]=[],this[s8]=[],this[gX]="open",this[jW]=this[jW].bind(this),this.db=$,this.db.attachResource(this),this.nextTick=$.nextTick}get length(){return this[n8].length}put($,Q,X){if(this[gX]!=="open")throw new rV("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let Z=this.db._checkKey($)||this.db._checkValue(Q);if(Z)throw Z;let Y=X&&X.sublevel!=null?X.sublevel:this.db,V=X,G=Y.keyEncoding(X&&X.keyEncoding),z=Y.valueEncoding(X&&X.valueEncoding),L=G.format;if(X={...X,keyEncoding:L,valueEncoding:z.format},Y!==this.db)X.sublevel=null;let A=Y.prefixKey(G.encode($),L),F=z.encode(Q);return this._put(A,F,X),this[n8].push({...V,type:"put",key:$,value:Q}),this}_put($,Q,X){}del($,Q){if(this[gX]!=="open")throw new rV("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let X=this.db._checkKey($);if(X)throw X;let Z=Q&&Q.sublevel!=null?Q.sublevel:this.db,Y=Q,V=Z.keyEncoding(Q&&Q.keyEncoding),G=V.format;if(Q={...Q,keyEncoding:G},Z!==this.db)Q.sublevel=null;return this._del(Z.prefixKey(V.encode($),G),Q),this[n8].push({...Y,type:"del",key:$}),this}_del($,Q){}clear(){if(this[gX]!=="open")throw new rV("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[n8]=[],this}_clear(){}write($,Q){if(Q=TF($,Q),Q=qz(Q,aV),$=RF($),this[gX]!=="open")this.nextTick(Q,new rV("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}));else if(this.length===0)this.close(Q);else this[gX]="writing",this._write($,(X)=>{if(this[gX]="closing",this[s8].push(()=>Q(X)),!X)this.db.emit("batch",this[n8]);this._close(this[jW])});return Q[aV]}_write($,Q){}close($){if($=qz($,aV),this[gX]==="closing")this[s8].push($);else if(this[gX]==="closed")this.nextTick($);else if(this[s8].push($),this[gX]!=="writing")this[gX]="closing",this._close(this[jW]);return $[aV]}_close($){this.nextTick($)}[jW](){this[gX]="closed",this.db.detachResource(this);let $=this[s8];this[s8]=[];for(let Q of $)Q()}}PF.AbstractChainedBatch=Mz});var Az=A$((NF)=>{var{AbstractChainedBatch:IF}=O6(),SF=KZ(),i8=Symbol("encoded");class Cz extends IF{constructor($){super($);this[i8]=[]}_put($,Q,X){this[i8].push({...X,type:"put",key:$,value:Q})}_del($,Q){this[i8].push({...Q,type:"del",key:$})}_clear(){this[i8]=[]}_write($,Q){if(this.db.status==="opening")this.db.defer(()=>this._write($,Q));else if(this.db.status==="open")if(this[i8].length===0)this.nextTick(Q);else this.db._batch(this[i8],$,Q);else this.nextTick(Q,new SF("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}NF.DefaultChainedBatch=Cz});var Rz=A$((tj,Tz)=>{var Fz=KZ(),jF=Object.prototype.hasOwnProperty,_F=new Set(["lt","lte","gt","gte"]);Tz.exports=function($,Q){let X={};for(let Z in $){if(!jF.call($,Z))continue;if(Z==="keyEncoding"||Z==="valueEncoding")continue;if(Z==="start"||Z==="end")throw new Fz(`The legacy range option '${Z}' has been removed`,{code:"LEVEL_LEGACY"});else if(Z==="encoding")throw new Fz("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});if(_F.has(Z))X[Z]=Q.encode($[Z]);else X[Z]=$[Z]}return X.reverse=!!X.reverse,X.limit=Number.isInteger(X.limit)&&X.limit>=0?X.limit:-1,X}});var z6=A$((ej,Ez)=>{/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Pz;Ez.exports=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:global):($)=>(Pz||(Pz=Promise.resolve())).then($).catch((Q)=>setTimeout(()=>{throw Q},0))});var Nz=A$(($_,Sz)=>{var Iz=z6();Sz.exports=function($,...Q){if(Q.length===0)Iz($);else Iz(()=>$(...Q))}});var Bz=A$((fF)=>{var{AbstractIterator:wF,AbstractKeyIterator:xF,AbstractValueIterator:kF}=mY(),r8=Symbol("unfix"),UZ=Symbol("iterator"),gJ=Symbol("handleOne"),cY=Symbol("handleMany"),iZ=Symbol("callback");class tV extends wF{constructor($,Q,X,Z){super($,Q);this[UZ]=X,this[r8]=Z,this[gJ]=this[gJ].bind(this),this[cY]=this[cY].bind(this),this[iZ]=null}[gJ]($,Q,X){let Z=this[iZ];if($)return Z($);if(Q!==void 0)Q=this[r8](Q);Z($,Q,X)}[cY]($,Q){let X=this[iZ];if($)return X($);for(let Z of Q){let Y=Z[0];if(Y!==void 0)Z[0]=this[r8](Y)}X($,Q)}}class eV extends xF{constructor($,Q,X,Z){super($,Q);this[UZ]=X,this[r8]=Z,this[gJ]=this[gJ].bind(this),this[cY]=this[cY].bind(this),this[iZ]=null}[gJ]($,Q){let X=this[iZ];if($)return X($);if(Q!==void 0)Q=this[r8](Q);X($,Q)}[cY]($,Q){let X=this[iZ];if($)return X($);for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];if(Y!==void 0)Q[Z]=this[r8](Y)}X($,Q)}}class $1 extends kF{constructor($,Q,X){super($,Q);this[UZ]=X}}for(let $ of[tV,eV])$.prototype._next=function(Q){this[iZ]=Q,this[UZ].next(this[gJ])},$.prototype._nextv=function(Q,X,Z){this[iZ]=Z,this[UZ].nextv(Q,X,this[cY])},$.prototype._all=function(Q,X){this[iZ]=X,this[UZ].all(Q,this[cY])};for(let $ of[$1])$.prototype._next=function(Q){this[UZ].next(Q)},$.prototype._nextv=function(Q,X,Z){this[UZ].nextv(Q,X,Z)},$.prototype._all=function(Q,X){this[UZ].all(Q,X)};for(let $ of[tV,eV,$1])$.prototype._seek=function(Q,X){this[UZ].seek(Q,X)},$.prototype._close=function(Q){this[UZ].close(Q)};fF.AbstractSublevelIterator=tV;fF.AbstractSublevelKeyIterator=eV;fF.AbstractSublevelValueIterator=$1});var kz=A$((X_,xz)=>{var H6=KZ(),{Buffer:q6}=(c$(),X$(m$))||{},{AbstractSublevelIterator:hF,AbstractSublevelKeyIterator:bF,AbstractSublevelValueIterator:pF}=Bz(),rZ=Symbol("prefix"),jz=Symbol("upperBound"),_W=Symbol("prefixRange"),PX=Symbol("parent"),D6=Symbol("unfix"),_z=new TextEncoder,mF={separator:"!"};xz.exports=function({AbstractLevel:$}){class Q extends ${static defaults(X){if(typeof X==="string")throw new H6("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});else if(X&&X.open)throw new H6("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});if(X==null)return mF;else if(!X.separator)return{...X,separator:"!"};else return X}constructor(X,Z,Y){let{separator:V,manifest:G,...z}=Q.defaults(Y);Z=uF(Z,V);let L=V.charCodeAt(0)+1,A=X[PX]||X;if(!_z.encode(Z).every((q)=>q>L&&q<127))throw new H6(`Prefix must use bytes > ${L} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(cF(A,G),z);let F=(X.prefix||"")+V+Z+V,C=F.slice(0,-1)+String.fromCharCode(L);this[PX]=A,this[rZ]=new M6(F),this[jz]=new M6(C),this[D6]=new wz,this.nextTick=A.nextTick}prefixKey(X,Z){if(Z==="utf8")return this[rZ].utf8+X;else if(X.byteLength===0)return this[rZ][Z];else if(Z==="view"){let Y=this[rZ].view,V=new Uint8Array(Y.byteLength+X.byteLength);return V.set(Y,0),V.set(X,Y.byteLength),V}else{let Y=this[rZ].buffer;return q6.concat([Y,X],Y.byteLength+X.byteLength)}}[_W](X,Z){if(X.gte!==void 0)X.gte=this.prefixKey(X.gte,Z);else if(X.gt!==void 0)X.gt=this.prefixKey(X.gt,Z);else X.gte=this[rZ][Z];if(X.lte!==void 0)X.lte=this.prefixKey(X.lte,Z);else if(X.lt!==void 0)X.lt=this.prefixKey(X.lt,Z);else X.lte=this[jz][Z]}get prefix(){return this[rZ].utf8}get db(){return this[PX]}_open(X,Z){this[PX].open({passive:!0},Z)}_put(X,Z,Y,V){this[PX].put(X,Z,Y,V)}_get(X,Z,Y){this[PX].get(X,Z,Y)}_getMany(X,Z,Y){this[PX].getMany(X,Z,Y)}_del(X,Z,Y){this[PX].del(X,Z,Y)}_batch(X,Z,Y){this[PX].batch(X,Z,Y)}_clear(X,Z){this[_W](X,X.keyEncoding),this[PX].clear(X,Z)}_iterator(X){this[_W](X,X.keyEncoding);let Z=this[PX].iterator(X),Y=this[D6].get(this[rZ].utf8.length,X.keyEncoding);return new hF(this,X,Z,Y)}_keys(X){this[_W](X,X.keyEncoding);let Z=this[PX].keys(X),Y=this[D6].get(this[rZ].utf8.length,X.keyEncoding);return new bF(this,X,Z,Y)}_values(X){this[_W](X,X.keyEncoding);let Z=this[PX].values(X);return new pF(this,X,Z)}}return{AbstractSublevel:Q}};var cF=function($,Q){return{...$.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...Q,encodings:{utf8:L6($,"utf8"),buffer:L6($,"buffer"),view:L6($,"view")}}},L6=function($,Q){return $.supports.encodings[Q]?$.keyEncoding(Q).name===Q:!1};class M6{constructor($){this.utf8=$,this.view=_z.encode($),this.buffer=q6?q6.from(this.view.buffer,0,this.view.byteLength):{}}}class wz{constructor(){this.cache=new Map}get($,Q){let X=this.cache.get(Q);if(X===void 0){if(Q==="view")X=function(Z,Y){return Y.subarray(Z)}.bind(null,$);else X=function(Z,Y){return Y.slice(Z)}.bind(null,$);this.cache.set(Q,X)}return X}}var uF=function($,Q){let X=0,Z=$.length;while(X<Z&&$[X]===Q)X++;while(Z>X&&$[Z-1]===Q)Z--;return $.slice(X,Z)}});var T6=A$(($T)=>{var{supports:dF}=HO(),{Transcoder:lF}=lO(),{EventEmitter:oF}=(d8(),X$(u8)),{fromCallback:uY}=EW(),OZ=KZ(),{AbstractIterator:yJ}=mY(),{DefaultKeyIterator:nF,DefaultValueIterator:sF}=Dz(),{DeferredIterator:iF,DeferredKeyIterator:rF,DeferredValueIterator:aF}=Lz(),{DefaultChainedBatch:fz}=Az(),{getCallback:hJ,getOptions:dY}=cV(),Q1=Rz(),J$=Symbol("promise"),aZ=Symbol("landed"),bJ=Symbol("resources"),C6=Symbol("closeResources"),wW=Symbol("operations"),xW=Symbol("undefer"),X1=Symbol("deferOpen"),vz=Symbol("options"),U$=Symbol("status"),pJ=Symbol("defaultOptions"),a8=Symbol("transcoder"),Z1=Symbol("keyEncoding"),A6=Symbol("valueEncoding"),tF=()=>{};class Y1 extends oF{constructor($,Q){super();if(typeof $!=="object"||$===null)throw new TypeError("The first argument 'manifest' must be an object");Q=dY(Q);let{keyEncoding:X,valueEncoding:Z,passive:Y,...V}=Q;this[bJ]=new Set,this[wW]=[],this[X1]=!0,this[vz]=V,this[U$]="opening",this.supports=dF($,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:$.snapshots!==!1,permanence:$.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:$.encodings||{},events:Object.assign({},$.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[a8]=new lF(eF(this)),this[Z1]=this[a8].encoding(X||"utf8"),this[A6]=this[a8].encoding(Z||"utf8");for(let G of this[a8].encodings())if(!this.supports.encodings[G.commonName])this.supports.encodings[G.commonName]=!0;this[pJ]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Z1].commonName,valueEncoding:this[A6].commonName}),key:Object.freeze({keyEncoding:this[Z1].commonName})},this.nextTick(()=>{if(this[X1])this.open({passive:!1},tF)})}get status(){return this[U$]}keyEncoding($){return this[a8].encoding($!=null?$:this[Z1])}valueEncoding($){return this[a8].encoding($!=null?$:this[A6])}open($,Q){Q=hJ($,Q),Q=uY(Q,J$),$={...this[vz],...dY($)},$.createIfMissing=$.createIfMissing!==!1,$.errorIfExists=!!$.errorIfExists;let X=(Z)=>{if(this[U$]==="closing"||this[U$]==="opening")this.once(aZ,Z?()=>X(Z):X);else if(this[U$]!=="open")Q(new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:Z}));else Q()};if($.passive)if(this[U$]==="opening")this.once(aZ,X);else this.nextTick(X);else if(this[U$]==="closed"||this[X1])this[X1]=!1,this[U$]="opening",this.emit("opening"),this._open($,(Z)=>{if(Z){this[U$]="closed",this[C6](()=>{this.emit(aZ),X(Z)}),this[xW]();return}if(this[U$]="open",this[xW](),this.emit(aZ),this[U$]==="open")this.emit("open");if(this[U$]==="open")this.emit("ready");X()});else if(this[U$]==="open")this.nextTick(X);else this.once(aZ,()=>this.open($,Q));return Q[J$]}_open($,Q){this.nextTick(Q)}close($){$=uY($,J$);let Q=(X)=>{if(this[U$]==="opening"||this[U$]==="closing")this.once(aZ,X?Q(X):Q);else if(this[U$]!=="closed")$(new OZ("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:X}));else $()};if(this[U$]==="open"){this[U$]="closing",this.emit("closing");let X=(Z)=>{this[U$]="open",this[xW](),this.emit(aZ),Q(Z)};this[C6](()=>{this._close((Z)=>{if(Z)return X(Z);if(this[U$]="closed",this[xW](),this.emit(aZ),this[U$]==="closed")this.emit("closed");Q()})})}else if(this[U$]==="closed")this.nextTick(Q);else this.once(aZ,()=>this.close($));return $[J$]}[C6]($){if(this[bJ].size===0)return this.nextTick($);let Q=this[bJ].size,X=!0,Z=()=>{if(--Q===0)if(X)this.nextTick($);else $()};for(let Y of this[bJ])Y.close(Z);X=!1,this[bJ].clear()}_close($){this.nextTick($)}get($,Q,X){if(X=hJ(Q,X),X=uY(X,J$),Q=dY(Q,this[pJ].entry),this[U$]==="opening")return this.defer(()=>this.get($,Q,X)),X[J$];if(t8(this,X))return X[J$];let Z=this._checkKey($);if(Z)return this.nextTick(X,Z),X[J$];let Y=this.keyEncoding(Q.keyEncoding),V=this.valueEncoding(Q.valueEncoding),G=Y.format,z=V.format;if(Q.keyEncoding!==G||Q.valueEncoding!==z)Q=Object.assign({},Q,{keyEncoding:G,valueEncoding:z});return this._get(this.prefixKey(Y.encode($),G),Q,(L,A)=>{if(L){if(L.code==="LEVEL_NOT_FOUND"||L.notFound||/NotFound/i.test(L)){if(!L.code)L.code="LEVEL_NOT_FOUND";if(!L.notFound)L.notFound=!0;if(!L.status)L.status=404}return X(L)}try{A=V.decode(A)}catch(F){return X(new OZ("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:F}))}X(null,A)}),X[J$]}_get($,Q,X){this.nextTick(X,new Error("NotFound"))}getMany($,Q,X){if(X=hJ(Q,X),X=uY(X,J$),Q=dY(Q,this[pJ].entry),this[U$]==="opening")return this.defer(()=>this.getMany($,Q,X)),X[J$];if(t8(this,X))return X[J$];if(!Array.isArray($))return this.nextTick(X,new TypeError("The first argument 'keys' must be an array")),X[J$];if($.length===0)return this.nextTick(X,null,[]),X[J$];let Z=this.keyEncoding(Q.keyEncoding),Y=this.valueEncoding(Q.valueEncoding),V=Z.format,G=Y.format;if(Q.keyEncoding!==V||Q.valueEncoding!==G)Q=Object.assign({},Q,{keyEncoding:V,valueEncoding:G});let z=new Array($.length);for(let L=0;L<$.length;L++){let A=$[L],F=this._checkKey(A);if(F)return this.nextTick(X,F),X[J$];z[L]=this.prefixKey(Z.encode(A),V)}return this._getMany(z,Q,(L,A)=>{if(L)return X(L);try{for(let F=0;F<A.length;F++)if(A[F]!==void 0)A[F]=Y.decode(A[F])}catch(F){return X(new OZ(`Could not decode one or more of ${A.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:F}))}X(null,A)}),X[J$]}_getMany($,Q,X){this.nextTick(X,null,new Array($.length).fill(void 0))}put($,Q,X,Z){if(Z=hJ(X,Z),Z=uY(Z,J$),X=dY(X,this[pJ].entry),this[U$]==="opening")return this.defer(()=>this.put($,Q,X,Z)),Z[J$];if(t8(this,Z))return Z[J$];let Y=this._checkKey($)||this._checkValue(Q);if(Y)return this.nextTick(Z,Y),Z[J$];let V=this.keyEncoding(X.keyEncoding),G=this.valueEncoding(X.valueEncoding),z=V.format,L=G.format;if(X.keyEncoding!==z||X.valueEncoding!==L)X=Object.assign({},X,{keyEncoding:z,valueEncoding:L});let A=this.prefixKey(V.encode($),z),F=G.encode(Q);return this._put(A,F,X,(C)=>{if(C)return Z(C);this.emit("put",$,Q),Z()}),Z[J$]}_put($,Q,X,Z){this.nextTick(Z)}del($,Q,X){if(X=hJ(Q,X),X=uY(X,J$),Q=dY(Q,this[pJ].key),this[U$]==="opening")return this.defer(()=>this.del($,Q,X)),X[J$];if(t8(this,X))return X[J$];let Z=this._checkKey($);if(Z)return this.nextTick(X,Z),X[J$];let Y=this.keyEncoding(Q.keyEncoding),V=Y.format;if(Q.keyEncoding!==V)Q=Object.assign({},Q,{keyEncoding:V});return this._del(this.prefixKey(Y.encode($),V),Q,(G)=>{if(G)return X(G);this.emit("del",$),X()}),X[J$]}_del($,Q,X){this.nextTick(X)}batch($,Q,X){if(!arguments.length){if(this[U$]==="opening")return new fz(this);if(this[U$]!=="open")throw new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof $==="function")X=$;else X=hJ(Q,X);if(X=uY(X,J$),Q=dY(Q,this[pJ].empty),this[U$]==="opening")return this.defer(()=>this.batch($,Q,X)),X[J$];if(t8(this,X))return X[J$];if(!Array.isArray($))return this.nextTick(X,new TypeError("The first argument 'operations' must be an array")),X[J$];if($.length===0)return this.nextTick(X),X[J$];let Z=new Array($.length),{keyEncoding:Y,valueEncoding:V,...G}=Q;for(let z=0;z<$.length;z++){if(typeof $[z]!=="object"||$[z]===null)return this.nextTick(X,new TypeError("A batch operation must be an object")),X[J$];let L=Object.assign({},$[z]);if(L.type!=="put"&&L.type!=="del")return this.nextTick(X,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),X[J$];let A=this._checkKey(L.key);if(A)return this.nextTick(X,A),X[J$];let F=L.sublevel!=null?L.sublevel:this,C=F.keyEncoding(L.keyEncoding||Y),q=C.format;if(L.key=F.prefixKey(C.encode(L.key),q),L.keyEncoding=q,L.type==="put"){let R=this._checkValue(L.value);if(R)return this.nextTick(X,R),X[J$];let I=F.valueEncoding(L.valueEncoding||V);L.value=I.encode(L.value),L.valueEncoding=I.format}if(F!==this)L.sublevel=null;Z[z]=L}return this._batch(Z,G,(z)=>{if(z)return X(z);this.emit("batch",$),X()}),X[J$]}_batch($,Q,X){this.nextTick(X)}sublevel($,Q){return this._sublevel($,F6.defaults(Q))}_sublevel($,Q){return new F6(this,$,Q)}prefixKey($,Q){return $}clear($,Q){if(Q=hJ($,Q),Q=uY(Q,J$),$=dY($,this[pJ].empty),this[U$]==="opening")return this.defer(()=>this.clear($,Q)),Q[J$];if(t8(this,Q))return Q[J$];let X=$,Z=this.keyEncoding($.keyEncoding);if($=Q1($,Z),$.keyEncoding=Z.format,$.limit===0)this.nextTick(Q);else this._clear($,(Y)=>{if(Y)return Q(Y);this.emit("clear",X),Q()});return Q[J$]}_clear($,Q){this.nextTick(Q)}iterator($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=Q1($,Q),$.keys=$.keys!==!1,$.values=$.values!==!1,$[yJ.keyEncoding]=Q,$[yJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[U$]==="opening")return new iF(this,$);else if(this[U$]!=="open")throw new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator($)}_iterator($){return new yJ(this,$)}keys($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=Q1($,Q),$[yJ.keyEncoding]=Q,$[yJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[U$]==="opening")return new rF(this,$);else if(this[U$]!=="open")throw new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys($)}_keys($){return new nF(this,$)}values($){let Q=this.keyEncoding($&&$.keyEncoding),X=this.valueEncoding($&&$.valueEncoding);if($=Q1($,Q),$[yJ.keyEncoding]=Q,$[yJ.valueEncoding]=X,$.keyEncoding=Q.format,$.valueEncoding=X.format,this[U$]==="opening")return new aF(this,$);else if(this[U$]!=="open")throw new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values($)}_values($){return new sF(this,$)}defer($){if(typeof $!=="function")throw new TypeError("The first argument must be a function");this[wW].push($)}[xW](){if(this[wW].length===0)return;let $=this[wW];this[wW]=[];for(let Q of $)Q()}attachResource($){if(typeof $!=="object"||$===null||typeof $.close!=="function")throw new TypeError("The first argument must be a resource object");this[bJ].add($)}detachResource($){this[bJ].delete($)}_chainedBatch(){return new fz(this)}_checkKey($){if($===null||$===void 0)return new OZ("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue($){if($===null||$===void 0)return new OZ("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}Y1.prototype.nextTick=Nz();var{AbstractSublevel:F6}=kz()({AbstractLevel:Y1});$T.AbstractLevel=Y1;$T.AbstractSublevel=F6;var t8=function($,Q){if($[U$]!=="open")return $.nextTick(Q,new OZ("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0;return!1},eF=function($){return Object.keys($.supports.encodings).filter((Q)=>!!$.supports.encodings[Q])}});var R6=A$((ZT)=>{ZT.AbstractLevel=T6().AbstractLevel;ZT.AbstractSublevel=T6().AbstractSublevel;ZT.AbstractIterator=mY().AbstractIterator;ZT.AbstractKeyIterator=mY().AbstractKeyIterator;ZT.AbstractValueIterator=mY().AbstractValueIterator;ZT.AbstractChainedBatch=O6().AbstractChainedBatch});var yz=A$((J_,gz)=>{/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */gz.exports=OT;var UT=z6();function OT($,Q,X){if(typeof Q!=="number")throw new Error("second argument must be a Number");let Z,Y,V,G,z,L=!0,A;if(Array.isArray($))Z=[],V=Y=$.length;else G=Object.keys($),Z={},V=Y=G.length;function F(q){function R(){if(X)X(q,Z);X=null}if(L)UT(R);else R()}function C(q,R,I){if(Z[q]=I,R)z=!0;if(--V===0||R)F(R);else if(!z&&A<Y){let S;if(G)S=G[A],A+=1,$[S](function(N,B){C(S,N,B)});else S=A,A+=1,$[S](function(N,B){C(S,N,B)})}}if(A=Q,!V)F(null);else if(G)G.some(function(q,R){if($[q](function(I,S){C(q,I,S)}),R===Q-1)return!0;return!1});else $.some(function(q,R){if(q(function(I,S){C(R,I,S)}),R===Q-1)return!0;return!1});L=!1}});var P6=A$((G_,hz)=>{hz.exports=function $(Q){let X=Q.gte!==void 0?Q.gte:Q.gt!==void 0?Q.gt:void 0,Z=Q.lte!==void 0?Q.lte:Q.lt!==void 0?Q.lt:void 0,Y=Q.gte===void 0,V=Q.lte===void 0;if(X!==void 0&&Z!==void 0)return IDBKeyRange.bound(X,Z,Y,V);else if(X!==void 0)return IDBKeyRange.lowerBound(X,Y);else if(Z!==void 0)return IDBKeyRange.upperBound(Z,V);else return null}});var E6=A$((W_,bz)=>{var zT=new TextEncoder;bz.exports=function($){if($ instanceof Uint8Array)return $;else if($ instanceof ArrayBuffer)return new Uint8Array($);else return zT.encode($)}});var dz=A$((DT)=>{var{AbstractIterator:HT}=R6(),pz=P6(),J1=E6(),_Z=Symbol("cache"),tZ=Symbol("finished"),EX=Symbol("options"),eZ=Symbol("currentOptions"),mJ=Symbol("position"),I6=Symbol("location"),e8=Symbol("first"),mz={};class uz extends HT{constructor($,Q,X){super($,X);this[_Z]=[],this[tZ]=this.limit===0,this[EX]=X,this[eZ]={...X},this[mJ]=void 0,this[I6]=Q,this[e8]=!0}_nextv($,Q,X){if(this[e8]=!1,this[tZ])return this.nextTick(X,null,[]);else if(this[_Z].length>0)return $=Math.min($,this[_Z].length),this.nextTick(X,null,this[_Z].splice(0,$));if(this[mJ]!==void 0)if(this[EX].reverse)this[eZ].lt=this[mJ],this[eZ].lte=void 0;else this[eZ].gt=this[mJ],this[eZ].gte=void 0;let Z;try{Z=pz(this[eZ])}catch(z){return this[tZ]=!0,this.nextTick(X,null,[])}let Y=this.db.db.transaction([this[I6]],"readonly"),V=Y.objectStore(this[I6]),G=[];if(!this[EX].reverse){let z,L,A=()=>{if(z===void 0||L===void 0)return;let F=Math.max(z.length,L.length);if(F===0||$===1/0)this[tZ]=!0;else this[mJ]=z[F-1];G.length=F;for(let C=0;C<F;C++){let q=z[C],R=L[C];G[C]=[this[EX].keys&&q!==void 0?J1(q):void 0,this[EX].values&&R!==void 0?J1(R):void 0]}cz(Y)};if(this[EX].keys||$<1/0)V.getAllKeys(Z,$<1/0?$:void 0).onsuccess=(F)=>{z=F.target.result,A()};else z=[],this.nextTick(A);if(this[EX].values)V.getAll(Z,$<1/0?$:void 0).onsuccess=(F)=>{L=F.target.result,A()};else L=[],this.nextTick(A)}else{let z=!this[EX].values&&V.openKeyCursor?"openKeyCursor":"openCursor";V[z](Z,"prev").onsuccess=(L)=>{let A=L.target.result;if(A){let{key:F,value:C}=A;if(this[mJ]=F,G.push([this[EX].keys&&F!==void 0?J1(F):void 0,this[EX].values&&C!==void 0?J1(C):void 0]),G.length<$)A.continue();else cz(Y)}else this[tZ]=!0}}Y.onabort=()=>{X(Y.error||new Error("aborted by user")),X=null},Y.oncomplete=()=>{X(null,G),X=null}}_next($){if(this[_Z].length>0){let[Q,X]=this[_Z].shift();this.nextTick($,null,Q,X)}else if(this[tZ])this.nextTick($);else{let Q=Math.min(100,this.limit-this.count);if(this[e8])this[e8]=!1,Q=1;this._nextv(Q,mz,(X,Z)=>{if(X)return $(X);this[_Z]=Z,this._next($)})}}_all($,Q){this[e8]=!1;let X=this[_Z].splice(0,this[_Z].length),Z=this.limit-this.count-X.length;if(Z<=0)return this.nextTick(Q,null,X);this._nextv(Z,mz,(Y,V)=>{if(Y)return Q(Y);if(X.length>0)V=X.concat(V);Q(null,V)})}_seek($,Q){this[e8]=!0,this[_Z]=[],this[tZ]=!1,this[mJ]=void 0,this[eZ]={...this[EX]};let X;try{X=pz(this[EX])}catch(Z){this[tZ]=!0;return}if(X!==null&&!X.includes($))this[tZ]=!0;else if(this[EX].reverse)this[eZ].lte=$;else this[eZ].gte=$}}DT.Iterator=uz;function cz($){if(typeof $.commit==="function")$.commit()}});var oz=A$((K_,lz)=>{lz.exports=function $(Q,X,Z,Y,V){if(Y.limit===0)return Q.nextTick(V);let G=Q.db.transaction([X],"readwrite"),z=G.objectStore(X),L=0;G.oncomplete=function(){V()},G.onabort=function(){V(G.error||new Error("aborted by user"))};let A=z.openKeyCursor?"openKeyCursor":"openCursor",F=Y.reverse?"prev":"next";z[A](Z,F).onsuccess=function(C){let q=C.target.result;if(q)z.delete(q.key).onsuccess=function(){if(Y.limit<=0||++L<Y.limit)q.continue()}}}});var rz=A$((RT)=>{var{AbstractLevel:qT}=R6(),nz=KZ(),MT=yz(),{fromCallback:CT}=EW(),{Iterator:AT}=dz(),sz=E6(),FT=oz(),TT=P6(),kW=Symbol("idb"),S6=Symbol("namePrefix"),$Y=Symbol("location"),N6=Symbol("version"),cJ=Symbol("store"),fW=Symbol("onComplete"),iz=Symbol("promise");class B6 extends qT{constructor($,Q,X){if(typeof Q==="function"||typeof X==="function")throw new nz("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:Z,version:Y,...V}=Q||{};super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},V);if(typeof $!=="string")throw new Error("constructor requires a location string argument");this[$Y]=$,this[S6]=Z==null?"level-js-":Z,this[N6]=parseInt(Y||1,10),this[kW]=null}get location(){return this[$Y]}get namePrefix(){return this[S6]}get version(){return this[N6]}get db(){return this[kW]}get type(){return"browser-level"}_open($,Q){let X=indexedDB.open(this[S6]+this[$Y],this[N6]);X.onerror=function(){Q(X.error||new Error("unknown error"))},X.onsuccess=()=>{this[kW]=X.result,Q()},X.onupgradeneeded=(Z)=>{let Y=Z.target.result;if(!Y.objectStoreNames.contains(this[$Y]))Y.createObjectStore(this[$Y])}}[cJ]($){return this[kW].transaction([this[$Y]],$).objectStore(this[$Y])}[fW]($,Q){let X=$.transaction;X.onabort=function(){Q(X.error||new Error("aborted by user"))},X.oncomplete=function(){Q(null,$.result)}}_get($,Q,X){let Z=this[cJ]("readonly"),Y;try{Y=Z.get($)}catch(V){return this.nextTick(X,V)}this[fW](Y,function(V,G){if(V)return X(V);if(G===void 0)return X(new nz("Entry not found",{code:"LEVEL_NOT_FOUND"}));X(null,sz(G))})}_getMany($,Q,X){let Z=this[cJ]("readonly"),Y=$.map((V)=>(G)=>{let z;try{z=Z.get(V)}catch(L){return G(L)}z.onsuccess=()=>{let L=z.result;G(null,L===void 0?L:sz(L))},z.onerror=(L)=>{L.stopPropagation(),G(z.error)}});MT(Y,16,X)}_del($,Q,X){let Z=this[cJ]("readwrite"),Y;try{Y=Z.delete($)}catch(V){return this.nextTick(X,V)}this[fW](Y,X)}_put($,Q,X,Z){let Y=this[cJ]("readwrite"),V;try{V=Y.put(Q,$)}catch(G){return this.nextTick(Z,G)}this[fW](V,Z)}_iterator($){return new AT(this,this[$Y],$)}_batch($,Q,X){let Z=this[cJ]("readwrite"),Y=Z.transaction,V=0,G;Y.onabort=function(){X(G||Y.error||new Error("aborted by user"))},Y.oncomplete=function(){X()};function z(){let L=$[V++],A=L.key,F;try{F=L.type==="del"?Z.delete(A):Z.put(L.value,A)}catch(C){G=C,Y.abort();return}if(V<$.length)F.onsuccess=z;else if(typeof Y.commit==="function")Y.commit()}z()}_clear($,Q){let X,Z;try{X=TT($)}catch(Y){return this.nextTick(Q)}if($.limit>=0)return FT(this,this[$Y],X,$,Q);try{let Y=this[cJ]("readwrite");Z=X?Y.delete(X):Y.clear()}catch(Y){return this.nextTick(Q,Y)}this[fW](Z,Q)}_close($){this[kW].close(),this.nextTick($)}}B6.destroy=function($,Q,X){if(typeof Q==="function")X=Q,Q="level-js-";X=CT(X,iz);let Z=indexedDB.deleteDatabase(Q+$);return Z.onsuccess=function(){X()},Z.onerror=function(Y){X(Y)},X[iz]};RT.BrowserLevel=B6});var j6;var az=G0(()=>{j6=rz().BrowserLevel});function G1($){if(!$||$==="0x"||$==="0x0")return"0";let Q=$.startsWith("0x")?$.slice(2):$;try{let X=BigInt("0x"+Q),Z=BigInt(281474976710656);if(X>=0n&&X<Z)return X.toString()}catch{}return Q.slice(0,4).toUpperCase()}function MQ($){let Q=G1($),X=parseInt(Q,10);if(!isNaN(X)&&Q===X.toString())return`#${Q}`;return Q}function tz($){return G1($)}var ET=($,Q)=>{if($==="clonedForValidation")return;if(Q instanceof Map)return{_dataType:"Map",value:Array.from(Q.entries())};if(typeof Q==="bigint")return{_dataType:"BigInt",value:Q.toString()};return Q},IT=($,Q)=>{if(typeof Q==="object"&&Q!==null){if(Q._dataType==="Map")return new Map(Q.value);if(Q._dataType==="BigInt")return BigInt(Q.value)}return Q},uJ=($)=>{if($&&$.replicas){for(let[Q,X]of $.replicas.entries())if(X&&X.state&&typeof X.state.jBlock!=="number")console.error(`\uD83D\uDCA5 CRITICAL: Invalid jBlock for ${Q.slice(0,20)}... - auto-fixing to 0`),X.state.jBlock=0}return Buffer.from(JSON.stringify($,ET))},dJ=($)=>{{let Q=JSON.parse($.toString(),IT);if(Q&&Q.replicas){for(let[X,Z]of Q.replicas.entries())if(Z&&Z.state){if(typeof Z.state.jBlock!=="number"){let V=Number(Q.height)||0;console.warn(` jBlock missing for replica ${X}, using height ${V} as fallback`),Z.state.jBlock=V}}}return Q}};var W1=()=>{};function gW($,Q,X){return parseInt($.substr(Q,X),16)}function Q7($){return $|=0,$<0?"00":$<16?"0"+$.toString(16):$<256?$.toString(16):"ff"}function _6($,Q,X){return X=X<0?X+6:X>6?X-6:X,Q7(255*(X<1?$+(Q-$)*X:X<3?Q:X<4?$+(Q-$)*(4-X):$))}function ST($){if(/^#[0-9a-f]{3,8}$/i.test($)){let Q,X=$.length;if(X<6){let Z=$[1],Y=$[2],V=$[3],G=$[4]||"";Q="#"+Z+Z+Y+Y+V+V+G+G}if(X==7||X>8)Q=$;return Q}}function NT($,Q,X){let Z;if(Q==0){let Y=Q7(X*255);Z=Y+Y+Y}else{let Y=X<=0.5?X*(Q+1):X+Q-X*Q,V=X*2-Y;Z=_6(V,Y,$*6+2)+_6(V,Y,$*6)+_6(V,Y,$*6-2)}return"#"+Z}function vW($,Q,X){let Z=[0.55,0.5,0.5,0.46,0.6,0.55,0.55],Y=Z[$*6+0.5|0];return X=X<0.5?X*Y*2:Y+(X-0.5)*(1-Y)*2,NT($,Q,X)}function _T($,Q){let X=typeof $=="object"&&$||jT[ez.n]||BT[ez.V]||{},Z=X.lightness||{},Y=X.saturation||{},V="color"in Y?Y.color:Y,G=Y.grayscale,z=X.backColor,L=X.padding;function A(C,q){let R=Z[C];if(!(R&&R.length>1))R=q;return function(I){return I=R[0]+I*(R[1]-R[0]),I<0?0:I>1?1:I}}function F(C){let q=X.hues,R;if(q&&q.length>0)R=q[0|0.999*C*q.length];return typeof R=="number"?(R/360%1+1)%1:C}return{W:F,o:typeof V=="number"?V:0.5,D:typeof G=="number"?G:0,p:A("color",[0.4,0.8]),F:A("grayscale",[0.3,0.9]),G:ST(z),X:typeof $=="number"?$:typeof L=="number"?L:Q}}class yW{constructor($,Q){this.x=$,this.y=Q}}class w6{constructor($,Q,X,Z){this.q=$,this.t=Q,this.H=X,this.Y=Z}I($,Q,X,Z){let Y=this.q+this.H,V=this.t+this.H,G=this.Y;return G===1?new yW(Y-Q-(Z||0),this.t+$):G===2?new yW(Y-$-(X||0),V-Q-(Z||0)):G===3?new yW(this.q+Q,V-$-(X||0)):new yW(this.q+$,this.t+Q)}}class X7{constructor($){this.J=$,this.u=wT}g($,Q){let X=Q?-2:2,Z=[];for(let Y=Q?$.length-2:0;Y<$.length&&Y>=0;Y+=X)Z.push(this.u.I($[Y],$[Y+1]));this.J.g(Z)}h($,Q,X,Z){let Y=this.u.I($,Q,X,X);this.J.h(Y,X,Z)}i($,Q,X,Z,Y){this.g([$,Q,$+X,Q,$+X,Q+Z,$,Q+Z],Y)}j($,Q,X,Z,Y,V){let G=[$+X,Q,$+X,Q+Z,$,Q+Z,$,Q];G.splice((Y||0)%4*2,2),this.g(G,V)}K($,Q,X,Z,Y){this.g([$+X/2,Q,$+X,Q+Z/2,$+X/2,Q+Z,$,Q+Z/2],Y)}}function xT($,Q,X,Z){$=$%14;let Y,V,G,z,L,A;!$?(Y=X*0.42,Q.g([0,0,X,0,X,X-Y*2,X-Y,X,0,X])):$==1?(G=0|X*0.5,z=0|X*0.8,Q.j(X-G,0,G,z,2)):$==2?(G=0|X/3,Q.i(G,G,X-G,X-G)):$==3?(L=X*0.1,A=X<6?1:X<8?2:0|X*0.25,L=L>1?0|L:L>0.5?1:L,Q.i(A,A,X-L-A,X-L-A)):$==4?(V=0|X*0.15,G=0|X*0.5,Q.h(X-G-V,X-G-V,G)):$==5?(L=X*0.1,A=L*4,A>3&&(A=0|A),Q.i(0,0,X,X),Q.g([A,A,X-L,A,A+(X-A-L)/2,X-L],!0)):$==6?Q.g([0,0,X,0,X,X*0.7,X*0.4,X*0.4,X*0.7,X,0,X]):$==7?Q.j(X/2,X/2,X/2,X/2,3):$==8?(Q.i(0,0,X,X/2),Q.i(0,X/2,X/2,X/2),Q.j(X/2,X/2,X/2,X/2,1)):$==9?(L=X*0.14,A=X<4?1:X<6?2:0|X*0.35,L=X<8?L:0|L,Q.i(0,0,X,X),Q.i(A,A,X-A-L,X-A-L,!0)):$==10?(L=X*0.12,A=L*3,Q.i(0,0,X,X),Q.h(A,A,X-L-A,!0)):$==11?Q.j(X/2,X/2,X/2,X/2,3):$==12?(V=X*0.25,Q.i(0,0,X,X),Q.K(V,V,X-V,X-V,!0)):!Z&&(V=X*0.4,G=X*1.2,Q.h(V,V,G))}function $7($,Q,X){$=$%4;let Z;!$?Q.j(0,0,X,X,0):$==1?Q.j(0,X/2,X,X/2,0):$==2?Q.K(0,0,X,X):(Z=X/6,Q.h(Z,Z,X-2*Z))}function kT($,Q){return $=Q.W($),[vW($,Q.D,Q.F(0)),vW($,Q.o,Q.p(0.5)),vW($,Q.D,Q.F(1)),vW($,Q.o,Q.p(1)),vW($,Q.o,Q.p(0))]}function fT($,Q,X){let Z=_T(X,0.08);if(Z.G)$.m(Z.G);let Y=$.k,V=0.5+Y*Z.X|0;Y-=V*2;let G=new X7($),z=0|Y/4,L=0|V+Y/2-z*2,A=0|V+Y/2-z*2;function F(N,B,_,k,f){let v=gW(Q,_,1),p=k?gW(Q,k,1):0;$.L(q[R[N]]);for(let c=0;c<f.length;c++)G.u=new w6(L+f[c][0]*z,A+f[c][1]*z,z,p++%4),B(v,G,z,c);$.M()}let C=gW(Q,-7)/268435455,q=kT(C,Z),R=[],I;function S(N){if(N.indexOf(I)>=0){for(let B=0;B<N.length;B++)if(R.indexOf(N[B])>=0)return!0}}for(let N=0;N<3;N++){if(I=gW(Q,8+N,1)%q.length,S([0,4])||S([2,3]))I=1;R.push(I)}F(0,$7,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),F(1,$7,4,5,[[0,0],[3,0],[3,3],[0,3]]),F(2,xT,1,null,[[1,1],[2,1],[2,2],[1,2]]),$.finish()}function vT($){var Z=0,Y=0,V=encodeURI($)+"%80",G=[],z,L=[],A=1732584193,F=4023233417,C=~A,q=~F,R=3285377520,I=[A,F,C,q,R],S=0,N="";function B(_,k){return _<<k|_>>>32-k}for(;Z<V.length;Y++)G[Y>>2]=G[Y>>2]|(V[Z]=="%"?parseInt(V.substring(Z+1,Z+=3),16):V.charCodeAt(Z++))<<(3-(Y&3))*8;z=((Y+7>>6)+1)*16,G[z-1]=Y*8-8;for(;S<z;S+=16){for(Z=0;Z<80;Z++)Y=B(A,5)+R+(Z<20?(F&C^~F&q)+1518500249:Z<40?(F^C^q)+1859775393:Z<60?(F&C^F&q^C&q)+2400959708:(F^C^q)+3395469782)+(L[Z]=Z<16?G[S+Z]|0:B(L[Z-3]^L[Z-8]^L[Z-14]^L[Z-16],1)),R=q,q=C,C=B(F,30),F=A,A=Y;I[0]=A=I[0]+A|0,I[1]=F=I[1]+F|0,I[2]=C=I[2]+C|0,I[3]=q=I[3]+q|0,I[4]=R=I[4]+R|0}for(Z=0;Z<40;Z++)N+=(I[Z>>3]>>>(7-(Z&7))*4&15).toString(16);return N}function gT($){return/^[0-9a-f]{11,}$/i.test($)&&$}function yT($){return vT($==null?"":""+$)}function $G($){return($*10+0.5|0)/10}class Z7{constructor(){this.v=""}g($){let Q="";for(let X=0;X<$.length;X++)Q+=(X?"L":"M")+$G($[X].x)+" "+$G($[X].y);this.v+=Q+"Z"}h($,Q,X){let Z=X?0:1,Y=$G(Q/2),V=$G(Q),G="a"+Y+","+Y+" 0 1,"+Z+" ";this.v+="M"+$G($.x)+" "+$G($.y+Q/2)+G+V+",0"+G+-V+",0"}}class Y7{constructor($){this.A,this.B={},this.O=$,this.k=$.k}m($){let Q=/^(#......)(..)?/.exec($),X=Q[2]?gW(Q[2],0)/255:1;this.O.m(Q[1],X)}L($){this.A=this.B[$]||(this.B[$]=new Z7)}M(){}g($){this.A.g($)}h($,Q,X){this.A.h($,Q,X)}finish(){let $=this.B;for(let Q in $)if($.hasOwnProperty(Q))this.O.P(Q,$[Q].v)}}class J7{constructor($){this.k=$,this.C='<svg xmlns="'+hT.R+'" width="'+$+'" height="'+$+'" viewBox="0 0 '+$+" "+$+'">'}m($,Q){if(Q)this.C+='<rect width="100%" height="100%" fill="'+$+'" opacity="'+Q.toFixed(2)+'"/>'}P($,Q){this.C+='<path fill="'+$+'" d="'+Q+'"/>'}toString(){return this.C+"</svg>"}}function x6($,Q,X){let Z=new J7(Q);return fT(new Y7(Z),gT($)||yT($),X),Z.toString()}var BT,ez,jT,wT,D_,hT;var G7=G0(()=>{BT=typeof window!=="undefined"?window:typeof self!=="undefined"?self:typeof global!=="undefined"?global:{},ez={V:"jdenticon_config",n:"config"},jT={};wT=new w6(0,0,0,0);D_=typeof document!=="undefined"&&document.querySelectorAll.bind(document);hT={R:"http://www.w3.org/2000/svg",S:"width",T:"height"}});var lJ="6.15.0";function bT($,Q,X){let Z=Q.split("|").map((V)=>V.trim());for(let V=0;V<Z.length;V++)switch(Q){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof $===Q)return}let Y=new Error(`invalid value for type ${Q}`);throw Y.code="INVALID_ARGUMENT",Y.argument=`value.${X}`,Y.value=$,Y}async function _$($){let Q=Object.keys($);return(await Promise.all(Q.map((Z)=>Promise.resolve($[Z])))).reduce((Z,Y,V)=>{return Z[Q[V]]=Y,Z},{})}function I0($,Q,X){for(let Z in Q){let Y=Q[Z],V=X?X[Z]:null;if(V)bT(Y,V,Z);Object.defineProperty($,Z,{enumerable:!0,value:Y,writable:!1})}}function QG($,Q){if($==null)return"null";if(Q==null)Q=new Set;if(typeof $==="object"){if(Q.has($))return"[Circular]";Q.add($)}if(Array.isArray($))return"[ "+$.map((X)=>QG(X,Q)).join(", ")+" ]";if($ instanceof Uint8Array){let Z="0x";for(let Y=0;Y<$.length;Y++)Z+="0123456789abcdef"[$[Y]>>4],Z+="0123456789abcdef"[$[Y]&15];return Z}if(typeof $==="object"&&typeof $.toJSON==="function")return QG($.toJSON(),Q);switch(typeof $){case"boolean":case"number":case"symbol":return $.toString();case"bigint":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{let X=Object.keys($);return X.sort(),"{ "+X.map((Z)=>`${QG(Z,Q)}: ${QG($[Z],Q)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function q$($,Q){return $&&$.code===Q}function QY($){return q$($,"CALL_EXCEPTION")}function V$($,Q,X){let Z=$;{let V=[];if(X){if("message"in X||"code"in X||"name"in X)throw new Error(`value will overwrite populated values: ${QG(X)}`);for(let G in X){if(G==="shortMessage")continue;let z=X[G];V.push(G+"="+QG(z))}}if(V.push(`code=${Q}`),V.push(`version=${lJ}`),V.length)$+=" ("+V.join(", ")+")"}let Y;switch(Q){case"INVALID_ARGUMENT":Y=new TypeError($);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":Y=new RangeError($);break;default:Y=new Error($)}if(I0(Y,{code:Q}),X)Object.assign(Y,X);if(Y.shortMessage==null)I0(Y,{shortMessage:Z});return Y}function J0($,Q,X,Z){if(!$)throw V$(Q,X,Z)}function b($,Q,X,Z){J0($,Q,"INVALID_ARGUMENT",{argument:X,value:Z})}function lY($,Q,X){if(X==null)X="";if(X)X=": "+X;J0($>=Q,"missing argument"+X,"MISSING_ARGUMENT",{count:$,expectedCount:Q}),J0($<=Q,"too many arguments"+X,"UNEXPECTED_ARGUMENT",{count:$,expectedCount:Q})}function oY($){J0(pT.indexOf($)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:$}})}function EQ($,Q,X){if(X==null)X="";if($!==Q){let Z=X,Y="new";if(X)Z+=".",Y+=" "+X;J0(!1,`private constructor; use ${Z}from* methods`,"UNSUPPORTED_OPERATION",{operation:Y})}}var pT;var zZ=G0(()=>{pT=["NFD","NFC","NFKD","NFKC"].reduce(($,Q)=>{try{if("test".normalize(Q)!=="test")throw new Error("bad");if(Q==="NFD"){let X=String.fromCharCode(233).normalize("NFD"),Z=String.fromCharCode(101,769);if(X!==Z)throw new Error("broken")}$.push(Q)}catch(X){}return $},[])});function V7($,Q,X){if($ instanceof Uint8Array){if(X)return new Uint8Array($);return $}if(typeof $==="string"&&$.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let Z=new Uint8Array(($.length-2)/2),Y=2;for(let V=0;V<Z.length;V++)Z[V]=parseInt($.substring(Y,Y+2),16),Y+=2;return Z}b(!1,"invalid BytesLike value",Q||"value",$)}function M0($,Q){return V7($,Q,!1)}function x$($,Q){return V7($,Q,!0)}function Q$($,Q){if(typeof $!=="string"||!$.match(/^0x[0-9A-Fa-f]*$/))return!1;if(typeof Q==="number"&&$.length!==2+2*Q)return!1;if(Q===!0&&$.length%2!==0)return!1;return!0}function yX($){return Q$($,!0)||$ instanceof Uint8Array}function O0($){let Q=M0($),X="0x";for(let Z=0;Z<Q.length;Z++){let Y=Q[Z];X+=W7[(Y&240)>>4]+W7[Y&15]}return X}function i0($){return"0x"+$.map((Q)=>O0(Q).substring(2)).join("")}function rQ($){if(Q$($,!0))return($.length-2)/2;return M0($).length}function D$($,Q,X){let Z=M0($);if(X!=null&&X>Z.length)J0(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:Z,length:Z.length,offset:X});return O0(Z.slice(Q==null?0:Q,X==null?Z.length:X))}function V1($){let Q=O0($).substring(2);while(Q.startsWith("00"))Q=Q.substring(2);return"0x"+Q}function K7($,Q,X){let Z=M0($);J0(Q>=Z.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(Z),length:Q,offset:Q+1});let Y=new Uint8Array(Q);if(Y.fill(0),X)Y.set(Z,Q-Z.length);else Y.set(Z,0);return O0(Y)}function u$($,Q){return K7($,Q,!0)}function wZ($,Q){return K7($,Q,!1)}var W7="0123456789abcdef";var hX=G0(()=>{zZ()});function xZ($,Q){let X=nY($,"value"),Z=BigInt(n0(Q,"width"));if(J0(X>>Z===K1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:$}),X>>Z-HZ){let Y=(HZ<<Z)-HZ;return-((~X&Y)+HZ)}return X}function kZ($,Q){let X=m0($,"value"),Z=BigInt(n0(Q,"width")),Y=HZ<<Z-HZ;if(X<K1){X=-X,J0(X<=Y,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});let V=(HZ<<Z)-HZ;return(~X&V)+HZ}else J0(X<Y,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});return X}function OX($,Q){let X=nY($,"value"),Z=BigInt(n0(Q,"bits"));return X&(HZ<<Z)-HZ}function m0($,Q){switch(typeof $){case"bigint":return $;case"number":return b(Number.isInteger($),"underflow",Q||"value",$),b($>=-XG&&$<=XG,"overflow",Q||"value",$),BigInt($);case"string":try{if($==="")throw new Error("empty string");if($[0]==="-"&&$[1]!=="-")return-BigInt($.substring(1));return BigInt($)}catch(X){b(!1,`invalid BigNumberish string: ${X.message}`,Q||"value",$)}}b(!1,"invalid BigNumberish value",Q||"value",$)}function nY($,Q){let X=m0($,Q);return J0(X>=K1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:$}),X}function IX($){if($ instanceof Uint8Array){let Q="0x0";for(let X of $)Q+=U7[X>>4],Q+=U7[X&15];return BigInt(Q)}return m0($)}function n0($,Q){switch(typeof $){case"bigint":return b($>=-XG&&$<=XG,"overflow",Q||"value",$),Number($);case"number":return b(Number.isInteger($),"underflow",Q||"value",$),b($>=-XG&&$<=XG,"overflow",Q||"value",$),$;case"string":try{if($==="")throw new Error("empty string");return n0(BigInt($),Q)}catch(X){b(!1,`invalid numeric string: ${X.message}`,Q||"value",$)}}b(!1,"invalid numeric value",Q||"value",$)}function ZG($){return n0(IX($))}function CQ($,Q){let Z=nY($,"value").toString(16);if(Q==null){if(Z.length%2)Z="0"+Z}else{let Y=n0(Q,"width");J0(Y*2>=Z.length,`value exceeds width (${Y} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:$});while(Z.length<Y*2)Z="0"+Z}return"0x"+Z}function L$($){let Q=nY($,"value");if(Q===K1)return new Uint8Array([]);let X=Q.toString(16);if(X.length%2)X="0"+X;let Z=new Uint8Array(X.length/2);for(let Y=0;Y<Z.length;Y++){let V=Y*2;Z[Y]=parseInt(X.substring(V,V+2),16)}return Z}function $Q($){let Q=O0(yX($)?$:L$($)).substring(2);while(Q.startsWith("0"))Q=Q.substring(1);if(Q==="")Q="0";return"0x"+Q}var K1,HZ,XG=9007199254740991,U7="0123456789abcdef";var YG=G0(()=>{hX();zZ();K1=BigInt(0),HZ=BigInt(1)});function mT($){if(U1==null){U1={};for(let X=0;X<O1.length;X++)U1[O1[X]]=BigInt(X)}let Q=U1[$];return b(Q!=null,"invalid base58 value","letter",$),Q}function sY($){let Q=M0($),X=IX(Q),Z="";while(X)Z=O1[Number(X%k6)]+Z,X/=k6;for(let Y=0;Y<Q.length;Y++){if(Q[Y])break;Z=O1[0]+Z}return Z}function JG($){let Q=cT;for(let X=0;X<$.length;X++)Q*=k6,Q+=mT($[X]);return Q}var O1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",U1=null,cT,k6;var O7=G0(()=>{hX();zZ();YG();cT=BigInt(0),k6=BigInt(58)});function GG($){$=atob($);let Q=new Uint8Array($.length);for(let X=0;X<$.length;X++)Q[X]=$.charCodeAt(X);return M0(Q)}function WG($){let Q=M0($),X="";for(let Z=0;Z<Q.length;Z++)X+=String.fromCharCode(Q[Z]);return btoa(X)}var f6=G0(()=>{hX()});class XY{filter;emitter;#$;constructor($,Q,X){this.#$=Q,I0(this,{emitter:$,filter:X})}async removeListener(){if(this.#$==null)return;await this.emitter.off(this.filter,this.#$)}}var z7=()=>{};function uT($,Q,X,Z,Y){b(!1,`invalid codepoint at offset ${Q}; ${$}`,"bytes",X)}function H7($,Q,X,Z,Y){if($==="BAD_PREFIX"||$==="UNEXPECTED_CONTINUE"){let V=0;for(let G=Q+1;G<X.length;G++){if(X[G]>>6!==2)break;V++}return V}if($==="OVERRUN")return X.length-Q-1;return 0}function dT($,Q,X,Z,Y){if($==="OVERLONG")return b(typeof Y==="number","invalid bad code point for replacement","badCodepoint",Y),Z.push(Y),0;return Z.push(65533),H7($,Q,X,Z,Y)}function D7($,Q){if(Q==null)Q=hW.error;let X=M0($,"bytes"),Z=[],Y=0;while(Y<X.length){let V=X[Y++];if(V>>7===0){Z.push(V);continue}let G=null,z=null;if((V&224)===192)G=1,z=127;else if((V&240)===224)G=2,z=2047;else if((V&248)===240)G=3,z=65535;else{if((V&192)===128)Y+=Q("UNEXPECTED_CONTINUE",Y-1,X,Z);else Y+=Q("BAD_PREFIX",Y-1,X,Z);continue}if(Y-1+G>=X.length){Y+=Q("OVERRUN",Y-1,X,Z);continue}let L=V&(1<<8-G-1)-1;for(let A=0;A<G;A++){let F=X[Y];if((F&192)!=128){Y+=Q("MISSING_CONTINUE",Y,X,Z),L=null;break}L=L<<6|F&63,Y++}if(L===null)continue;if(L>1114111){Y+=Q("OUT_OF_RANGE",Y-1-G,X,Z,L);continue}if(L>=55296&&L<=57343){Y+=Q("UTF16_SURROGATE",Y-1-G,X,Z,L);continue}if(L<=z){Y+=Q("OVERLONG",Y-1-G,X,Z,L);continue}Z.push(L)}return Z}function F$($,Q){if(b(typeof $==="string","invalid string value","str",$),Q!=null)oY(Q),$=$.normalize(Q);let X=[];for(let Z=0;Z<$.length;Z++){let Y=$.charCodeAt(Z);if(Y<128)X.push(Y);else if(Y<2048)X.push(Y>>6|192),X.push(Y&63|128);else if((Y&64512)==55296){Z++;let V=$.charCodeAt(Z);b(Z<$.length&&(V&64512)===56320,"invalid surrogate pair","str",$);let G=65536+((Y&1023)<<10)+(V&1023);X.push(G>>18|240),X.push(G>>12&63|128),X.push(G>>6&63|128),X.push(G&63|128)}else X.push(Y>>12|224),X.push(Y>>6&63|128),X.push(Y&63|128)}return new Uint8Array(X)}function lT($){return $.map((Q)=>{if(Q<=65535)return String.fromCharCode(Q);return Q-=65536,String.fromCharCode((Q>>10&1023)+55296,(Q&1023)+56320)}).join("")}function dQ($,Q){return lT(D7($,Q))}function z1($,Q){return D7(F$($,Q))}var hW;var H1=G0(()=>{hX();zZ();hW=Object.freeze({error:uT,ignore:H7,replace:dT})});function D1($){async function Q(X,Z){J0(Z==null||!Z.cancelled,"request cancelled before sending","CANCELLED");let Y=X.url.split(":")[0].toLowerCase();J0(Y==="http"||Y==="https",`unsupported protocol ${Y}`,"UNSUPPORTED_OPERATION",{info:{protocol:Y},operation:"request"}),J0(Y==="https"||!X.credentials||X.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let V=null,G=new AbortController,z=setTimeout(()=>{V=V$("request timeout","TIMEOUT"),G.abort()},X.timeout);if(Z)Z.addListener(()=>{V=V$("request cancelled","CANCELLED"),G.abort()});let L=Object.assign({},$,{method:X.method,headers:new Headers(Array.from(X)),body:X.body||void 0,signal:G.signal}),A;try{A=await fetch(X.url,L)}catch(R){if(clearTimeout(z),V)throw V;throw R}clearTimeout(z);let F={};A.headers.forEach((R,I)=>{F[I.toLowerCase()]=R});let C=await A.arrayBuffer(),q=C==null?null:new Uint8Array(C);return{statusCode:A.status,statusMessage:A.statusText,headers:F,body:q}}return Q}var h_;var L7=G0(()=>{zZ();h_=D1({})});async function C7($,Q){try{let X=$.match(sT);if(!X)throw new Error("invalid data");return new bX(200,"OK",{"content-type":X[1]||"text/plain"},X[2]?GG(X[3]):rT(X[3]))}catch(X){return new bX(599,"BAD REQUEST (invalid data: URI)",{},null,new M$($))}}function A7($){async function Q(X,Z){try{let Y=X.match(iT);if(!Y)throw new Error("invalid link");return new M$(`${$}${Y[2]}`)}catch(Y){return new bX(599,"BAD REQUEST (invalid IPFS URI)",{},null,new M$(X))}}return Q}class VG{#$;#Q;constructor($){this.#$=[],this.#Q=!1,F7.set($,()=>{if(this.#Q)return;this.#Q=!0;for(let Q of this.#$)setTimeout(()=>{Q()},0);this.#$=[]})}addListener($){J0(!this.#Q,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#$.push($)}get cancelled(){return this.#Q}checkSignal(){J0(!this.cancelled,"cancelled","CANCELLED",{})}}function q1($){if($==null)throw new Error("missing signal; should not happen");return $.checkSignal(),$}function M7(){return new Date().getTime()}function rT($){return F$($.replace(/%([0-9a-f][0-9a-f])/gi,(Q,X)=>{return String.fromCharCode(parseInt(X,16))}))}function aT($){return new Promise((Q)=>setTimeout(Q,$))}var oT=12,nT=250,q7,sT,iT,v6=!1,L1,F7,M$,bX;var T7=G0(()=>{f6();hX();zZ();H1();L7();q7=D1(),sT=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),iT=new RegExp("^ipfs://(ipfs/)?(.*)$","i");L1={data:C7,ipfs:A7("https://gateway.ipfs.io/ipfs/")},F7=new WeakMap;M$=class M${#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#K;#D;#L;#V;#U;#z;get url(){return this.#G}set url($){this.#G=String($)}get body(){if(this.#J==null)return null;return new Uint8Array(this.#J)}set body($){if($==null)this.#J=void 0,this.#W=void 0;else if(typeof $==="string")this.#J=F$($),this.#W="text/plain";else if($ instanceof Uint8Array)this.#J=$,this.#W="application/octet-stream";else if(typeof $==="object")this.#J=F$(JSON.stringify($)),this.#W="application/json";else throw new Error("invalid body")}hasBody(){return this.#J!=null}get method(){if(this.#Z)return this.#Z;if(this.hasBody())return"POST";return"GET"}set method($){if($==null)$="";this.#Z=String($).toUpperCase()}get headers(){let $=Object.assign({},this.#X);if(this.#O)$.authorization=`Basic ${WG(F$(this.#O))}`;if(this.allowGzip)$["accept-encoding"]="gzip";if($["content-type"]==null&&this.#W)$["content-type"]=this.#W;if(this.body)$["content-length"]=String(this.body.length);return $}getHeader($){return this.headers[$.toLowerCase()]}setHeader($,Q){this.#X[String($).toLowerCase()]=String(Q)}clearHeaders(){this.#X={}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),X=0;return{next:()=>{if(X<Q.length){let Z=Q[X++];return{value:[Z,$[Z]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#O||null}setCredentials($,Q){b(!$.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#O=`${$}:${Q}`}get allowGzip(){return this.#Q}set allowGzip($){this.#Q=!!$}get allowInsecureAuthentication(){return!!this.#$}set allowInsecureAuthentication($){this.#$=!!$}get timeout(){return this.#Y}set timeout($){b($>=0,"timeout must be non-zero","timeout",$),this.#Y=$}get preflightFunc(){return this.#K||null}set preflightFunc($){this.#K=$}get processFunc(){return this.#D||null}set processFunc($){this.#D=$}get retryFunc(){return this.#L||null}set retryFunc($){this.#L=$}get getUrlFunc(){return this.#z||q7}set getUrlFunc($){this.#z=$}constructor($){this.#G=String($),this.#$=!1,this.#Q=!0,this.#X={},this.#Z="",this.#Y=300000,this.#U={slotInterval:nT,maxAttempts:oT},this.#z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#J?O0(this.#J):"null"}>`}setThrottleParams($){if($.slotInterval!=null)this.#U.slotInterval=$.slotInterval;if($.maxAttempts!=null)this.#U.maxAttempts=$.maxAttempts}async#H($,Q,X,Z,Y){if($>=this.#U.maxAttempts)return Y.makeServerError("exceeded maximum retry limit");if(J0(M7()<=Q,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:Z}),X>0)await aT(X);let V=this.clone(),G=(V.url.split(":")[0]||"").toLowerCase();if(G in L1){let A=await L1[G](V.url,q1(Z.#V));if(A instanceof bX){let F=A;if(this.processFunc){q1(Z.#V);try{F=await this.processFunc(V,F)}catch(C){if(C.throttle==null||typeof C.stall!=="number")F.makeServerError("error in post-processing function",C).assertOk()}}return F}V=A}if(this.preflightFunc)V=await this.preflightFunc(V);let z=await this.getUrlFunc(V,q1(Z.#V)),L=new bX(z.statusCode,z.statusMessage,z.headers,z.body,Z);if(L.statusCode===301||L.statusCode===302){try{let A=L.headers.location||"";return V.redirect(A).#H($+1,Q,0,Z,L)}catch(A){}return L}else if(L.statusCode===429){if(this.retryFunc==null||await this.retryFunc(V,L,$)){let A=L.headers["retry-after"],F=this.#U.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(typeof A==="string"&&A.match(/^[1-9][0-9]*$/))F=parseInt(A);return V.clone().#H($+1,Q,F,Z,L)}}if(this.processFunc){q1(Z.#V);try{L=await this.processFunc(V,L)}catch(A){if(A.throttle==null||typeof A.stall!=="number")L.makeServerError("error in post-processing function",A).assertOk();let F=this.#U.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(A.stall>=0)F=A.stall;return V.clone().#H($+1,Q,F,Z,L)}}return L}send(){return J0(this.#V==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#V=new VG(this),this.#H(0,M7()+this.timeout,0,this,new bX(0,"",{},null,this))}cancel(){J0(this.#V!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let $=F7.get(this);if(!$)throw new Error("missing signal; should not happen");$()}redirect($){let Q=this.url.split(":")[0].toLowerCase(),X=$.split(":")[0].toLowerCase();J0(this.method==="GET"&&(Q!=="https"||X!=="http")&&$.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify($)})`});let Z=new M$($);if(Z.method="GET",Z.allowGzip=this.allowGzip,Z.timeout=this.timeout,Z.#X=Object.assign({},this.#X),this.#J)Z.#J=new Uint8Array(this.#J);return Z.#W=this.#W,Z}clone(){let $=new M$(this.url);if($.#Z=this.#Z,this.#J)$.#J=this.#J;if($.#W=this.#W,$.#X=Object.assign({},this.#X),$.#O=this.#O,this.allowGzip)$.allowGzip=!0;if($.timeout=this.timeout,this.allowInsecureAuthentication)$.allowInsecureAuthentication=!0;return $.#K=this.#K,$.#D=this.#D,$.#L=this.#L,$.#U=Object.assign({},this.#U),$.#z=this.#z,$}static lockConfig(){v6=!0}static getGateway($){return L1[$.toLowerCase()]||null}static registerGateway($,Q){if($=$.toLowerCase(),$==="http"||$==="https")throw new Error(`cannot intercept ${$}; use registerGetUrl`);if(v6)throw new Error("gateways locked");L1[$]=Q}static registerGetUrl($){if(v6)throw new Error("gateways locked");q7=$}static createGetUrlFunc($){return D1($)}static createDataGateway(){return C7}static createIpfsGatewayFunc($){return A7($)}};bX=class bX{#$;#Q;#X;#Z;#Y;#G;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#Z?O0(this.#Z):"null"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#Q}get headers(){return Object.assign({},this.#X)}get body(){return this.#Z==null?null:new Uint8Array(this.#Z)}get bodyText(){try{return this.#Z==null?"":dQ(this.#Z)}catch($){J0(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch($){J0(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),X=0;return{next:()=>{if(X<Q.length){let Z=Q[X++];return{value:[Z,$[Z]],done:!1}}return{value:void 0,done:!0}}}}constructor($,Q,X,Z,Y){this.#$=$,this.#Q=Q,this.#X=Object.keys(X).reduce((V,G)=>{return V[G.toLowerCase()]=String(X[G]),V},{}),this.#Z=Z==null?null:new Uint8Array(Z),this.#Y=Y||null,this.#G={message:""}}makeServerError($,Q){let X;if(!$)$=`${this.statusCode} ${this.statusMessage}`,X=`CLIENT ESCALATED SERVER ERROR (${$})`;else X=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${$})`;let Z=new bX(599,X,this.headers,this.body,this.#Y||void 0);return Z.#G={message:$,error:Q},Z}throwThrottleError($,Q){if(Q==null)Q=-1;else b(Number.isInteger(Q)&&Q>=0,"invalid stall timeout","stall",Q);let X=new Error($||"throttling requests");throw I0(X,{stall:Q,throttle:!0}),X}getHeader($){return this.headers[$.toLowerCase()]}hasBody(){return this.#Z!=null}get request(){return this.#Y}ok(){return this.#G.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:$,error:Q}=this.#G;if($==="")$=`server response ${this.statusCode} ${this.statusMessage}`;let X=null;if(this.request)X=this.request.url;let Z=null;try{if(this.#Z)Z=dQ(this.#Z)}catch(Y){}J0(!1,$,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:Q,info:{requestUrl:X,responseBody:Z,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}});function oJ($){let Q=OG;while(Q.length<$)Q+=Q;return BigInt("1"+Q.substring(0,$))}function bW($,Q,X){let Z=BigInt(Q.width);if(Q.signed){let Y=UG<<Z-UG;if(J0(X==null||$>=-Y&&$<Y,"overflow","NUMERIC_FAULT",{operation:X,fault:"overflow",value:$}),$>DZ)$=xZ(OX($,Z),Z);else $=-xZ(OX(-$,Z),Z)}else{let Y=UG<<Z;J0(X==null||$>=0&&$<Y,"overflow","NUMERIC_FAULT",{operation:X,fault:"overflow",value:$}),$=($%Y+Y)%Y&Y-UG}return $}function g6($){if(typeof $==="number")$=`fixed128x${$}`;let Q=!0,X=128,Z=18;if(typeof $==="string")if($==="fixed");else if($==="ufixed")Q=!1;else{let V=$.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);b(V,"invalid fixed format","format",$),Q=V[1]!=="u",X=parseInt(V[2]),Z=parseInt(V[3])}else if($){let V=$,G=(z,L,A)=>{if(V[z]==null)return A;return b(typeof V[z]===L,"invalid fixed format ("+z+" not "+L+")","format."+z,V[z]),V[z]};Q=G("signed","boolean",Q),X=G("width","number",X),Z=G("decimals","number",Z)}b(X%8===0,"invalid FixedNumber width (not byte aligned)","format.width",X),b(Z<=80,"invalid FixedNumber decimals (too large)","format.decimals",Z);let Y=(Q?"":"u")+"fixed"+String(X)+"x"+String(Z);return{signed:Q,width:X,decimals:Z,name:Y}}function $R($,Q){let X="";if($<DZ)X="-",$*=tT;let Z=$.toString();if(Q===0)return X+Z;while(Z.length<=Q)Z=OG+Z;let Y=Z.length-Q;Z=Z.substring(0,Y)+"."+Z.substring(Y);while(Z[0]==="0"&&Z[1]!==".")Z=Z.substring(1);while(Z[Z.length-1]==="0"&&Z[Z.length-2]!==".")Z=Z.substring(0,Z.length-1);return X+Z}class zX{format;#$;#Q;#X;_value;constructor($,Q,X){EQ($,KG,"FixedNumber"),this.#Q=Q,this.#$=X;let Z=$R(Q,X.decimals);I0(this,{format:X.name,_value:Z}),this.#X=oJ(X.decimals)}get signed(){return this.#$.signed}get width(){return this.#$.width}get decimals(){return this.#$.decimals}get value(){return this.#Q}#Z($){b(this.format===$.format,"incompatible format; use fixedNumber.toFormat","other",$)}#Y($,Q){return $=bW($,this.#$,Q),new zX(KG,$,this.#$)}#G($,Q){return this.#Z($),this.#Y(this.#Q+$.#Q,Q)}addUnsafe($){return this.#G($)}add($){return this.#G($,"add")}#J($,Q){return this.#Z($),this.#Y(this.#Q-$.#Q,Q)}subUnsafe($){return this.#J($)}sub($){return this.#J($,"sub")}#W($,Q){return this.#Z($),this.#Y(this.#Q*$.#Q/this.#X,Q)}mulUnsafe($){return this.#W($)}mul($){return this.#W($,"mul")}mulSignal($){this.#Z($);let Q=this.#Q*$.#Q;return J0(Q%this.#X===DZ,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#Y(Q/this.#X,"mulSignal")}#O($,Q){return J0($.#Q!==DZ,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Z($),this.#Y(this.#Q*this.#X/$.#Q,Q)}divUnsafe($){return this.#O($)}div($){return this.#O($,"div")}divSignal($){J0($.#Q!==DZ,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Z($);let Q=this.#Q*this.#X;return J0(Q%$.#Q===DZ,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#Y(Q/$.#Q,"divSignal")}cmp($){let Q=this.value,X=$.value,Z=this.decimals-$.decimals;if(Z>0)X*=oJ(Z);else if(Z<0)Q*=oJ(-Z);if(Q<X)return-1;if(Q>X)return 1;return 0}eq($){return this.cmp($)===0}lt($){return this.cmp($)<0}lte($){return this.cmp($)<=0}gt($){return this.cmp($)>0}gte($){return this.cmp($)>=0}floor(){let $=this.#Q;if(this.#Q<DZ)$-=this.#X-UG;return $=this.#Q/this.#X*this.#X,this.#Y($,"floor")}ceiling(){let $=this.#Q;if(this.#Q>DZ)$+=this.#X-UG;return $=this.#Q/this.#X*this.#X,this.#Y($,"ceiling")}round($){if($==null)$=0;if($>=this.decimals)return this;let Q=this.decimals-$,X=eT*oJ(Q-1),Z=this.value+X,Y=oJ(Q);return Z=Z/Y*Y,bW(Z,this.#$,"round"),new zX(KG,Z,this.#$)}isZero(){return this.#Q===DZ}isNegative(){return this.#Q<DZ}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat($){return zX.fromString(this.toString(),$)}static fromValue($,Q,X){let Z=Q==null?0:n0(Q),Y=g6(X),V=m0($,"value"),G=Z-Y.decimals;if(G>0){let z=oJ(G);J0(V%z===DZ,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:$}),V/=z}else if(G<0)V*=oJ(-G);return bW(V,Y,"fromValue"),new zX(KG,V,Y)}static fromString($,Q){let X=$.match(/^(-?)([0-9]*)\.?([0-9]*)$/);b(X&&X[2].length+X[3].length>0,"invalid FixedNumber string value","value",$);let Z=g6(Q),Y=X[2]||"0",V=X[3]||"";while(V.length<Z.decimals)V+=OG;J0(V.substring(Z.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:$}),V=V.substring(0,Z.decimals);let G=BigInt(X[1]+Y+V);return bW(G,Z,"fromString"),new zX(KG,G,Z)}static fromBytes($,Q){let X=IX(M0($,"value")),Z=g6(Q);if(Z.signed)X=xZ(X,Z.width);return bW(X,Z,"fromBytes"),new zX(KG,X,Z)}}var tT,DZ,UG,eT,KG,OG="0000";var y6=G0(()=>{hX();zZ();YG();tT=BigInt(-1),DZ=BigInt(0),UG=BigInt(1),eT=BigInt(5),KG={};while(OG.length<80)OG+=OG});function QR($){let Q=$.toString(16);while(Q.length<2)Q="0"+Q;return"0x"+Q}function R7($,Q,X){let Z=0;for(let Y=0;Y<X;Y++)Z=Z*256+$[Q+Y];return Z}function P7($,Q,X,Z){let Y=[];while(X<Q+1+Z){let V=E7($,X);Y.push(V.result),X+=V.consumed,J0(X<=Q+1+Z,"child data too short","BUFFER_OVERRUN",{buffer:$,length:Z,offset:Q})}return{consumed:1+Z,result:Y}}function E7($,Q){J0($.length!==0,"data too short","BUFFER_OVERRUN",{buffer:$,length:0,offset:1});let X=(Z)=>{J0(Z<=$.length,"data short segment too short","BUFFER_OVERRUN",{buffer:$,length:$.length,offset:Z})};if($[Q]>=248){let Z=$[Q]-247;X(Q+1+Z);let Y=R7($,Q+1,Z);return X(Q+1+Z+Y),P7($,Q,Q+1+Z,Z+Y)}else if($[Q]>=192){let Z=$[Q]-192;return X(Q+1+Z),P7($,Q,Q+1,Z)}else if($[Q]>=184){let Z=$[Q]-183;X(Q+1+Z);let Y=R7($,Q+1,Z);X(Q+1+Z+Y);let V=O0($.slice(Q+1+Z,Q+1+Z+Y));return{consumed:1+Z+Y,result:V}}else if($[Q]>=128){let Z=$[Q]-128;X(Q+1+Z);let Y=O0($.slice(Q+1,Q+1+Z));return{consumed:1+Z,result:Y}}return{consumed:1,result:QR($[Q])}}function fZ($){let Q=M0($,"data"),X=E7(Q,0);return b(X.consumed===Q.length,"unexpected junk after rlp payload","data",$),X.result}var I7=G0(()=>{hX();zZ();hX()});function S7($){let Q=[];while($)Q.unshift($&255),$>>=8;return Q}function B7($){if(Array.isArray($)){let Z=[];if($.forEach(function(V){Z=Z.concat(B7(V))}),Z.length<=55)return Z.unshift(192+Z.length),Z;let Y=S7(Z.length);return Y.unshift(247+Y.length),Y.concat(Z)}let Q=Array.prototype.slice.call(M0($,"object"));if(Q.length===1&&Q[0]<=127)return Q;else if(Q.length<=55)return Q.unshift(128+Q.length),Q;let X=S7(Q.length);return X.unshift(183+X.length),X.concat(Q)}function lQ($){let Q="0x";for(let X of B7($))Q+=N7[X>>4],Q+=N7[X&15];return Q}var N7="0123456789abcdef";var j7=G0(()=>{hX()});function iY($,Q){let X=18;if(typeof Q==="string"){let Z=_7.indexOf(Q);b(Z>=0,"invalid unit","unit",Q),X=3*Z}else if(Q!=null)X=n0(Q,"unit");return zX.fromValue($,X,{decimals:X,width:512}).toString()}function nJ($,Q){b(typeof $==="string","value must be a string","value",$);let X=18;if(typeof Q==="string"){let Z=_7.indexOf(Q);b(Z>=0,"invalid unit","unit",Q),X=3*Z}else if(Q!=null)X=n0(Q,"unit");return zX.fromString($,{decimals:X,width:512}).value}function M1($){return iY($,18)}function C1($){return nJ($,18)}var _7;var w7=G0(()=>{zZ();y6();YG();_7=["wei","kwei","mwei","gwei","szabo","finney","ether"]});function zG($){let Q=M0($,"randomBytes");Q[6]=Q[6]&15|64,Q[8]=Q[8]&63|128;let X=O0(Q);return[X.substring(2,10),X.substring(10,14),X.substring(14,18),X.substring(18,22),X.substring(22,34)].join("-")}var x7=G0(()=>{hX()});var d0=G0(()=>{O7();f6();hX();zZ();z7();T7();y6();YG();I7();j7();w7();H1();x7()});function sJ($){return v7.get($)}function k7($,Q){v7.set($,Q)}function pW($,Q){let X=new Error(`deferred error during ABI decoding triggered accessing ${$}`);throw X.error=Q,X}function b6($,Q,X){if($.indexOf(null)>=0)return Q.map((Z,Y)=>{if(Z instanceof aQ)return b6(sJ(Z),Z,X);return Z});return $.reduce((Z,Y,V)=>{let G=Q.getValue(Y);if(!(Y in Z)){if(X&&G instanceof aQ)G=b6(sJ(G),G,X);Z[Y]=G}return Z},{})}function mW($){let Q=[],X=function(Z,Y){if(!Array.isArray(Y))return;for(let V in Y){let G=Z.slice();G.push(V);try{X(G,Y[V])}catch(z){Q.push({path:G,error:z})}}};return X([],$),Q}function f7($){let Q=L$($);if(J0(Q.length<=kQ,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Q,length:kQ,offset:Q.length}),Q.length!==kQ)Q=x$(i0([h6.slice(Q.length%kQ),Q]));return Q}class AQ{name;type;localName;dynamic;constructor($,Q,X,Z){I0(this,{name:$,type:Q,localName:X,dynamic:Z},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError($,Q){b(!1,$,this.localName,Q)}}class HG{#$;#Q;constructor(){this.#$=[],this.#Q=0}get data(){return i0(this.#$)}get length(){return this.#Q}#X($){return this.#$.push($),this.#Q+=$.length,$.length}appendWriter($){return this.#X(x$($.data))}writeBytes($){let Q=x$($),X=Q.length%kQ;if(X)Q=x$(i0([Q,h6.slice(X)]));return this.#X(Q)}writeValue($){return this.#X(f7($))}writeUpdatableValue(){let $=this.#$.length;return this.#$.push(h6),this.#Q+=kQ,(Q)=>{this.#$[$]=f7(Q)}}}class F1{allowLoose;#$;#Q;#X;#Z;#Y;constructor($,Q,X){I0(this,{allowLoose:!!Q}),this.#$=x$($),this.#X=0,this.#Z=null,this.#Y=X!=null?X:1024,this.#Q=0}get data(){return O0(this.#$)}get dataLength(){return this.#$.length}get consumed(){return this.#Q}get bytes(){return new Uint8Array(this.#$)}#G($){if(this.#Z)return this.#Z.#G($);this.#X+=$,J0(this.#Y<1||this.#X<=this.#Y*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#Y} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:x$(this.#$),offset:this.#Q,length:$,info:{bytesRead:this.#X,dataLength:this.dataLength}})}#J($,Q,X){let Z=Math.ceil(Q/kQ)*kQ;if(this.#Q+Z>this.#$.length)if(this.allowLoose&&X&&this.#Q+Q<=this.#$.length)Z=Q;else J0(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:x$(this.#$),length:this.#$.length,offset:this.#Q+Z});return this.#$.slice(this.#Q,this.#Q+Z)}subReader($){let Q=new F1(this.#$.slice(this.#Q+$),this.allowLoose,this.#Y);return Q.#Z=this,Q}readBytes($,Q){let X=this.#J(0,$,!!Q);return this.#G($),this.#Q+=X.length,X.slice(0,$)}readValue(){return IX(this.readBytes(kQ))}readIndex(){return ZG(this.readBytes(kQ))}}var kQ=32,h6,XR,A1,v7,aQ;var pX=G0(()=>{d0();h6=new Uint8Array(kQ),XR=["then"],A1={},v7=new WeakMap;aQ=class aQ extends Array{#$;constructor(...$){let Q=$[0],X=$[1],Z=($[2]||[]).slice(),Y=!0;if(Q!==A1)X=$,Z=[],Y=!1;super(X.length);X.forEach((z,L)=>{this[L]=z});let V=Z.reduce((z,L)=>{if(typeof L==="string")z.set(L,(z.get(L)||0)+1);return z},new Map);if(k7(this,Object.freeze(X.map((z,L)=>{let A=Z[L];if(A!=null&&V.get(A)===1)return A;return null}))),this.#$=[],this.#$==null)this.#$;if(!Y)return;Object.freeze(this);let G=new Proxy(this,{get:(z,L,A)=>{if(typeof L==="string"){if(L.match(/^[0-9]+$/)){let C=n0(L,"%index");if(C<0||C>=this.length)throw new RangeError("out of result range");let q=z[C];if(q instanceof Error)pW(`index ${C}`,q);return q}if(XR.indexOf(L)>=0)return Reflect.get(z,L,A);let F=z[L];if(F instanceof Function)return function(...C){return F.apply(this===A?z:this,C)};else if(!(L in z))return z.getValue.apply(this===A?z:this,[L])}return Reflect.get(z,L,A)}});return k7(G,sJ(this)),G}toArray($){let Q=[];return this.forEach((X,Z)=>{if(X instanceof Error)pW(`index ${Z}`,X);if($&&X instanceof aQ)X=X.toArray($);Q.push(X)}),Q}toObject($){let Q=sJ(this);return Q.reduce((X,Z,Y)=>{return J0(Z!=null,`value at index ${Y} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),b6(Q,this,$)},{})}slice($,Q){if($==null)$=0;if($<0){if($+=this.length,$<0)$=0}if(Q==null)Q=this.length;if(Q<0){if(Q+=this.length,Q<0)Q=0}if(Q>this.length)Q=this.length;let X=sJ(this),Z=[],Y=[];for(let V=$;V<Q;V++)Z.push(this[V]),Y.push(X[V]);return new aQ(A1,Z,Y)}filter($,Q){let X=sJ(this),Z=[],Y=[];for(let V=0;V<this.length;V++){let G=this[V];if(G instanceof Error)pW(`index ${V}`,G);if($.call(Q,G,V,this))Z.push(G),Y.push(X[V])}return new aQ(A1,Z,Y)}map($,Q){let X=[];for(let Z=0;Z<this.length;Z++){let Y=this[Z];if(Y instanceof Error)pW(`index ${Z}`,Y);X.push($.call(Q,Y,Z,this))}return X}getValue($){let Q=sJ(this).indexOf($);if(Q===-1)return;let X=this[Q];if(X instanceof Error)pW(`property ${JSON.stringify($)}`,X.error);return X}static fromItems($,Q){return new aQ(A1,$,Q)}}});function oQ($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)}function cW($,...Q){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Q.length>0&&!Q.includes($.length))throw new Error(`Expected Uint8Array of length ${Q}, not of length=${$.length}`)}function T1($){if(typeof $!=="function"||typeof $.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");oQ($.outputLen),oQ($.blockLen)}function ZY($,Q=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Q&&$.finished)throw new Error("Hash#digest() has already been called")}function R1($,Q){cW($);let X=Q.outputLen;if($.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}var DG=()=>{};var P1;var g7=G0(()=>{P1=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:void 0});async function E1($,Q,X){let Z=Date.now();for(let Y=0;Y<$;Y++){X(Y);let V=Date.now()-Z;if(V>=0&&V<Q)continue;await YR(),Z+=V}}function JR($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function vZ($){if(typeof $==="string")$=JR($);if(!y7($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}function h7(...$){let Q=new Uint8Array($.reduce((Z,Y)=>Z+Y.length,0)),X=0;return $.forEach((Z)=>{if(!y7(Z))throw new Error("Uint8Array expected");Q.set(Z,X),X+=Z.length}),Q}class iJ{clone(){return this._cloneInto()}}function I1($,Q){if(Q!==void 0&&GR.call(Q)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,Q)}function rY($){let Q=(Z)=>$().update(vZ(Z)).digest(),X=$();return Q.outputLen=X.outputLen,Q.blockLen=X.blockLen,Q.create=()=>$(),Q}function b7($=32){if(P1&&typeof P1.getRandomValues==="function")return P1.getRandomValues(new Uint8Array($));throw new Error("crypto.getRandomValues must be defined")}var y7=($)=>$ instanceof Uint8Array,LG=($)=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4)),qG=($)=>new DataView($.buffer,$.byteOffset,$.byteLength),LZ=($,Q)=>$<<32-Q|$>>>Q,ZR,YR=async()=>{},GR;var gZ=G0(()=>{g7();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */ZR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ZR)throw new Error("Non little-endian hardware is not supported");GR={}.toString});var p6,rJ=($,Q,X)=>new p6($,Q).update(X).digest();var S1=G0(()=>{DG();gZ();p6=class p6 extends iJ{constructor($,Q){super();this.finished=!1,this.destroyed=!1,T1($);let X=vZ(Q);if(this.iHash=$.create(),typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let Z=this.blockLen,Y=new Uint8Array(Z);Y.set(X.length>Z?$.create().update(X).digest():X);for(let V=0;V<Y.length;V++)Y[V]^=54;this.iHash.update(Y),this.oHash=$.create();for(let V=0;V<Y.length;V++)Y[V]^=106;this.oHash.update(Y),Y.fill(0)}update($){return ZY(this),this.iHash.update($),this}digestInto($){ZY(this),cW($,this.outputLen),this.finished=!0,this.iHash.digestInto($),this.oHash.update($),this.oHash.digestInto($),this.destroy()}digest(){let $=new Uint8Array(this.oHash.outputLen);return this.digestInto($),$}_cloneInto($){$||($=Object.create(Object.getPrototypeOf(this),{}));let{oHash:Q,iHash:X,finished:Z,destroyed:Y,blockLen:V,outputLen:G}=this;return $=$,$.finished=Z,$.destroyed=Y,$.blockLen=V,$.outputLen=G,$.oHash=Q._cloneInto($.oHash),$.iHash=X._cloneInto($.iHash),$}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};rJ.create=($,Q)=>new p6($,Q)});function WR($,Q,X,Z){T1($);let Y=I1({dkLen:32,asyncTick:10},Z),{c:V,dkLen:G,asyncTick:z}=Y;if(oQ(V),oQ(G),oQ(z),V<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let L=vZ(Q),A=vZ(X),F=new Uint8Array(G),C=rJ.create($,L),q=C._cloneInto().update(A);return{c:V,dkLen:G,asyncTick:z,DK:F,PRF:C,PRFSalt:q}}function VR($,Q,X,Z,Y){if($.destroy(),Q.destroy(),Z)Z.destroy();return Y.fill(0),X}function uW($,Q,X,Z){let{c:Y,dkLen:V,DK:G,PRF:z,PRFSalt:L}=WR($,Q,X,Z),A,F=new Uint8Array(4),C=qG(F),q=new Uint8Array(z.outputLen);for(let R=1,I=0;I<V;R++,I+=z.outputLen){let S=G.subarray(I,I+z.outputLen);C.setInt32(0,R,!1),(A=L._cloneInto(A)).update(F).digestInto(q),S.set(q.subarray(0,S.length));for(let N=1;N<Y;N++){z._cloneInto(A).update(q).digestInto(q);for(let B=0;B<S.length;B++)S[B]^=q[B]}}return VR(z,L,G,A,q)}var m6=G0(()=>{DG();S1();gZ()});function KR($,Q,X,Z){if(typeof $.setBigUint64==="function")return $.setBigUint64(Q,X,Z);let Y=BigInt(32),V=BigInt(4294967295),G=Number(X>>Y&V),z=Number(X&V),L=Z?4:0,A=Z?0:4;$.setUint32(Q+L,G,Z),$.setUint32(Q+A,z,Z)}var aJ;var N1=G0(()=>{DG();gZ();aJ=class aJ extends iJ{constructor($,Q,X,Z){super();this.blockLen=$,this.outputLen=Q,this.padOffset=X,this.isLE=Z,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=qG(this.buffer)}update($){ZY(this);let{view:Q,buffer:X,blockLen:Z}=this;$=vZ($);let Y=$.length;for(let V=0;V<Y;){let G=Math.min(Z-this.pos,Y-V);if(G===Z){let z=qG($);for(;Z<=Y-V;V+=Z)this.process(z,V);continue}if(X.set($.subarray(V,V+G),this.pos),this.pos+=G,V+=G,this.pos===Z)this.process(Q,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){ZY(this),R1($,this),this.finished=!0;let{buffer:Q,view:X,blockLen:Z,isLE:Y}=this,{pos:V}=this;if(Q[V++]=128,this.buffer.subarray(V).fill(0),this.padOffset>Z-V)this.process(X,0),V=0;for(let F=V;F<Z;F++)Q[F]=0;KR(X,Z-8,BigInt(this.length*8),Y),this.process(X,0);let G=qG($),z=this.outputLen;if(z%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let L=z/4,A=this.get();if(L>A.length)throw new Error("_sha2: outputLen bigger than state");for(let F=0;F<L;F++)G.setUint32(4*F,A[F],Y)}digest(){let{buffer:$,outputLen:Q}=this;this.digestInto($);let X=$.slice(0,Q);return this.destroy(),X}_cloneInto($){$||($=new this.constructor),$.set(...this.get());let{blockLen:Q,buffer:X,length:Z,finished:Y,destroyed:V,pos:G}=this;if($.length=Z,$.pos=G,$.finished=Y,$.destroyed=V,Z%Q)$.buffer.set(X);return $}}});var UR=($,Q,X)=>$&Q^~$&X,OR=($,Q,X)=>$&Q^$&X^Q&X,zR,aY,tY,p7,YY;var B1=G0(()=>{N1();gZ();zR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),aY=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tY=new Uint32Array(64);p7=class p7 extends aJ{constructor(){super(64,32,8,!1);this.A=aY[0]|0,this.B=aY[1]|0,this.C=aY[2]|0,this.D=aY[3]|0,this.E=aY[4]|0,this.F=aY[5]|0,this.G=aY[6]|0,this.H=aY[7]|0}get(){let{A:$,B:Q,C:X,D:Z,E:Y,F:V,G,H:z}=this;return[$,Q,X,Z,Y,V,G,z]}set($,Q,X,Z,Y,V,G,z){this.A=$|0,this.B=Q|0,this.C=X|0,this.D=Z|0,this.E=Y|0,this.F=V|0,this.G=G|0,this.H=z|0}process($,Q){for(let F=0;F<16;F++,Q+=4)tY[F]=$.getUint32(Q,!1);for(let F=16;F<64;F++){let C=tY[F-15],q=tY[F-2],R=LZ(C,7)^LZ(C,18)^C>>>3,I=LZ(q,17)^LZ(q,19)^q>>>10;tY[F]=I+tY[F-7]+R+tY[F-16]|0}let{A:X,B:Z,C:Y,D:V,E:G,F:z,G:L,H:A}=this;for(let F=0;F<64;F++){let C=LZ(G,6)^LZ(G,11)^LZ(G,25),q=A+C+UR(G,z,L)+zR[F]+tY[F]|0,I=(LZ(X,2)^LZ(X,13)^LZ(X,22))+OR(X,Z,Y)|0;A=L,L=z,z=G,G=V+q|0,V=Y,Y=Z,Z=X,X=q+I|0}X=X+this.A|0,Z=Z+this.B|0,Y=Y+this.C|0,V=V+this.D|0,G=G+this.E|0,z=z+this.F|0,L=L+this.G|0,A=A+this.H|0,this.set(X,Z,Y,V,G,z,L,A)}roundClean(){tY.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};YY=rY(()=>new p7)});function m7($,Q=!1){if(Q)return{h:Number($&j1),l:Number($>>c6&j1)};return{h:Number($>>c6&j1)|0,l:Number($&j1)|0}}function u6($,Q=!1){let X=new Uint32Array($.length),Z=new Uint32Array($.length);for(let Y=0;Y<$.length;Y++){let{h:V,l:G}=m7($[Y],Q);[X[Y],Z[Y]]=[V,G]}return[X,Z]}function RR($,Q,X,Z){let Y=(Q>>>0)+(Z>>>0);return{h:$+X+(Y/4294967296|0)|0,l:Y|0}}var j1,c6,HR=($,Q)=>BigInt($>>>0)<<c6|BigInt(Q>>>0),DR=($,Q,X)=>$>>>X,LR=($,Q,X)=>$<<32-X|Q>>>X,qR=($,Q,X)=>$>>>X|Q<<32-X,MR=($,Q,X)=>$<<32-X|Q>>>X,CR=($,Q,X)=>$<<64-X|Q>>>X-32,AR=($,Q,X)=>$>>>X-32|Q<<64-X,FR=($,Q)=>Q,TR=($,Q)=>$,d6=($,Q,X)=>$<<X|Q>>>32-X,l6=($,Q,X)=>Q<<X|$>>>32-X,o6=($,Q,X)=>Q<<X-32|$>>>64-X,n6=($,Q,X)=>$<<X-32|Q>>>64-X,PR=($,Q,X)=>($>>>0)+(Q>>>0)+(X>>>0),ER=($,Q,X,Z)=>Q+X+Z+($/4294967296|0)|0,IR=($,Q,X,Z)=>($>>>0)+(Q>>>0)+(X>>>0)+(Z>>>0),SR=($,Q,X,Z,Y)=>Q+X+Z+Y+($/4294967296|0)|0,NR=($,Q,X,Z,Y)=>($>>>0)+(Q>>>0)+(X>>>0)+(Z>>>0)+(Y>>>0),BR=($,Q,X,Z,Y,V)=>Q+X+Z+Y+V+($/4294967296|0)|0,jR,Z$;var s6=G0(()=>{j1=BigInt(4294967295),c6=BigInt(32);jR={fromBig:m7,split:u6,toBig:HR,shrSH:DR,shrSL:LR,rotrSH:qR,rotrSL:MR,rotrBH:CR,rotrBL:AR,rotr32H:FR,rotr32L:TR,rotlSH:d6,rotlSL:l6,rotlBH:o6,rotlBL:n6,add:RR,add3L:PR,add3H:ER,add4L:IR,add4H:SR,add5H:BR,add5L:NR},Z$=jR});var _R,wR,eY,$J,c7,_1;var u7=G0(()=>{N1();s6();gZ();[_R,wR]=(()=>Z$.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(($)=>BigInt($))))(),eY=new Uint32Array(80),$J=new Uint32Array(80);c7=class c7 extends aJ{constructor(){super(128,64,16,!1);this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:$,Al:Q,Bh:X,Bl:Z,Ch:Y,Cl:V,Dh:G,Dl:z,Eh:L,El:A,Fh:F,Fl:C,Gh:q,Gl:R,Hh:I,Hl:S}=this;return[$,Q,X,Z,Y,V,G,z,L,A,F,C,q,R,I,S]}set($,Q,X,Z,Y,V,G,z,L,A,F,C,q,R,I,S){this.Ah=$|0,this.Al=Q|0,this.Bh=X|0,this.Bl=Z|0,this.Ch=Y|0,this.Cl=V|0,this.Dh=G|0,this.Dl=z|0,this.Eh=L|0,this.El=A|0,this.Fh=F|0,this.Fl=C|0,this.Gh=q|0,this.Gl=R|0,this.Hh=I|0,this.Hl=S|0}process($,Q){for(let _=0;_<16;_++,Q+=4)eY[_]=$.getUint32(Q),$J[_]=$.getUint32(Q+=4);for(let _=16;_<80;_++){let k=eY[_-15]|0,f=$J[_-15]|0,v=Z$.rotrSH(k,f,1)^Z$.rotrSH(k,f,8)^Z$.shrSH(k,f,7),p=Z$.rotrSL(k,f,1)^Z$.rotrSL(k,f,8)^Z$.shrSL(k,f,7),c=eY[_-2]|0,X0=$J[_-2]|0,t=Z$.rotrSH(c,X0,19)^Z$.rotrBH(c,X0,61)^Z$.shrSH(c,X0,6),h=Z$.rotrSL(c,X0,19)^Z$.rotrBL(c,X0,61)^Z$.shrSL(c,X0,6),l=Z$.add4L(p,h,$J[_-7],$J[_-16]),E=Z$.add4H(l,v,t,eY[_-7],eY[_-16]);eY[_]=E|0,$J[_]=l|0}let{Ah:X,Al:Z,Bh:Y,Bl:V,Ch:G,Cl:z,Dh:L,Dl:A,Eh:F,El:C,Fh:q,Fl:R,Gh:I,Gl:S,Hh:N,Hl:B}=this;for(let _=0;_<80;_++){let k=Z$.rotrSH(F,C,14)^Z$.rotrSH(F,C,18)^Z$.rotrBH(F,C,41),f=Z$.rotrSL(F,C,14)^Z$.rotrSL(F,C,18)^Z$.rotrBL(F,C,41),v=F&q^~F&I,p=C&R^~C&S,c=Z$.add5L(B,f,p,wR[_],$J[_]),X0=Z$.add5H(c,N,k,v,_R[_],eY[_]),t=c|0,h=Z$.rotrSH(X,Z,28)^Z$.rotrBH(X,Z,34)^Z$.rotrBH(X,Z,39),l=Z$.rotrSL(X,Z,28)^Z$.rotrBL(X,Z,34)^Z$.rotrBL(X,Z,39),E=X&Y^X&G^Y&G,J=Z&V^Z&z^V&z;N=I|0,B=S|0,I=q|0,S=R|0,q=F|0,R=C|0,{h:F,l:C}=Z$.add(L|0,A|0,X0|0,t|0),L=G|0,A=z|0,G=Y|0,z=V|0,Y=X|0,V=Z|0;let U=Z$.add3L(t,l,J);X=Z$.add3H(U,X0,h,E),Z=U|0}({h:X,l:Z}=Z$.add(this.Ah|0,this.Al|0,X|0,Z|0)),{h:Y,l:V}=Z$.add(this.Bh|0,this.Bl|0,Y|0,V|0),{h:G,l:z}=Z$.add(this.Ch|0,this.Cl|0,G|0,z|0),{h:L,l:A}=Z$.add(this.Dh|0,this.Dl|0,L|0,A|0),{h:F,l:C}=Z$.add(this.Eh|0,this.El|0,F|0,C|0),{h:q,l:R}=Z$.add(this.Fh|0,this.Fl|0,q|0,R|0),{h:I,l:S}=Z$.add(this.Gh|0,this.Gl|0,I|0,S|0),{h:N,l:B}=Z$.add(this.Hh|0,this.Hl|0,N|0,B|0),this.set(X,Z,Y,V,G,z,L,A,F,C,q,R,I,S,N,B)}roundClean(){eY.fill(0),$J.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};_1=rY(()=>new c7)});function xR(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}function i6($){switch($){case"sha256":return YY.create();case"sha512":return _1.create()}b(!1,"invalid hashing algorithm name","algorithm",$)}function o7($,Q){let X={sha256:YY,sha512:_1}[$];return b(X!=null,"invalid hmac algorithm","algorithm",$),rJ.create(X,Q)}function n7($,Q,X,Z,Y){let V={sha256:YY,sha512:_1}[Y];return b(V!=null,"invalid pbkdf2 algorithm","algorithm",Y),uW(V,$,Q,{c:X,dkLen:Z})}function s7($){J0(l7!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),b(Number.isInteger($)&&$>0&&$<=1024,"invalid length","length",$);let Q=new Uint8Array($);return l7.getRandomValues(Q),Q}var d7,l7;var dW=G0(()=>{S1();m6();B1();u7();d0();d7=xR(),l7=d7.crypto||d7.msCrypto});function mX($,Q,X){let Z=M0(Q,"key"),Y=M0(X,"data");return O0(a7($,Z,Y))}var i7=!1,r7=function($,Q,X){return o7($,Q).update(X).digest()},a7;var t7=G0(()=>{dW();d0();a7=r7;mX._=r7;mX.lock=function(){i7=!0};mX.register=function($){if(i7)throw new Error("computeHmac is locked");a7=$};Object.freeze(mX)});function pR($,Q=24){let X=new Uint32Array(10);for(let Z=24-Q;Z<24;Z++){for(let G=0;G<10;G++)X[G]=$[G]^$[G+10]^$[G+20]^$[G+30]^$[G+40];for(let G=0;G<10;G+=2){let z=(G+8)%10,L=(G+2)%10,A=X[L],F=X[L+1],C=e7(A,F,1)^X[z],q=$H(A,F,1)^X[z+1];for(let R=0;R<50;R+=10)$[G+R]^=C,$[G+R+1]^=q}let Y=$[2],V=$[3];for(let G=0;G<24;G++){let z=XH[G],L=e7(Y,V,z),A=$H(Y,V,z),F=QH[G];Y=$[F],V=$[F+1],$[F]=L,$[F+1]=A}for(let G=0;G<50;G+=10){for(let z=0;z<10;z++)X[z]=$[G+z];for(let z=0;z<10;z++)$[G+z]^=~X[(z+2)%10]&X[(z+4)%10]}$[0]^=hR[Z],$[1]^=bR[Z]}X.fill(0)}var QH,XH,ZH,kR,lW,fR,vR,gR,yR,hR,bR,e7=($,Q,X)=>X>32?o6($,Q,X):d6($,Q,X),$H=($,Q,X)=>X>32?n6($,Q,X):l6($,Q,X),r6,mR=($,Q,X)=>rY(()=>new r6(Q,$,X)),YH;var JH=G0(()=>{DG();s6();gZ();[QH,XH,ZH]=[[],[],[]],kR=BigInt(0),lW=BigInt(1),fR=BigInt(2),vR=BigInt(7),gR=BigInt(256),yR=BigInt(113);for(let $=0,Q=lW,X=1,Z=0;$<24;$++){[X,Z]=[Z,(2*X+3*Z)%5],QH.push(2*(5*Z+X)),XH.push(($+1)*($+2)/2%64);let Y=kR;for(let V=0;V<7;V++)if(Q=(Q<<lW^(Q>>vR)*yR)%gR,Q&fR)Y^=lW<<(lW<<BigInt(V))-lW;ZH.push(Y)}[hR,bR]=u6(ZH,!0);r6=class r6 extends iJ{constructor($,Q,X,Z=!1,Y=24){super();if(this.blockLen=$,this.suffix=Q,this.outputLen=X,this.enableXOF=Z,this.rounds=Y,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,oQ(X),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=LG(this.state)}keccak(){pR(this.state32,this.rounds),this.posOut=0,this.pos=0}update($){ZY(this);let{blockLen:Q,state:X}=this;$=vZ($);let Z=$.length;for(let Y=0;Y<Z;){let V=Math.min(Q-this.pos,Z-Y);for(let G=0;G<V;G++)X[this.pos++]^=$[Y++];if(this.pos===Q)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:$,suffix:Q,pos:X,blockLen:Z}=this;if($[X]^=Q,(Q&128)!==0&&X===Z-1)this.keccak();$[Z-1]^=128,this.keccak()}writeInto($){ZY(this,!1),cW($),this.finish();let Q=this.state,{blockLen:X}=this;for(let Z=0,Y=$.length;Z<Y;){if(this.posOut>=X)this.keccak();let V=Math.min(X-this.posOut,Y-Z);$.set(Q.subarray(this.posOut,this.posOut+V),Z),this.posOut+=V,Z+=V}return $}xofInto($){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto($)}xof($){return oQ($),this.xofInto(new Uint8Array($))}digestInto($){if(R1($,this),this.finished)throw new Error("digest() was already called");return this.writeInto($),this.destroy(),$}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto($){let{blockLen:Q,suffix:X,outputLen:Z,rounds:Y,enableXOF:V}=this;return $||($=new r6(Q,X,Z,V,Y)),$.state32.set(this.state32),$.pos=this.pos,$.posOut=this.posOut,$.finished=this.finished,$.rounds=Y,$.suffix=X,$.outputLen=Z,$.enableXOF=V,$.destroyed=this.destroyed,$}};YH=mR(1,136,32)});function t0($){let Q=M0($,"data");return O0(VH(Q))}var GH=!1,WH=function($){return YH($)},VH;var KH=G0(()=>{JH();d0();VH=WH;t0._=WH;t0.lock=function(){GH=!0};t0.register=function($){if(GH)throw new TypeError("keccak256 is locked");VH=$};Object.freeze(t0)});function UH($,Q,X,Z){if($===0)return Q^X^Z;else if($===1)return Q&X|~Q&Z;else if($===2)return(Q|~X)^Z;else if($===3)return Q&Z|X&~Z;else return Q^(X|~Z)}var cR,OH,uR,a6,t6,zH,dR,lR,oR,nR,w1=($,Q)=>$<<Q|$>>>32-Q,x1,HH,DH;var LH=G0(()=>{N1();gZ();cR=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),OH=Uint8Array.from({length:16},($,Q)=>Q),uR=OH.map(($)=>(9*$+5)%16),a6=[OH],t6=[uR];for(let $=0;$<4;$++)for(let Q of[a6,t6])Q.push(Q[$].map((X)=>cR[X]));zH=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(($)=>new Uint8Array($)),dR=a6.map(($,Q)=>$.map((X)=>zH[Q][X])),lR=t6.map(($,Q)=>$.map((X)=>zH[Q][X])),oR=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),nR=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);x1=new Uint32Array(16);HH=class HH extends aJ{constructor(){super(64,20,8,!0);this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:$,h1:Q,h2:X,h3:Z,h4:Y}=this;return[$,Q,X,Z,Y]}set($,Q,X,Z,Y){this.h0=$|0,this.h1=Q|0,this.h2=X|0,this.h3=Z|0,this.h4=Y|0}process($,Q){for(let q=0;q<16;q++,Q+=4)x1[q]=$.getUint32(Q,!0);let X=this.h0|0,Z=X,Y=this.h1|0,V=Y,G=this.h2|0,z=G,L=this.h3|0,A=L,F=this.h4|0,C=F;for(let q=0;q<5;q++){let R=4-q,I=oR[q],S=nR[q],N=a6[q],B=t6[q],_=dR[q],k=lR[q];for(let f=0;f<16;f++){let v=w1(X+UH(q,Y,G,L)+x1[N[f]]+I,_[f])+F|0;X=F,F=L,L=w1(G,10)|0,G=Y,Y=v}for(let f=0;f<16;f++){let v=w1(Z+UH(R,V,z,A)+x1[B[f]]+S,k[f])+C|0;Z=C,C=A,A=w1(z,10)|0,z=V,V=v}}this.set(this.h1+G+A|0,this.h2+L+C|0,this.h3+F+Z|0,this.h4+X+V|0,this.h0+Y+z|0)}roundClean(){x1.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};DH=rY(()=>new HH)});function cX($){let Q=M0($,"data");return O0(CH(Q))}var qH=!1,MH=function($){return DH($)},CH;var AH=G0(()=>{LH();d0();CH=MH;cX._=MH;cX.lock=function(){qH=!0};cX.register=function($){if(qH)throw new TypeError("ripemd160 is locked");CH=$};Object.freeze(cX)});function nQ($,Q,X,Z,Y){let V=M0($,"password"),G=M0(Q,"salt");return O0(RH(V,G,X,Z,Y))}var FH=!1,TH=function($,Q,X,Z,Y){return n7($,Q,X,Z,Y)},RH;var PH=G0(()=>{dW();d0();RH=TH;nQ._=TH;nQ.lock=function(){FH=!0};nQ.register=function($){if(FH)throw new Error("pbkdf2 is locked");RH=$};Object.freeze(nQ)});function fQ($){return SH($)}var EH=!1,IH=function($){return new Uint8Array(s7($))},SH;var NH=G0(()=>{dW();SH=IH;fQ._=IH;fQ.lock=function(){EH=!0};fQ.register=function($){if(EH)throw new Error("randomBytes is locked");SH=$};Object.freeze(fQ)});function BH($,Q,X,Z,Y,V){let G=$[Q++]^X[Z++],z=$[Q++]^X[Z++],L=$[Q++]^X[Z++],A=$[Q++]^X[Z++],F=$[Q++]^X[Z++],C=$[Q++]^X[Z++],q=$[Q++]^X[Z++],R=$[Q++]^X[Z++],I=$[Q++]^X[Z++],S=$[Q++]^X[Z++],N=$[Q++]^X[Z++],B=$[Q++]^X[Z++],_=$[Q++]^X[Z++],k=$[Q++]^X[Z++],f=$[Q++]^X[Z++],v=$[Q++]^X[Z++],p=G,c=z,X0=L,t=A,h=F,l=C,E=q,J=R,U=I,O=S,K=N,H=B,T=_,P=k,D=f,W=v;for(let M=0;M<8;M+=2)h^=T$(p+T|0,7),U^=T$(h+p|0,9),T^=T$(U+h|0,13),p^=T$(T+U|0,18),O^=T$(l+c|0,7),P^=T$(O+l|0,9),c^=T$(P+O|0,13),l^=T$(c+P|0,18),D^=T$(K+E|0,7),X0^=T$(D+K|0,9),E^=T$(X0+D|0,13),K^=T$(E+X0|0,18),t^=T$(W+H|0,7),J^=T$(t+W|0,9),H^=T$(J+t|0,13),W^=T$(H+J|0,18),c^=T$(p+t|0,7),X0^=T$(c+p|0,9),t^=T$(X0+c|0,13),p^=T$(t+X0|0,18),E^=T$(l+h|0,7),J^=T$(E+l|0,9),h^=T$(J+E|0,13),l^=T$(h+J|0,18),H^=T$(K+O|0,7),U^=T$(H+K|0,9),O^=T$(U+H|0,13),K^=T$(O+U|0,18),T^=T$(W+D|0,7),P^=T$(T+W|0,9),D^=T$(P+T|0,13),W^=T$(D+P|0,18);Y[V++]=G+p|0,Y[V++]=z+c|0,Y[V++]=L+X0|0,Y[V++]=A+t|0,Y[V++]=F+h|0,Y[V++]=C+l|0,Y[V++]=q+E|0,Y[V++]=R+J|0,Y[V++]=I+U|0,Y[V++]=S+O|0,Y[V++]=N+K|0,Y[V++]=B+H|0,Y[V++]=_+T|0,Y[V++]=k+P|0,Y[V++]=f+D|0,Y[V++]=v+W|0}function MG($,Q,X,Z,Y){let V=Z+0,G=Z+16*Y;for(let z=0;z<16;z++)X[G+z]=$[Q+(2*Y-1)*16+z];for(let z=0;z<Y;z++,V+=16,Q+=16){if(BH(X,G,$,Q,X,V),z>0)G+=16;BH(X,V,$,Q+=16,X,G)}}function jH($,Q,X){let Z=I1({dkLen:32,asyncTick:10,maxmem:1073742848},X),{N:Y,r:V,p:G,dkLen:z,asyncTick:L,maxmem:A,onProgress:F}=Z;if(oQ(Y),oQ(V),oQ(G),oQ(z),oQ(L),oQ(A),F!==void 0&&typeof F!=="function")throw new Error("progressCb should be function");let C=128*V,q=C/4;if(Y<=1||(Y&Y-1)!==0||Y>=2**(C/8)||Y>4294967296)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(G<0||G>137438953440/C)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(z<0||z>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let R=C*(Y+G);if(R>A)throw new Error(`Scrypt: parameters too large, ${R} (128 * r * (N + p)) > ${A} (maxmem)`);let I=uW(YY,$,Q,{c:1,dkLen:C*G}),S=LG(I),N=LG(new Uint8Array(C*Y)),B=LG(new Uint8Array(C)),_=()=>{};if(F){let k=2*Y*G,f=Math.max(Math.floor(k/1e4),1),v=0;_=()=>{if(v++,F&&(!(v%f)||v===k))F(v/k)}}return{N:Y,r:V,p:G,dkLen:z,blockSize32:q,V:N,B32:S,B:I,tmp:B,blockMixCb:_,asyncTick:L}}function _H($,Q,X,Z,Y){let V=uW(YY,$,X,{c:1,dkLen:Q});return X.fill(0),Z.fill(0),Y.fill(0),V}function wH($,Q,X){let{N:Z,r:Y,p:V,dkLen:G,blockSize32:z,V:L,B32:A,B:F,tmp:C,blockMixCb:q}=jH($,Q,X);for(let R=0;R<V;R++){let I=z*R;for(let S=0;S<z;S++)L[S]=A[I+S];for(let S=0,N=0;S<Z-1;S++)MG(L,N,L,N+=z,Y),q();MG(L,(Z-1)*z,A,I,Y),q();for(let S=0;S<Z;S++){let N=A[I+z-16]%Z;for(let B=0;B<z;B++)C[B]=A[I+B]^L[N*z+B];MG(C,0,A,I,Y),q()}}return _H($,G,F,L,C)}async function xH($,Q,X){let{N:Z,r:Y,p:V,dkLen:G,blockSize32:z,V:L,B32:A,B:F,tmp:C,blockMixCb:q,asyncTick:R}=jH($,Q,X);for(let I=0;I<V;I++){let S=z*I;for(let B=0;B<z;B++)L[B]=A[S+B];let N=0;await E1(Z-1,R,()=>{MG(L,N,L,N+=z,Y),q()}),MG(L,(Z-1)*z,A,S,Y),q(),await E1(Z,R,()=>{let B=A[S+z-16]%Z;for(let _=0;_<z;_++)C[_]=A[S+_]^L[B*z+_];MG(C,0,A,S,Y),q()})}return _H($,G,F,L,C)}var T$=($,Q)=>$<<Q|$>>>32-Q;var kH=G0(()=>{DG();B1();m6();gZ()});async function uX($,Q,X,Z,Y,V,G){let z=M0($,"passwd"),L=M0(Q,"salt");return O0(await hH(z,L,X,Z,Y,V,G))}function dX($,Q,X,Z,Y,V){let G=M0($,"passwd"),z=M0(Q,"salt");return O0(bH(G,z,X,Z,Y,V))}var fH=!1,vH=!1,gH=async function($,Q,X,Z,Y,V,G){return await xH($,Q,{N:X,r:Z,p:Y,dkLen:V,onProgress:G})},yH=function($,Q,X,Z,Y,V){return wH($,Q,{N:X,r:Z,p:Y,dkLen:V})},hH,bH;var pH=G0(()=>{kH();d0();hH=gH,bH=yH;uX._=gH;uX.lock=function(){vH=!0};uX.register=function($){if(vH)throw new Error("scrypt is locked");hH=$};Object.freeze(uX);dX._=yH;dX.lock=function(){fH=!0};dX.register=function($){if(fH)throw new Error("scryptSync is locked");bH=$};Object.freeze(dX)});function d$($){let Q=M0($,"data");return O0(uH(Q))}function QJ($){let Q=M0($,"data");return O0(dH(Q))}var mH=function($){return i6("sha256").update($).digest()},cH=function($){return i6("sha512").update($).digest()},uH,dH,lH=!1,oH=!1;var nH=G0(()=>{dW();d0();uH=mH,dH=cH;d$._=mH;d$.lock=function(){lH=!0};d$.register=function($){if(lH)throw new Error("sha256 is locked");uH=$};Object.freeze(d$);QJ._=cH;QJ.lock=function(){oH=!0};QJ.register=function($){if(oH)throw new Error("sha512 is locked");dH=$};Object.freeze(d$)});var X9={};RQ(X9,{validateObject:()=>ZJ,utf8ToBytes:()=>tR,numberToVarBytesBE:()=>rR,numberToHexUnpadded:()=>rH,numberToBytesLE:()=>g1,numberToBytesBE:()=>XJ,hexToNumber:()=>$9,hexToBytes:()=>eJ,equalBytes:()=>aR,ensureBytes:()=>SX,createHmacDrbg:()=>Q9,concatBytes:()=>CG,bytesToNumberLE:()=>v1,bytesToNumberBE:()=>JY,bytesToHex:()=>tJ,bitSet:()=>QP,bitMask:()=>oW,bitLen:()=>eR,bitGet:()=>$P});function tJ($){if(!f1($))throw new Error("Uint8Array expected");let Q="";for(let X=0;X<$.length;X++)Q+=iR[$[X]];return Q}function rH($){let Q=$.toString(16);return Q.length&1?`0${Q}`:Q}function $9($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);return BigInt($===""?"0":`0x${$}`)}function eJ($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);let Q=$.length;if(Q%2)throw new Error("padded hex string expected, got unpadded hex of length "+Q);let X=new Uint8Array(Q/2);for(let Z=0;Z<X.length;Z++){let Y=Z*2,V=$.slice(Y,Y+2),G=Number.parseInt(V,16);if(Number.isNaN(G)||G<0)throw new Error("Invalid byte sequence");X[Z]=G}return X}function JY($){return $9(tJ($))}function v1($){if(!f1($))throw new Error("Uint8Array expected");return $9(tJ(Uint8Array.from($).reverse()))}function XJ($,Q){return eJ($.toString(16).padStart(Q*2,"0"))}function g1($,Q){return XJ($,Q).reverse()}function rR($){return eJ(rH($))}function SX($,Q,X){let Z;if(typeof Q==="string")try{Z=eJ(Q)}catch(V){throw new Error(`${$} must be valid hex string, got "${Q}". Cause: ${V}`)}else if(f1(Q))Z=Uint8Array.from(Q);else throw new Error(`${$} must be hex string or Uint8Array`);let Y=Z.length;if(typeof X==="number"&&Y!==X)throw new Error(`${$} expected ${X} bytes, got ${Y}`);return Z}function CG(...$){let Q=new Uint8Array($.reduce((Z,Y)=>Z+Y.length,0)),X=0;return $.forEach((Z)=>{if(!f1(Z))throw new Error("Uint8Array expected");Q.set(Z,X),X+=Z.length}),Q}function aR($,Q){if($.length!==Q.length)return!1;for(let X=0;X<$.length;X++)if($[X]!==Q[X])return!1;return!0}function tR($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function eR($){let Q;for(Q=0;$>iH;$>>=k1,Q+=1);return Q}function $P($,Q){return $>>BigInt(Q)&k1}function Q9($,Q,X){if(typeof $!=="number"||$<2)throw new Error("hashLen must be a number");if(typeof Q!=="number"||Q<2)throw new Error("qByteLen must be a number");if(typeof X!=="function")throw new Error("hmacFn must be a function");let Z=e6($),Y=e6($),V=0,G=()=>{Z.fill(1),Y.fill(0),V=0},z=(...C)=>X(Y,Z,...C),L=(C=e6())=>{if(Y=z(sH([0]),C),Z=z(),C.length===0)return;Y=z(sH([1]),C),Z=z()},A=()=>{if(V++>=1000)throw new Error("drbg: tried 1000 values");let C=0,q=[];while(C<Q){Z=z();let R=Z.slice();q.push(R),C+=Z.length}return CG(...q)};return(C,q)=>{G(),L(C);let R=void 0;while(!(R=q(A())))L();return G(),R}}function ZJ($,Q,X={}){let Z=(Y,V,G)=>{let z=XP[V];if(typeof z!=="function")throw new Error(`Invalid validator "${V}", expected function`);let L=$[Y];if(G&&L===void 0)return;if(!z(L,$))throw new Error(`Invalid param ${String(Y)}=${L} (${typeof L}), expected ${V}`)};for(let[Y,V]of Object.entries(Q))Z(Y,V,!1);for(let[Y,V]of Object.entries(X))Z(Y,V,!0);return $}var iH,k1,sR,f1=($)=>$ instanceof Uint8Array,iR,QP=($,Q,X)=>{return $|(X?k1:iH)<<BigInt(Q)},oW=($)=>(sR<<BigInt($-1))-k1,e6=($)=>new Uint8Array($),sH=($)=>Uint8Array.from($),XP;var nW=G0(()=>{/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */iH=BigInt(0),k1=BigInt(1),sR=BigInt(2),iR=Array.from({length:256},($,Q)=>Q.toString(16).padStart(2,"0"));XP={bigint:($)=>typeof $==="bigint",function:($)=>typeof $==="function",boolean:($)=>typeof $==="boolean",string:($)=>typeof $==="string",stringOrUint8Array:($)=>typeof $==="string"||$ instanceof Uint8Array,isSafeInteger:($)=>Number.isSafeInteger($),array:($)=>Array.isArray($),field:($,Q)=>Q.Fp.isValid($),hash:($)=>typeof $==="function"&&Number.isSafeInteger($.outputLen)}});function sQ($,Q){let X=$%Q;return X>=FQ?X:Q+X}function GP($,Q,X){if(X<=FQ||Q<FQ)throw new Error("Expected power/modulo > 0");if(X===l$)return FQ;let Z=l$;while(Q>FQ){if(Q&l$)Z=Z*$%X;$=$*$%X,Q>>=l$}return Z}function NX($,Q,X){let Z=$;while(Q-- >FQ)Z*=Z,Z%=X;return Z}function y1($,Q){if($===FQ||Q<=FQ)throw new Error(`invert: expected positive integers, got n=${$} mod=${Q}`);let X=sQ($,Q),Z=Q,Y=FQ,V=l$,G=l$,z=FQ;while(X!==FQ){let A=Z/X,F=Z%X,C=Y-G*A,q=V-z*A;Z=X,X=F,Y=G,V=z,G=C,z=q}if(Z!==l$)throw new Error("invert: does not exist");return sQ(Y,Q)}function WP($){let Q=($-l$)/$8,X,Z,Y;for(X=$-l$,Z=0;X%$8===FQ;X/=$8,Z++);for(Y=$8;Y<$&&GP(Y,Q,$)!==$-l$;Y++);if(Z===1){let G=($+l$)/Z9;return function z(L,A){let F=L.pow(A,G);if(!L.eql(L.sqr(F),A))throw new Error("Cannot find square root");return F}}let V=(X+l$)/$8;return function G(z,L){if(z.pow(L,Q)===z.neg(z.ONE))throw new Error("Cannot find square root");let A=Z,F=z.pow(z.mul(z.ONE,Y),X),C=z.pow(L,V),q=z.pow(L,X);while(!z.eql(q,z.ONE)){if(z.eql(q,z.ZERO))return z.ZERO;let R=1;for(let S=z.sqr(q);R<A;R++){if(z.eql(S,z.ONE))break;S=z.sqr(S)}let I=z.pow(F,l$<<BigInt(A-R-1));F=z.sqr(I),C=z.mul(C,I),q=z.mul(q,F),A=R}return C}}function VP($){if($%Z9===ZP){let Q=($+l$)/Z9;return function X(Z,Y){let V=Z.pow(Y,Q);if(!Z.eql(Z.sqr(V),Y))throw new Error("Cannot find square root");return V}}if($%tH===aH){let Q=($-aH)/tH;return function X(Z,Y){let V=Z.mul(Y,$8),G=Z.pow(V,Q),z=Z.mul(Y,G),L=Z.mul(Z.mul(z,$8),G),A=Z.mul(z,Z.sub(L,Z.ONE));if(!Z.eql(Z.sqr(A),Y))throw new Error("Cannot find square root");return A}}if($%JP===YP);return WP($)}function Y9($){let Q={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},X=KP.reduce((Z,Y)=>{return Z[Y]="function",Z},Q);return ZJ($,X)}function UP($,Q,X){if(X<FQ)throw new Error("Expected power > 0");if(X===FQ)return $.ONE;if(X===l$)return Q;let Z=$.ONE,Y=Q;while(X>FQ){if(X&l$)Z=$.mul(Z,Y);Y=$.sqr(Y),X>>=l$}return Z}function OP($,Q){let X=new Array(Q.length),Z=Q.reduce((V,G,z)=>{if($.is0(G))return V;return X[z]=V,$.mul(V,G)},$.ONE),Y=$.inv(Z);return Q.reduceRight((V,G,z)=>{if($.is0(G))return V;return X[z]=$.mul(V,X[z]),$.mul(V,G)},Y),X}function J9($,Q){let X=Q!==void 0?Q:$.toString(2).length,Z=Math.ceil(X/8);return{nBitLength:X,nByteLength:Z}}function eH($,Q,X=!1,Z={}){if($<=FQ)throw new Error(`Expected Field ORDER > 0, got ${$}`);let{nBitLength:Y,nByteLength:V}=J9($,Q);if(V>2048)throw new Error("Field lengths over 2048 bytes are not supported");let G=VP($),z=Object.freeze({ORDER:$,BITS:Y,BYTES:V,MASK:oW(Y),ZERO:FQ,ONE:l$,create:(L)=>sQ(L,$),isValid:(L)=>{if(typeof L!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof L}`);return FQ<=L&&L<$},is0:(L)=>L===FQ,isOdd:(L)=>(L&l$)===l$,neg:(L)=>sQ(-L,$),eql:(L,A)=>L===A,sqr:(L)=>sQ(L*L,$),add:(L,A)=>sQ(L+A,$),sub:(L,A)=>sQ(L-A,$),mul:(L,A)=>sQ(L*A,$),pow:(L,A)=>UP(z,L,A),div:(L,A)=>sQ(L*y1(A,$),$),sqrN:(L)=>L*L,addN:(L,A)=>L+A,subN:(L,A)=>L-A,mulN:(L,A)=>L*A,inv:(L)=>y1(L,$),sqrt:Z.sqrt||((L)=>G(z,L)),invertBatch:(L)=>OP(z,L),cmov:(L,A,F)=>F?A:L,toBytes:(L)=>X?g1(L,V):XJ(L,V),fromBytes:(L)=>{if(L.length!==V)throw new Error(`Fp.fromBytes: expected ${V}, got ${L.length}`);return X?v1(L):JY(L)}});return Object.freeze(z)}function $2($){if(typeof $!=="bigint")throw new Error("field order must be bigint");let Q=$.toString(2).length;return Math.ceil(Q/8)}function G9($){let Q=$2($);return Q+Math.ceil(Q/2)}function Q2($,Q,X=!1){let Z=$.length,Y=$2(Q),V=G9(Q);if(Z<16||Z<V||Z>1024)throw new Error(`expected ${V}-1024 bytes of input, got ${Z}`);let G=X?JY($):v1($),z=sQ(G,Q-l$)+l$;return X?g1(z,Y):XJ(z,Y)}var FQ,l$,$8,ZP,Z9,aH,tH,YP,JP,KP;var h1=G0(()=>{nW();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */FQ=BigInt(0),l$=BigInt(1),$8=BigInt(2),ZP=BigInt(3),Z9=BigInt(4),aH=BigInt(5),tH=BigInt(8),YP=BigInt(9),JP=BigInt(16);KP=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function X2($,Q){let X=(Y,V)=>{let G=V.negate();return Y?G:V},Z=(Y)=>{let V=Math.ceil(Q/Y)+1,G=2**(Y-1);return{windows:V,windowSize:G}};return{constTimeNegate:X,unsafeLadder(Y,V){let G=$.ZERO,z=Y;while(V>HP){if(V&W9)G=G.add(z);z=z.double(),V>>=W9}return G},precomputeWindow(Y,V){let{windows:G,windowSize:z}=Z(V),L=[],A=Y,F=A;for(let C=0;C<G;C++){F=A,L.push(F);for(let q=1;q<z;q++)F=F.add(A),L.push(F);A=F.double()}return L},wNAF(Y,V,G){let{windows:z,windowSize:L}=Z(Y),A=$.ZERO,F=$.BASE,C=BigInt(2**Y-1),q=2**Y,R=BigInt(Y);for(let I=0;I<z;I++){let S=I*L,N=Number(G&C);if(G>>=R,N>L)N-=q,G+=W9;let B=S,_=S+Math.abs(N)-1,k=I%2!==0,f=N<0;if(N===0)F=F.add(X(k,V[B]));else A=A.add(X(f,V[_]))}return{p:A,f:F}},wNAFCached(Y,V,G,z){let L=Y._WINDOW_SIZE||1,A=V.get(Y);if(!A){if(A=this.precomputeWindow(Y,L),L!==1)V.set(Y,z(A))}return this.wNAF(L,A,G)}}}function V9($){return Y9($.Fp),ZJ($,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J9($.n,$.nBitLength),...$,...{p:$.Fp.ORDER}})}var HP,W9;var Z2=G0(()=>{h1();nW();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */HP=BigInt(0),W9=BigInt(1)});function DP($){let Q=V9($);ZJ(Q,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:X,Fp:Z,a:Y}=Q;if(X){if(!Z.eql(Y,Z.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof X!=="object"||typeof X.beta!=="bigint"||typeof X.splitScalar!=="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Q})}function MP($){let Q=DP($),{Fp:X}=Q,Z=Q.toBytes||((I,S,N)=>{let B=S.toAffine();return CG(Uint8Array.from([4]),X.toBytes(B.x),X.toBytes(B.y))}),Y=Q.fromBytes||((I)=>{let S=I.subarray(1),N=X.fromBytes(S.subarray(0,X.BYTES)),B=X.fromBytes(S.subarray(X.BYTES,2*X.BYTES));return{x:N,y:B}});function V(I){let{a:S,b:N}=Q,B=X.sqr(I),_=X.mul(B,I);return X.add(X.add(_,X.mul(I,S)),N)}if(!X.eql(X.sqr(Q.Gy),V(Q.Gx)))throw new Error("bad generator point: equation left != right");function G(I){return typeof I==="bigint"&&GY<I&&I<Q.n}function z(I){if(!G(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function L(I){let{allowedPrivateKeyLengths:S,nByteLength:N,wrapPrivateKey:B,n:_}=Q;if(S&&typeof I!=="bigint"){if(I instanceof Uint8Array)I=tJ(I);if(typeof I!=="string"||!S.includes(I.length))throw new Error("Invalid key");I=I.padStart(N*2,"0")}let k;try{k=typeof I==="bigint"?I:JY(SX("private key",I,N))}catch(f){throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof I}`)}if(B)k=sQ(k,_);return z(k),k}let A=new Map;function F(I){if(!(I instanceof C))throw new Error("ProjectivePoint expected")}class C{constructor(I,S,N){if(this.px=I,this.py=S,this.pz=N,I==null||!X.isValid(I))throw new Error("x required");if(S==null||!X.isValid(S))throw new Error("y required");if(N==null||!X.isValid(N))throw new Error("z required")}static fromAffine(I){let{x:S,y:N}=I||{};if(!I||!X.isValid(S)||!X.isValid(N))throw new Error("invalid affine point");if(I instanceof C)throw new Error("projective point not allowed");let B=(_)=>X.eql(_,X.ZERO);if(B(S)&&B(N))return C.ZERO;return new C(S,N,X.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){let S=X.invertBatch(I.map((N)=>N.pz));return I.map((N,B)=>N.toAffine(S[B])).map(C.fromAffine)}static fromHex(I){let S=C.fromAffine(Y(SX("pointHex",I)));return S.assertValidity(),S}static fromPrivateKey(I){return C.BASE.multiply(L(I))}_setWindowSize(I){this._WINDOW_SIZE=I,A.delete(this)}assertValidity(){if(this.is0()){if(Q.allowInfinityPoint&&!X.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:I,y:S}=this.toAffine();if(!X.isValid(I)||!X.isValid(S))throw new Error("bad point: x or y not FE");let N=X.sqr(S),B=V(I);if(!X.eql(N,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:I}=this.toAffine();if(X.isOdd)return!X.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){F(I);let{px:S,py:N,pz:B}=this,{px:_,py:k,pz:f}=I,v=X.eql(X.mul(S,f),X.mul(_,B)),p=X.eql(X.mul(N,f),X.mul(k,B));return v&&p}negate(){return new C(this.px,X.neg(this.py),this.pz)}double(){let{a:I,b:S}=Q,N=X.mul(S,Y2),{px:B,py:_,pz:k}=this,f=X.ZERO,v=X.ZERO,p=X.ZERO,c=X.mul(B,B),X0=X.mul(_,_),t=X.mul(k,k),h=X.mul(B,_);return h=X.add(h,h),p=X.mul(B,k),p=X.add(p,p),f=X.mul(I,p),v=X.mul(N,t),v=X.add(f,v),f=X.sub(X0,v),v=X.add(X0,v),v=X.mul(f,v),f=X.mul(h,f),p=X.mul(N,p),t=X.mul(I,t),h=X.sub(c,t),h=X.mul(I,h),h=X.add(h,p),p=X.add(c,c),c=X.add(p,c),c=X.add(c,t),c=X.mul(c,h),v=X.add(v,c),t=X.mul(_,k),t=X.add(t,t),c=X.mul(t,h),f=X.sub(f,c),p=X.mul(t,X0),p=X.add(p,p),p=X.add(p,p),new C(f,v,p)}add(I){F(I);let{px:S,py:N,pz:B}=this,{px:_,py:k,pz:f}=I,v=X.ZERO,p=X.ZERO,c=X.ZERO,X0=Q.a,t=X.mul(Q.b,Y2),h=X.mul(S,_),l=X.mul(N,k),E=X.mul(B,f),J=X.add(S,N),U=X.add(_,k);J=X.mul(J,U),U=X.add(h,l),J=X.sub(J,U),U=X.add(S,B);let O=X.add(_,f);return U=X.mul(U,O),O=X.add(h,E),U=X.sub(U,O),O=X.add(N,B),v=X.add(k,f),O=X.mul(O,v),v=X.add(l,E),O=X.sub(O,v),c=X.mul(X0,U),v=X.mul(t,E),c=X.add(v,c),v=X.sub(l,c),c=X.add(l,c),p=X.mul(v,c),l=X.add(h,h),l=X.add(l,h),E=X.mul(X0,E),U=X.mul(t,U),l=X.add(l,E),E=X.sub(h,E),E=X.mul(X0,E),U=X.add(U,E),h=X.mul(l,U),p=X.add(p,h),h=X.mul(O,U),v=X.mul(J,v),v=X.sub(v,h),h=X.mul(J,l),c=X.mul(O,c),c=X.add(c,h),new C(v,p,c)}subtract(I){return this.add(I.negate())}is0(){return this.equals(C.ZERO)}wNAF(I){return R.wNAFCached(this,A,I,(S)=>{let N=X.invertBatch(S.map((B)=>B.pz));return S.map((B,_)=>B.toAffine(N[_])).map(C.fromAffine)})}multiplyUnsafe(I){let S=C.ZERO;if(I===GY)return S;if(z(I),I===lX)return this;let{endo:N}=Q;if(!N)return R.unsafeLadder(this,I);let{k1neg:B,k1:_,k2neg:k,k2:f}=N.splitScalar(I),v=S,p=S,c=this;while(_>GY||f>GY){if(_&lX)v=v.add(c);if(f&lX)p=p.add(c);c=c.double(),_>>=lX,f>>=lX}if(B)v=v.negate();if(k)p=p.negate();return p=new C(X.mul(p.px,N.beta),p.py,p.pz),v.add(p)}multiply(I){z(I);let S=I,N,B,{endo:_}=Q;if(_){let{k1neg:k,k1:f,k2neg:v,k2:p}=_.splitScalar(S),{p:c,f:X0}=this.wNAF(f),{p:t,f:h}=this.wNAF(p);c=R.constTimeNegate(k,c),t=R.constTimeNegate(v,t),t=new C(X.mul(t.px,_.beta),t.py,t.pz),N=c.add(t),B=X0.add(h)}else{let{p:k,f}=this.wNAF(S);N=k,B=f}return C.normalizeZ([N,B])[0]}multiplyAndAddUnsafe(I,S,N){let B=C.BASE,_=(f,v)=>v===GY||v===lX||!f.equals(B)?f.multiplyUnsafe(v):f.multiply(v),k=_(this,S).add(_(I,N));return k.is0()?void 0:k}toAffine(I){let{px:S,py:N,pz:B}=this,_=this.is0();if(I==null)I=_?X.ONE:X.inv(B);let k=X.mul(S,I),f=X.mul(N,I),v=X.mul(B,I);if(_)return{x:X.ZERO,y:X.ZERO};if(!X.eql(v,X.ONE))throw new Error("invZ was invalid");return{x:k,y:f}}isTorsionFree(){let{h:I,isTorsionFree:S}=Q;if(I===lX)return!0;if(S)return S(C,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:I,clearCofactor:S}=Q;if(I===lX)return this;if(S)return S(C,this);return this.multiplyUnsafe(Q.h)}toRawBytes(I=!0){return this.assertValidity(),Z(C,this,I)}toHex(I=!0){return tJ(this.toRawBytes(I))}}C.BASE=new C(Q.Gx,Q.Gy,X.ONE),C.ZERO=new C(X.ZERO,X.ONE,X.ZERO);let q=Q.nBitLength,R=X2(C,Q.endo?Math.ceil(q/2):q);return{CURVE:Q,ProjectivePoint:C,normPrivateKeyToScalar:L,weierstrassEquation:V,isWithinCurveOrder:G}}function CP($){let Q=V9($);return ZJ(Q,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Q})}function J2($){let Q=CP($),{Fp:X,n:Z}=Q,Y=X.BYTES+1,V=2*X.BYTES+1;function G(O){return GY<O&&O<X.ORDER}function z(O){return sQ(O,Z)}function L(O){return y1(O,Z)}let{ProjectivePoint:A,normPrivateKeyToScalar:F,weierstrassEquation:C,isWithinCurveOrder:q}=MP({...Q,toBytes(O,K,H){let T=K.toAffine(),P=X.toBytes(T.x),D=CG;if(H)return D(Uint8Array.from([K.hasEvenY()?2:3]),P);else return D(Uint8Array.from([4]),P,X.toBytes(T.y))},fromBytes(O){let K=O.length,H=O[0],T=O.subarray(1);if(K===Y&&(H===2||H===3)){let P=JY(T);if(!G(P))throw new Error("Point is not on curve");let D=C(P),W=X.sqrt(D),M=(W&lX)===lX;if((H&1)===1!==M)W=X.neg(W);return{x:P,y:W}}else if(K===V&&H===4){let P=X.fromBytes(T.subarray(0,X.BYTES)),D=X.fromBytes(T.subarray(X.BYTES,2*X.BYTES));return{x:P,y:D}}else throw new Error(`Point of length ${K} was invalid. Expected ${Y} compressed bytes or ${V} uncompressed bytes`)}}),R=(O)=>tJ(XJ(O,Q.nByteLength));function I(O){let K=Z>>lX;return O>K}function S(O){return I(O)?z(-O):O}let N=(O,K,H)=>JY(O.slice(K,H));class B{constructor(O,K,H){this.r=O,this.s=K,this.recovery=H,this.assertValidity()}static fromCompact(O){let K=Q.nByteLength;return O=SX("compactSignature",O,K*2),new B(N(O,0,K),N(O,K,2*K))}static fromDER(O){let{r:K,s:H}=Q8.toSig(SX("DER",O));return new B(K,H)}assertValidity(){if(!q(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!q(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new B(this.r,this.s,O)}recoverPublicKey(O){let{r:K,s:H,recovery:T}=this,P=c(SX("msgHash",O));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let D=T===2||T===3?K+Q.n:K;if(D>=X.ORDER)throw new Error("recovery id 2 or 3 invalid");let W=(T&1)===0?"02":"03",M=A.fromHex(W+R(D)),w=L(D),j=z(-P*w),x=z(H*w),m=A.BASE.multiplyAndAddUnsafe(M,j,x);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,z(-this.s),this.recovery):this}toDERRawBytes(){return eJ(this.toDERHex())}toDERHex(){return Q8.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return eJ(this.toCompactHex())}toCompactHex(){return R(this.r)+R(this.s)}}let _={isValidPrivateKey(O){try{return F(O),!0}catch(K){return!1}},normPrivateKeyToScalar:F,randomPrivateKey:()=>{let O=G9(Q.n);return Q2(Q.randomBytes(O),Q.n)},precompute(O=8,K=A.BASE){return K._setWindowSize(O),K.multiply(BigInt(3)),K}};function k(O,K=!0){return A.fromPrivateKey(O).toRawBytes(K)}function f(O){let K=O instanceof Uint8Array,H=typeof O==="string",T=(K||H)&&O.length;if(K)return T===Y||T===V;if(H)return T===2*Y||T===2*V;if(O instanceof A)return!0;return!1}function v(O,K,H=!0){if(f(O))throw new Error("first arg must be private key");if(!f(K))throw new Error("second arg must be public key");return A.fromHex(K).multiply(F(O)).toRawBytes(H)}let p=Q.bits2int||function(O){let K=JY(O),H=O.length*8-Q.nBitLength;return H>0?K>>BigInt(H):K},c=Q.bits2int_modN||function(O){return z(p(O))},X0=oW(Q.nBitLength);function t(O){if(typeof O!=="bigint")throw new Error("bigint expected");if(!(GY<=O&&O<X0))throw new Error(`bigint expected < 2^${Q.nBitLength}`);return XJ(O,Q.nByteLength)}function h(O,K,H=l){if(["recovered","canonical"].some((z0)=>(z0 in H)))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:P}=Q,{lowS:D,prehash:W,extraEntropy:M}=H;if(D==null)D=!0;if(O=SX("msgHash",O),W)O=SX("prehashed msgHash",T(O));let w=c(O),j=F(K),x=[t(j),t(w)];if(M!=null){let z0=M===!0?P(X.BYTES):M;x.push(SX("extraEntropy",z0))}let m=CG(...x),o=w;function r(z0){let d=p(z0);if(!q(d))return;let n=L(d),R0=A.BASE.multiply(d).toAffine(),W0=z(R0.x);if(W0===GY)return;let V0=z(n*z(o+W0*j));if(V0===GY)return;let a=(R0.x===W0?0:2)|Number(R0.y&lX),u=V0;if(D&&I(V0))u=S(V0),a^=1;return new B(W0,u,a)}return{seed:m,k2sig:r}}let l={lowS:Q.lowS,prehash:!1},E={lowS:Q.lowS,prehash:!1};function J(O,K,H=l){let{seed:T,k2sig:P}=h(O,K,H),D=Q;return Q9(D.hash.outputLen,D.nByteLength,D.hmac)(T,P)}A.BASE._setWindowSize(8);function U(O,K,H,T=E){let P=O;if(K=SX("msgHash",K),H=SX("publicKey",H),"strict"in T)throw new Error("options.strict was renamed to lowS");let{lowS:D,prehash:W}=T,M=void 0,w;try{if(typeof P==="string"||P instanceof Uint8Array)try{M=B.fromDER(P)}catch(R0){if(!(R0 instanceof Q8.Err))throw R0;M=B.fromCompact(P)}else if(typeof P==="object"&&typeof P.r==="bigint"&&typeof P.s==="bigint"){let{r:R0,s:W0}=P;M=new B(R0,W0)}else throw new Error("PARSE");w=A.fromHex(H)}catch(R0){if(R0.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&M.hasHighS())return!1;if(W)K=Q.hash(K);let{r:j,s:x}=M,m=c(K),o=L(x),r=z(m*o),z0=z(j*o),d=A.BASE.multiplyAndAddUnsafe(w,r,z0)?.toAffine();if(!d)return!1;return z(d.x)===j}return{CURVE:Q,getPublicKey:k,getSharedSecret:v,sign:J,verify:U,ProjectivePoint:A,Signature:B,utils:_}}var LP,qP,Q8,GY,lX,px,Y2,mx;var G2=G0(()=>{h1();nW();nW();Z2();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */({bytesToNumberBE:LP,hexToBytes:qP}=X9),Q8={Err:class $ extends Error{constructor(Q=""){super(Q)}},_parseInt($){let{Err:Q}=Q8;if($.length<2||$[0]!==2)throw new Q("Invalid signature integer tag");let X=$[1],Z=$.subarray(2,X+2);if(!X||Z.length!==X)throw new Q("Invalid signature integer: wrong length");if(Z[0]&128)throw new Q("Invalid signature integer: negative");if(Z[0]===0&&!(Z[1]&128))throw new Q("Invalid signature integer: unnecessary leading zero");return{d:LP(Z),l:$.subarray(X+2)}},toSig($){let{Err:Q}=Q8,X=typeof $==="string"?qP($):$;if(!(X instanceof Uint8Array))throw new Error("ui8a expected");let Z=X.length;if(Z<2||X[0]!=48)throw new Q("Invalid signature tag");if(X[1]!==Z-2)throw new Q("Invalid signature: incorrect length");let{d:Y,l:V}=Q8._parseInt(X.subarray(2)),{d:G,l:z}=Q8._parseInt(V);if(z.length)throw new Q("Invalid signature: left bytes after parsing");return{r:Y,s:G}},hexFromSig($){let Q=(A)=>Number.parseInt(A[0],16)&8?"00"+A:A,X=(A)=>{let F=A.toString(16);return F.length&1?`0${F}`:F},Z=Q(X($.s)),Y=Q(X($.r)),V=Z.length/2,G=Y.length/2,z=X(V),L=X(G);return`30${X(G+V+4)}02${L}${Y}02${z}${Z}`}},GY=BigInt(0),lX=BigInt(1),px=BigInt(2),Y2=BigInt(3),mx=BigInt(4)});function AP($){return{hash:$,hmac:(Q,...X)=>rJ($,Q,h7(...X)),randomBytes:b7}}function W2($,Q){let X=(Z)=>J2({...$,...AP(Z)});return Object.freeze({...X(Q),create:X})}var V2=G0(()=>{S1();gZ();G2();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */});function TP($){let Q=O2,X=BigInt(3),Z=BigInt(6),Y=BigInt(11),V=BigInt(22),G=BigInt(23),z=BigInt(44),L=BigInt(88),A=$*$*$%Q,F=A*A*$%Q,C=NX(F,X,Q)*F%Q,q=NX(C,X,Q)*F%Q,R=NX(q,K9,Q)*A%Q,I=NX(R,Y,Q)*R%Q,S=NX(I,V,Q)*I%Q,N=NX(S,z,Q)*S%Q,B=NX(N,L,Q)*N%Q,_=NX(B,z,Q)*S%Q,k=NX(_,X,Q)*F%Q,f=NX(k,G,Q)*I%Q,v=NX(f,Z,Q)*A%Q,p=NX(v,K9,Q);if(!U9.eql(U9.sqr(p),$))throw new Error("Cannot find square root");return p}var O2,K2,FP,K9,U2=($,Q)=>($+Q/K9)/Q,U9,WY,rx,ax;var z2=G0(()=>{B1();h1();V2();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */O2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),K2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FP=BigInt(1),K9=BigInt(2);U9=eH(O2,void 0,void 0,{sqrt:TP}),WY=W2({a:BigInt(0),b:BigInt(7),Fp:U9,n:K2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:($)=>{let Q=K2,X=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Z=-FP*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Y=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),V=X,G=BigInt("0x100000000000000000000000000000000"),z=U2(V*$,Q),L=U2(-Z*$,Q),A=sQ($-z*X-L*Y,Q),F=sQ(-z*Z-L*V,Q),C=A>G,q=F>G;if(C)A=Q-A;if(q)F=Q-F;if(A>G||F>G)throw new Error("splitScalar: Endomorphism failed, k="+$);return{k1neg:C,k1:A,k2neg:q,k2:F}}}},YY),rx=BigInt(0),ax=WY.ProjectivePoint});var oX="0x0000000000000000000000000000000000000000";var X8="0x0000000000000000000000000000000000000000000000000000000000000000";var b1,p1,m1,c1,u1;var H2=G0(()=>{b1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p1=BigInt("1000000000000000000"),m1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),c1=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),u1=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var d1="",AG=`\x19Ethereum Signed Message:
`;var FG=G0(()=>{H2()});function A2($){return u$(L$($),32)}var D2,L2,q2,M2,C2,l1,TG,S$;var O9=G0(()=>{FG();d0();D2=BigInt(0),L2=BigInt(1),q2=BigInt(2),M2=BigInt(27),C2=BigInt(28),l1=BigInt(35),TG={};S$=class S${#$;#Q;#X;#Z;get r(){return this.#$}set r($){b(rQ($)===32,"invalid r","value",$),this.#$=O0($)}get s(){return b(parseInt(this.#Q.substring(0,3))<8,"non-canonical s; use ._s","s",this.#Q),this.#Q}set s($){b(rQ($)===32,"invalid s","value",$),this.#Q=O0($)}get _s(){return this.#Q}isValid(){return parseInt(this.#Q.substring(0,3))<8}get v(){return this.#X}set v($){let Q=n0($,"value");b(Q===27||Q===28,"invalid v","v",$),this.#X=Q}get networkV(){return this.#Z}get legacyChainId(){let $=this.networkV;if($==null)return null;return S$.getChainId($)}get yParity(){return this.v===27?0:1}get yParityAndS(){let $=M0(this.s);if(this.yParity)$[0]|=128;return O0($)}get compactSerialized(){return i0([this.r,this.yParityAndS])}get serialized(){return i0([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor($,Q,X,Z){EQ($,TG,"Signature"),this.#$=Q,this.#Q=X,this.#X=Z,this.#Z=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let $=new S$(TG,this.r,this._s,this.v);if(this.networkV)$.#Z=this.networkV;return $}toJSON(){let $=this.networkV;return{_type:"signature",networkV:$!=null?$.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId($){let Q=m0($,"v");if(Q==M2||Q==C2)return D2;return b(Q>=l1,"invalid EIP-155 v","v",$),(Q-l1)/q2}static getChainIdV($,Q){return m0($)*q2+BigInt(35+Q-27)}static getNormalizedV($){let Q=m0($);if(Q===D2||Q===M2)return 27;if(Q===L2||Q===C2)return 28;return b(Q>=l1,"invalid v","v",$),Q&L2?27:28}static from($){function Q(L,A){b(L,A,"signature",$)}if($==null)return new S$(TG,X8,X8,27);if(typeof $==="string"){let L=M0($,"signature");if(L.length===64){let A=O0(L.slice(0,32)),F=L.slice(32,64),C=F[0]&128?28:27;return F[0]&=127,new S$(TG,A,O0(F),C)}if(L.length===65){let A=O0(L.slice(0,32)),F=O0(L.slice(32,64)),C=S$.getNormalizedV(L[64]);return new S$(TG,A,F,C)}Q(!1,"invalid raw signature length")}if($ instanceof S$)return $.clone();let X=$.r;Q(X!=null,"missing r");let Z=A2(X),Y=function(L,A){if(L!=null)return A2(L);if(A!=null){Q(Q$(A,32),"invalid yParityAndS");let F=M0(A);return F[0]&=127,O0(F)}Q(!1,"missing s")}($.s,$.yParityAndS),{networkV:V,v:G}=function(L,A,F){if(L!=null){let C=m0(L);return{networkV:C>=l1?C:void 0,v:S$.getNormalizedV(C)}}if(A!=null)return Q(Q$(A,32),"invalid yParityAndS"),{v:M0(A)[0]&128?28:27};if(F!=null){switch(n0(F,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}Q(!1,"invalid yParity")}Q(!1,"missing v")}($.v,$.yParityAndS,$.yParity),z=new S$(TG,Z,Y,G);if(V)z.#Z=V;return Q($.yParity==null||n0($.yParity,"sig.yParity")===z.yParity,"yParity mismatch"),Q($.yParityAndS==null||$.yParityAndS===z.yParityAndS,"yParityAndS mismatch"),z}}});class o${#$;constructor($){b(rQ($)===32,"invalid private key","privateKey","[REDACTED]"),this.#$=O0($)}get privateKey(){return this.#$}get publicKey(){return o$.computePublicKey(this.#$)}get compressedPublicKey(){return o$.computePublicKey(this.#$,!0)}sign($){b(rQ($)===32,"invalid digest length","digest",$);let Q=WY.sign(x$($),x$(this.#$),{lowS:!0});return S$.from({r:CQ(Q.r,32),s:CQ(Q.s,32),v:Q.recovery?28:27})}computeSharedSecret($){let Q=o$.computePublicKey($);return O0(WY.getSharedSecret(x$(this.#$),M0(Q),!1))}static computePublicKey($,Q){let X=M0($,"key");if(X.length===32){let Y=WY.getPublicKey(X,!!Q);return O0(Y)}if(X.length===64){let Y=new Uint8Array(65);Y[0]=4,Y.set(X,1),X=Y}let Z=WY.ProjectivePoint.fromHex(X);return O0(Z.toRawBytes(Q))}static recoverPublicKey($,Q){b(rQ($)===32,"invalid digest length","digest",$);let X=S$.from(Q),Z=WY.Signature.fromCompact(x$(i0([X.r,X.s])));Z=Z.addRecoveryBit(X.yParity);let Y=Z.recoverPublicKey(x$($));return b(Y!=null,"invalid signature for digest","signature",Q),"0x"+Y.toHex(!1)}static addPoints($,Q,X){let Z=WY.ProjectivePoint.fromHex(o$.computePublicKey($).substring(2)),Y=WY.ProjectivePoint.fromHex(o$.computePublicKey(Q).substring(2));return"0x"+Z.add(Y).toHex(!!X)}}var F2=G0(()=>{z2();d0();O9()});function z9(){mX.lock(),t0.lock(),nQ.lock(),fQ.lock(),cX.lock(),uX.lock(),dX.lock(),d$.lock(),QJ.lock(),fQ.lock()}var QQ=G0(()=>{t7();KH();AH();PH();NH();pH();nH();F2();O9()});function T2($){$=$.toLowerCase();let Q=$.substring(2).split(""),X=new Uint8Array(40);for(let Y=0;Y<40;Y++)X[Y]=Q[Y].charCodeAt(0);let Z=M0(t0(X));for(let Y=0;Y<40;Y+=2){if(Z[Y>>1]>>4>=8)Q[Y]=Q[Y].toUpperCase();if((Z[Y>>1]&15)>=8)Q[Y+1]=Q[Y+1].toUpperCase()}return"0x"+Q.join("")}function P2($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let Q=$.split("").map((Z)=>{return H9[Z]}).join("");while(Q.length>=R2){let Z=Q.substring(0,R2);Q=parseInt(Z,10)%97+Q.substring(Z.length)}let X=String(98-parseInt(Q,10)%97);while(X.length<2)X="0"+X;return X}function IP($){$=$.toLowerCase();let Q=RP;for(let X=0;X<$.length;X++)Q=Q*PP+EP[$[X]];return Q}function s0($){if(b(typeof $==="string","invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!$.startsWith("0x"))$="0x"+$;let Q=T2($);return b(!$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Q===$,"bad address checksum","address",$),Q}if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){b($.substring(2,4)===P2($),"bad icap checksum","address",$);let Q=IP($.substring(4)).toString(16);while(Q.length<40)Q="0"+Q;return T2("0x"+Q)}b(!1,"invalid address","address",$)}function o1($){let Q=BigInt(s0($)).toString(36).toUpperCase();while(Q.length<30)Q="0"+Q;return"XE"+P2("XE00"+Q)+Q}var RP,PP,H9,R2=15,EP;var n1=G0(()=>{QQ();d0();RP=BigInt(0),PP=BigInt(36);H9={};for(let $=0;$<10;$++)H9[String($)]=String($);for(let $=0;$<26;$++)H9[String.fromCharCode(65+$)]=String(10+$);EP=function(){let $={};for(let Q=0;Q<36;Q++){let X="0123456789abcdefghijklmnopqrstuvwxyz"[Q];$[X]=BigInt(Q)}return $}()});function YJ($){let Q=s0($.from),Z=m0($.nonce,"tx.nonce").toString(16);if(Z==="0")Z="0x";else if(Z.length%2)Z="0x0"+Z;else Z="0x"+Z;return s0(D$(t0(lQ([Q,Z])),12))}function s1($,Q,X){let Z=s0($),Y=M0(Q,"salt"),V=M0(X,"initCodeHash");return b(Y.length===32,"salt must be 32 bytes","salt",Q),b(V.length===32,"initCodeHash must be 32 bytes","initCodeHash",X),s0(D$(t0(i0(["0xff",Z,Y,V])),12))}var E2=G0(()=>{QQ();d0();n1()});function Z8($){return $&&typeof $.getAddress==="function"}function i1($){try{return s0($),!0}catch(Q){}return!1}async function D9($,Q){let X=await Q;if(X==null||X==="0x0000000000000000000000000000000000000000")J0(typeof $!=="string","unconfigured name","UNCONFIGURED_NAME",{value:$}),b(!1,"invalid AddressLike value; did not resolve to a value address","target",$);return s0(X)}function k$($,Q){if(typeof $==="string"){if($.match(/^0x[0-9a-f]{40}$/i))return s0($);return J0(Q!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),D9($,Q.resolveName($))}else if(Z8($))return D9($,$.getAddress());else if($&&typeof $.then==="function")return D9($,$);b(!1,"unsupported addressable value","target",$)}var I2=G0(()=>{d0();n1()});var r$=G0(()=>{n1();E2();I2()});function o0($,Q){let X=!1;if(Q<0)X=!0,Q*=-1;return new O$(qZ,`${X?"":"u"}int${Q}`,$,{signed:X,width:Q})}function R$($,Q){return new O$(qZ,`bytes${Q?Q:""}`,$,{size:Q})}class O${type;value;#$;_typedSymbol;constructor($,Q,X,Z){if(Z==null)Z=null;EQ(qZ,$,"Typed"),I0(this,{_typedSymbol:S2,type:Q,value:X}),this.#$=Z,this.format()}format(){if(this.type==="array")throw new Error("");else if(this.type==="dynamicArray")throw new Error("");else if(this.type==="tuple")return`tuple(${this.value.map(($)=>$.format()).join(",")})`;return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#$}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");if(this.#$===!0)return-1;if(this.#$===!1)return this.value.length;return null}static from($,Q){return new O$(qZ,$,Q)}static uint8($){return o0($,8)}static uint16($){return o0($,16)}static uint24($){return o0($,24)}static uint32($){return o0($,32)}static uint40($){return o0($,40)}static uint48($){return o0($,48)}static uint56($){return o0($,56)}static uint64($){return o0($,64)}static uint72($){return o0($,72)}static uint80($){return o0($,80)}static uint88($){return o0($,88)}static uint96($){return o0($,96)}static uint104($){return o0($,104)}static uint112($){return o0($,112)}static uint120($){return o0($,120)}static uint128($){return o0($,128)}static uint136($){return o0($,136)}static uint144($){return o0($,144)}static uint152($){return o0($,152)}static uint160($){return o0($,160)}static uint168($){return o0($,168)}static uint176($){return o0($,176)}static uint184($){return o0($,184)}static uint192($){return o0($,192)}static uint200($){return o0($,200)}static uint208($){return o0($,208)}static uint216($){return o0($,216)}static uint224($){return o0($,224)}static uint232($){return o0($,232)}static uint240($){return o0($,240)}static uint248($){return o0($,248)}static uint256($){return o0($,256)}static uint($){return o0($,256)}static int8($){return o0($,-8)}static int16($){return o0($,-16)}static int24($){return o0($,-24)}static int32($){return o0($,-32)}static int40($){return o0($,-40)}static int48($){return o0($,-48)}static int56($){return o0($,-56)}static int64($){return o0($,-64)}static int72($){return o0($,-72)}static int80($){return o0($,-80)}static int88($){return o0($,-88)}static int96($){return o0($,-96)}static int104($){return o0($,-104)}static int112($){return o0($,-112)}static int120($){return o0($,-120)}static int128($){return o0($,-128)}static int136($){return o0($,-136)}static int144($){return o0($,-144)}static int152($){return o0($,-152)}static int160($){return o0($,-160)}static int168($){return o0($,-168)}static int176($){return o0($,-176)}static int184($){return o0($,-184)}static int192($){return o0($,-192)}static int200($){return o0($,-200)}static int208($){return o0($,-208)}static int216($){return o0($,-216)}static int224($){return o0($,-224)}static int232($){return o0($,-232)}static int240($){return o0($,-240)}static int248($){return o0($,-248)}static int256($){return o0($,-256)}static int($){return o0($,-256)}static bytes1($){return R$($,1)}static bytes2($){return R$($,2)}static bytes3($){return R$($,3)}static bytes4($){return R$($,4)}static bytes5($){return R$($,5)}static bytes6($){return R$($,6)}static bytes7($){return R$($,7)}static bytes8($){return R$($,8)}static bytes9($){return R$($,9)}static bytes10($){return R$($,10)}static bytes11($){return R$($,11)}static bytes12($){return R$($,12)}static bytes13($){return R$($,13)}static bytes14($){return R$($,14)}static bytes15($){return R$($,15)}static bytes16($){return R$($,16)}static bytes17($){return R$($,17)}static bytes18($){return R$($,18)}static bytes19($){return R$($,19)}static bytes20($){return R$($,20)}static bytes21($){return R$($,21)}static bytes22($){return R$($,22)}static bytes23($){return R$($,23)}static bytes24($){return R$($,24)}static bytes25($){return R$($,25)}static bytes26($){return R$($,26)}static bytes27($){return R$($,27)}static bytes28($){return R$($,28)}static bytes29($){return R$($,29)}static bytes30($){return R$($,30)}static bytes31($){return R$($,31)}static bytes32($){return R$($,32)}static address($){return new O$(qZ,"address",$)}static bool($){return new O$(qZ,"bool",!!$)}static bytes($){return new O$(qZ,"bytes",$)}static string($){return new O$(qZ,"string",$)}static array($,Q){throw new Error("not implemented yet")}static tuple($,Q){throw new Error("not implemented yet")}static overrides($){return new O$(qZ,"overrides",Object.assign({},$))}static isTyped($){return $&&typeof $==="object"&&"_typedSymbol"in $&&$._typedSymbol===S2}static dereference($,Q){if(O$.isTyped($)){if($.type!==Q)throw new Error(`invalid type: expecetd ${Q}, got ${$.type}`);return $.value}return $}}var qZ,S2;var yZ=G0(()=>{d0();qZ={};S2=Symbol.for("_ethers_typed")});var L9;var N2=G0(()=>{r$();YG();yZ();pX();L9=class L9 extends AQ{constructor($){super("address","address",$,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode($,Q){let X=O$.dereference(Q,"string");try{X=s0(X)}catch(Z){return this._throwError(Z.message,Q)}return $.writeValue(X)}decode($){return s0(CQ($.readValue(),20))}}});var q9;var B2=G0(()=>{pX();q9=class q9 extends AQ{coder;constructor($){super($.name,$.type,"_",$.dynamic);this.coder=$}defaultValue(){return this.coder.defaultValue()}encode($,Q){return this.coder.encode($,Q)}decode($){return this.coder.decode($)}}});function M9($,Q,X){let Z=[];if(Array.isArray(X))Z=X;else if(X&&typeof X==="object"){let L={};Z=Q.map((A)=>{let F=A.localName;return J0(F,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:A},value:X}),J0(!L[F],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:A},value:X}),L[F]=!0,X[F]})}else b(!1,"invalid tuple value","tuple",X);b(Q.length===Z.length,"types/value length mismatch","tuple",X);let Y=new HG,V=new HG,G=[];Q.forEach((L,A)=>{let F=Z[A];if(L.dynamic){let C=V.length;L.encode(V,F);let q=Y.writeUpdatableValue();G.push((R)=>{q(R+C)})}else L.encode(Y,F)}),G.forEach((L)=>{L(Y.length)});let z=$.appendWriter(Y);return z+=$.appendWriter(V),z}function C9($,Q){let X=[],Z=[],Y=$.subReader(0);return Q.forEach((V)=>{let G=null;if(V.dynamic){let z=$.readIndex(),L=Y.subReader(z);try{G=V.decode(L)}catch(A){if(q$(A,"BUFFER_OVERRUN"))throw A;G=A,G.baseType=V.name,G.name=V.localName,G.type=V.type}}else try{G=V.decode($)}catch(z){if(q$(z,"BUFFER_OVERRUN"))throw z;G=z,G.baseType=V.name,G.name=V.localName,G.type=V.type}if(G==null)throw new Error("investigate");X.push(G),Z.push(V.localName||null)}),aQ.fromItems(X,Z)}var A9;var F9=G0(()=>{d0();yZ();pX();B2();A9=class A9 extends AQ{coder;length;constructor($,Q,X){let Z=$.type+"["+(Q>=0?Q:"")+"]",Y=Q===-1||$.dynamic;super("array",Z,X,Y);I0(this,{coder:$,length:Q})}defaultValue(){let $=this.coder.defaultValue(),Q=[];for(let X=0;X<this.length;X++)Q.push($);return Q}encode($,Q){let X=O$.dereference(Q,"array");if(!Array.isArray(X))this._throwError("expected array value",X);let Z=this.length;if(Z===-1)Z=X.length,$.writeValue(X.length);lY(X.length,Z,"coder array"+(this.localName?" "+this.localName:""));let Y=[];for(let V=0;V<X.length;V++)Y.push(this.coder);return M9($,Y,X)}decode($){let Q=this.length;if(Q===-1)Q=$.readIndex(),J0(Q*kQ<=$.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:$.bytes,offset:Q*kQ,length:$.dataLength});let X=[];for(let Z=0;Z<Q;Z++)X.push(new q9(this.coder));return C9($,X)}}});var T9;var j2=G0(()=>{yZ();pX();T9=class T9 extends AQ{constructor($){super("bool","bool",$,!1)}defaultValue(){return!1}encode($,Q){let X=O$.dereference(Q,"bool");return $.writeValue(X?1:0)}decode($){return!!$.readValue()}}});var r1,R9;var P9=G0(()=>{d0();pX();r1=class r1 extends AQ{constructor($,Q){super($,$,Q,!0)}defaultValue(){return"0x"}encode($,Q){Q=x$(Q);let X=$.writeValue(Q.length);return X+=$.writeBytes(Q),X}decode($){return $.readBytes($.readIndex(),!0)}};R9=class R9 extends r1{constructor($){super("bytes",$)}decode($){return O0(super.decode($))}}});var E9;var _2=G0(()=>{d0();yZ();pX();E9=class E9 extends AQ{size;constructor($,Q){let X="bytes"+String($);super(X,X,Q,!1);I0(this,{size:$},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode($,Q){let X=x$(O$.dereference(Q,this.type));if(X.length!==this.size)this._throwError("incorrect data length",Q);return $.writeBytes(X)}decode($){return O0($.readBytes(this.size))}}});var SP,I9;var w2=G0(()=>{pX();SP=new Uint8Array([]);I9=class I9 extends AQ{constructor($){super("null","",$,!1)}defaultValue(){return null}encode($,Q){if(Q!=null)this._throwError("not null",Q);return $.writeBytes(SP)}decode($){return $.readBytes(0),null}}});var NP,BP,jP,S9;var x2=G0(()=>{d0();yZ();pX();NP=BigInt(0),BP=BigInt(1),jP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");S9=class S9 extends AQ{size;signed;constructor($,Q,X){let Z=(Q?"int":"uint")+$*8;super(Z,Z,X,!1);I0(this,{size:$,signed:Q},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode($,Q){let X=m0(O$.dereference(Q,this.type)),Z=OX(jP,kQ*8);if(this.signed){let Y=OX(Z,this.size*8-1);if(X>Y||X<-(Y+BP))this._throwError("value out-of-bounds",Q);X=kZ(X,8*kQ)}else if(X<NP||X>OX(Z,this.size*8))this._throwError("value out-of-bounds",Q);return $.writeValue(X)}decode($){let Q=OX($.readValue(),this.size*8);if(this.signed)Q=xZ(Q,this.size*8);return Q}}});var N9;var k2=G0(()=>{H1();yZ();P9();N9=class N9 extends r1{constructor($){super("string",$)}defaultValue(){return""}encode($,Q){return super.encode($,F$(O$.dereference(Q,"string")))}decode($){return dQ(super.decode($))}}});var RG;var f2=G0(()=>{yZ();pX();F9();RG=class RG extends AQ{coders;constructor($,Q){let X=!1,Z=[];$.forEach((V)=>{if(V.dynamic)X=!0;Z.push(V.type)});let Y="tuple("+Z.join(",")+")";super("tuple",Y,Q,X);I0(this,{coders:Object.freeze($.slice())})}defaultValue(){let $=[];this.coders.forEach((X)=>{$.push(X.defaultValue())});let Q=this.coders.reduce((X,Z)=>{let Y=Z.localName;if(Y){if(!X[Y])X[Y]=0;X[Y]++}return X},{});return this.coders.forEach((X,Z)=>{let Y=X.localName;if(!Y||Q[Y]!==1)return;if(Y==="length")Y="_length";if($[Y]!=null)return;$[Y]=$[Z]}),Object.freeze($)}encode($,Q){let X=O$.dereference(Q,"tuple");return M9($,this.coders,X)}decode($){return C9($,this.coders)}}});function B9($,Q){return{address:s0($),storageKeys:Q.map((X,Z)=>{return b(Q$(X,32),"invalid slot",`storageKeys[${Z}]`,X),X.toLowerCase()})}}function IQ($){if(Array.isArray($))return $.map((X,Z)=>{if(Array.isArray(X))return b(X.length===2,"invalid slot set",`value[${Z}]`,X),B9(X[0],X[1]);return b(X!=null&&typeof X==="object","invalid address-slot set","value",$),B9(X.address,X.storageKeys)});b($!=null&&typeof $==="object","invalid access list","value",$);let Q=Object.keys($).map((X)=>{let Z=$[X].reduce((Y,V)=>{return Y[V]=!0,Y},{});return B9(X,Object.keys(Z).sort())});return Q.sort((X,Z)=>X.address.localeCompare(Z.address)),Q}var j9=G0(()=>{r$();d0()});function JJ($){return{address:s0($.address),nonce:m0($.nonce!=null?$.nonce:0),chainId:m0($.chainId!=null?$.chainId:0),signature:S$.from($.signature)}}var _9=G0(()=>{r$();QQ();d0()});function nX($){let Q;if(typeof $==="string")Q=o$.computePublicKey($,!1);else Q=$.publicKey;return s0(t0("0x"+Q.substring(4)).substring(26))}function sX($,Q){return nX(o$.recoverPublicKey($,Q))}var w9=G0(()=>{r$();QQ()});function vP($){return{blobToKzgCommitment:(Z)=>{if("computeBlobProof"in $){if("blobToKzgCommitment"in $&&typeof $.blobToKzgCommitment==="function")return M0($.blobToKzgCommitment(O0(Z)))}else if("blobToKzgCommitment"in $&&typeof $.blobToKzgCommitment==="function")return M0($.blobToKzgCommitment(Z));if("blobToKZGCommitment"in $&&typeof $.blobToKZGCommitment==="function")return M0($.blobToKZGCommitment(O0(Z)));b(!1,"unsupported KZG library","kzg",$)},computeBlobKzgProof:(Z,Y)=>{if("computeBlobProof"in $&&typeof $.computeBlobProof==="function")return M0($.computeBlobProof(O0(Z),O0(Y)));if("computeBlobKzgProof"in $&&typeof $.computeBlobKzgProof==="function")return $.computeBlobKzgProof(Z,Y);if("computeBlobKZGProof"in $&&typeof $.computeBlobKZGProof==="function")return M0($.computeBlobKZGProof(O0(Z),O0(Y)));b(!1,"unsupported KZG library","kzg",$)}}}function v2($,Q){let X=$.toString(16);while(X.length<2)X="0"+X;return X+=d$(Q).substring(4),"0x"+X}function PG($){if($==="0x")return null;return s0($)}function a1($,Q){try{return IQ($)}catch(X){b(!1,X.message,Q,$)}}function gP($,Q){try{if(!Array.isArray($))throw new Error("authorizationList: invalid array");let X=[];for(let Z=0;Z<$.length;Z++){let Y=$[Z];if(!Array.isArray(Y))throw new Error(`authorization[${Z}]: invalid array`);if(Y.length!==6)throw new Error(`authorization[${Z}]: wrong length`);if(!Y[1])throw new Error(`authorization[${Z}]: null address`);X.push({address:PG(Y[1]),nonce:w$(Y[2],"nonce"),chainId:w$(Y[0],"chainId"),signature:S$.from({yParity:Y8(Y[3],"yParity"),r:u$(Y[4],32),s:u$(Y[5],32)})})}return X}catch(X){b(!1,X.message,Q,$)}}function Y8($,Q){if($==="0x")return 0;return n0($,Q)}function w$($,Q){if($==="0x")return SQ;let X=m0($,Q);return b(X<=fP,"value exceeds uint size",Q,X),X}function z$($,Q){let X=m0($,"value"),Z=L$(X);return b(Z.length<=32,"value too large",`tx.${Q}`,X),Z}function t1($){return IQ($).map((Q)=>[Q.address,Q.storageKeys])}function yP($){return $.map((Q)=>{return[z$(Q.chainId,"chainId"),Q.address,z$(Q.nonce,"nonce"),z$(Q.signature.yParity,"yParity"),L$(Q.signature.r),L$(Q.signature.s)]})}function hP($,Q){b(Array.isArray($),`invalid ${Q}`,"value",$);for(let X=0;X<$.length;X++)b(Q$($[X],32),"invalid ${ param } hash",`value[${X}]`,$[X]);return $}function bP($){let Q=fZ($);b(Array.isArray(Q)&&(Q.length===9||Q.length===6),"invalid field count for legacy transaction","data",$);let X={type:0,nonce:Y8(Q[0],"nonce"),gasPrice:w$(Q[1],"gasPrice"),gasLimit:w$(Q[2],"gasLimit"),to:PG(Q[3]),value:w$(Q[4],"value"),data:O0(Q[5]),chainId:SQ};if(Q.length===6)return X;let Z=w$(Q[6],"v"),Y=w$(Q[7],"r"),V=w$(Q[8],"s");if(Y===SQ&&V===SQ)X.chainId=Z;else{let G=(Z-kP)/_P;if(G<SQ)G=SQ;X.chainId=G,b(G!==SQ||(Z===wP||Z===xP),"non-canonical legacy v","v",Q[6]),X.signature=S$.from({r:u$(Q[7],32),s:u$(Q[8],32),v:Z})}return X}function pP($,Q){let X=[z$($.nonce,"nonce"),z$($.gasPrice||0,"gasPrice"),z$($.gasLimit,"gasLimit"),$.to||"0x",z$($.value,"value"),$.data],Z=SQ;if($.chainId!=SQ)Z=m0($.chainId,"tx.chainId"),b(!Q||Q.networkV==null||Q.legacyChainId===Z,"tx.chainId/sig.v mismatch","sig",Q);else if($.signature){let V=$.signature.legacyChainId;if(V!=null)Z=V}if(!Q){if(Z!==SQ)X.push(L$(Z)),X.push("0x"),X.push("0x");return lQ(X)}let Y=BigInt(27+Q.yParity);if(Z!==SQ)Y=S$.getChainIdV(Z,Q.v);else if(BigInt(Q.v)!==Y)b(!1,"tx.chainId/sig.v mismatch","sig",Q);return X.push(L$(Y)),X.push(L$(Q.r)),X.push(L$(Q.s)),lQ(X)}function e1($,Q){let X;try{if(X=Y8(Q[0],"yParity"),X!==0&&X!==1)throw new Error("bad yParity")}catch(G){b(!1,"invalid yParity","yParity",Q[0])}let Z=u$(Q[1],32),Y=u$(Q[2],32),V=S$.from({r:Z,s:Y,yParity:X});$.signature=V}function mP($){let Q=fZ(M0($).slice(1));b(Array.isArray(Q)&&(Q.length===9||Q.length===12),"invalid field count for transaction type: 2","data",O0($));let X={type:2,chainId:w$(Q[0],"chainId"),nonce:Y8(Q[1],"nonce"),maxPriorityFeePerGas:w$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:w$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:w$(Q[4],"gasLimit"),to:PG(Q[5]),value:w$(Q[6],"value"),data:O0(Q[7]),accessList:a1(Q[8],"accessList")};if(Q.length===9)return X;return e1(X,Q.slice(9)),X}function cP($,Q){let X=[z$($.chainId,"chainId"),z$($.nonce,"nonce"),z$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),z$($.maxFeePerGas||0,"maxFeePerGas"),z$($.gasLimit,"gasLimit"),$.to||"0x",z$($.value,"value"),$.data,t1($.accessList||[])];if(Q)X.push(z$(Q.yParity,"yParity")),X.push(L$(Q.r)),X.push(L$(Q.s));return i0(["0x02",lQ(X)])}function uP($){let Q=fZ(M0($).slice(1));b(Array.isArray(Q)&&(Q.length===8||Q.length===11),"invalid field count for transaction type: 1","data",O0($));let X={type:1,chainId:w$(Q[0],"chainId"),nonce:Y8(Q[1],"nonce"),gasPrice:w$(Q[2],"gasPrice"),gasLimit:w$(Q[3],"gasLimit"),to:PG(Q[4]),value:w$(Q[5],"value"),data:O0(Q[6]),accessList:a1(Q[7],"accessList")};if(Q.length===8)return X;return e1(X,Q.slice(8)),X}function dP($,Q){let X=[z$($.chainId,"chainId"),z$($.nonce,"nonce"),z$($.gasPrice||0,"gasPrice"),z$($.gasLimit,"gasLimit"),$.to||"0x",z$($.value,"value"),$.data,t1($.accessList||[])];if(Q)X.push(z$(Q.yParity,"recoveryParam")),X.push(L$(Q.r)),X.push(L$(Q.s));return i0(["0x01",lQ(X)])}function lP($){let Q=fZ(M0($).slice(1)),X="3",Z=null;if(Q.length===4&&Array.isArray(Q[0])){X="3 (network format)";let V=Q[1],G=Q[2],z=Q[3];b(Array.isArray(V),"invalid network format: blobs not an array","fields[1]",V),b(Array.isArray(G),"invalid network format: commitments not an array","fields[2]",G),b(Array.isArray(z),"invalid network format: proofs not an array","fields[3]",z),b(V.length===G.length,"invalid network format: blobs/commitments length mismatch","fields",Q),b(V.length===z.length,"invalid network format: blobs/proofs length mismatch","fields",Q),Z=[];for(let L=0;L<Q[1].length;L++)Z.push({data:V[L],commitment:G[L],proof:z[L]});Q=Q[0]}b(Array.isArray(Q)&&(Q.length===11||Q.length===14),`invalid field count for transaction type: ${X}`,"data",O0($));let Y={type:3,chainId:w$(Q[0],"chainId"),nonce:Y8(Q[1],"nonce"),maxPriorityFeePerGas:w$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:w$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:w$(Q[4],"gasLimit"),to:PG(Q[5]),value:w$(Q[6],"value"),data:O0(Q[7]),accessList:a1(Q[8],"accessList"),maxFeePerBlobGas:w$(Q[9],"maxFeePerBlobGas"),blobVersionedHashes:Q[10]};if(Z)Y.blobs=Z;b(Y.to!=null,`invalid address for transaction type: ${X}`,"data",$),b(Array.isArray(Y.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",$);for(let V=0;V<Y.blobVersionedHashes.length;V++)b(Q$(Y.blobVersionedHashes[V],32),`invalid blobVersionedHash at index ${V}: must be length 32`,"data",$);if(Q.length===11)return Y;return e1(Y,Q.slice(11)),Y}function oP($,Q,X){let Z=[z$($.chainId,"chainId"),z$($.nonce,"nonce"),z$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),z$($.maxFeePerGas||0,"maxFeePerGas"),z$($.gasLimit,"gasLimit"),$.to||oX,z$($.value,"value"),$.data,t1($.accessList||[]),z$($.maxFeePerBlobGas||0,"maxFeePerBlobGas"),hP($.blobVersionedHashes||[],"blobVersionedHashes")];if(Q){if(Z.push(z$(Q.yParity,"yParity")),Z.push(L$(Q.r)),Z.push(L$(Q.s)),X)return i0(["0x03",lQ([Z,X.map((Y)=>Y.data),X.map((Y)=>Y.commitment),X.map((Y)=>Y.proof)])])}return i0(["0x03",lQ(Z)])}function nP($){let Q=fZ(M0($).slice(1));b(Array.isArray(Q)&&(Q.length===10||Q.length===13),"invalid field count for transaction type: 4","data",O0($));let X={type:4,chainId:w$(Q[0],"chainId"),nonce:Y8(Q[1],"nonce"),maxPriorityFeePerGas:w$(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:w$(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:w$(Q[4],"gasLimit"),to:PG(Q[5]),value:w$(Q[6],"value"),data:O0(Q[7]),accessList:a1(Q[8],"accessList"),authorizationList:gP(Q[9],"authorizationList")};if(Q.length===10)return X;return e1(X,Q.slice(10)),X}function sP($,Q){let X=[z$($.chainId,"chainId"),z$($.nonce,"nonce"),z$($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),z$($.maxFeePerGas||0,"maxFeePerGas"),z$($.gasLimit,"gasLimit"),$.to||"0x",z$($.value,"value"),$.data,t1($.accessList||[]),yP($.authorizationList||[])];if(Q)X.push(z$(Q.yParity,"yParity")),X.push(L$(Q.r)),X.push(L$(Q.s));return i0(["0x04",lQ(X)])}class a${#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#K;#D;#L;#V;#U;#z;#H;#M;get type(){return this.#$}set type($){switch($){case null:this.#$=null;break;case 0:case"legacy":this.#$=0;break;case 1:case"berlin":case"eip-2930":this.#$=1;break;case 2:case"london":case"eip-1559":this.#$=2;break;case 3:case"cancun":case"eip-4844":this.#$=3;break;case 4:case"pectra":case"eip-7702":this.#$=4;break;default:b(!1,"unsupported transaction type","type",$)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let $=this.#Q;if($==null&&this.type===3)return oX;return $}set to($){this.#Q=$==null?null:s0($)}get nonce(){return this.#Z}set nonce($){this.#Z=n0($,"value")}get gasLimit(){return this.#Y}set gasLimit($){this.#Y=m0($)}get gasPrice(){let $=this.#G;if($==null&&(this.type===0||this.type===1))return SQ;return $}set gasPrice($){this.#G=$==null?null:m0($,"gasPrice")}get maxPriorityFeePerGas(){let $=this.#J;if($==null){if(this.type===2||this.type===3)return SQ;return null}return $}set maxPriorityFeePerGas($){this.#J=$==null?null:m0($,"maxPriorityFeePerGas")}get maxFeePerGas(){let $=this.#W;if($==null){if(this.type===2||this.type===3)return SQ;return null}return $}set maxFeePerGas($){this.#W=$==null?null:m0($,"maxFeePerGas")}get data(){return this.#X}set data($){this.#X=O0($)}get value(){return this.#O}set value($){this.#O=m0($,"value")}get chainId(){return this.#K}set chainId($){this.#K=m0($)}get signature(){return this.#D||null}set signature($){this.#D=$==null?null:S$.from($)}get accessList(){let $=this.#L||null;if($==null){if(this.type===1||this.type===2||this.type===3)return[];return null}return $}set accessList($){this.#L=$==null?null:IQ($)}get authorizationList(){let $=this.#M||null;if($==null){if(this.type===4)return[]}return $}set authorizationList($){this.#M=$==null?null:$.map((Q)=>JJ(Q))}get maxFeePerBlobGas(){let $=this.#V;if($==null&&this.type===3)return SQ;return $}set maxFeePerBlobGas($){this.#V=$==null?null:m0($,"maxFeePerBlobGas")}get blobVersionedHashes(){let $=this.#U;if($==null&&this.type===3)return[];return $}set blobVersionedHashes($){if($!=null){b(Array.isArray($),"blobVersionedHashes must be an Array","value",$),$=$.slice();for(let Q=0;Q<$.length;Q++)b(Q$($[Q],32),"invalid blobVersionedHash",`value[${Q}]`,$[Q])}this.#U=$}get blobs(){if(this.#H==null)return null;return this.#H.map(($)=>Object.assign({},$))}set blobs($){if($==null){this.#H=null;return}let Q=[],X=[];for(let Z=0;Z<$.length;Z++){let Y=$[Z];if(yX(Y)){J0(this.#z,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let V=M0(Y);if(b(V.length<=x9,"blob is too large",`blobs[${Z}]`,Y),V.length!==x9){let L=new Uint8Array(x9);L.set(V),V=L}let G=this.#z.blobToKzgCommitment(V),z=O0(this.#z.computeBlobKzgProof(V,G));Q.push({data:O0(V),commitment:O0(G),proof:z}),X.push(v2(1,G))}else{let V=O0(Y.commitment);Q.push({data:O0(Y.data),commitment:V,proof:O0(Y.proof)}),X.push(v2(1,V))}}this.#H=Q,this.#U=X}get kzg(){return this.#z}set kzg($){if($==null)this.#z=null;else this.#z=vP($)}constructor(){this.#$=null,this.#Q=null,this.#Z=0,this.#Y=SQ,this.#G=null,this.#J=null,this.#W=null,this.#X="0x",this.#O=SQ,this.#K=SQ,this.#D=null,this.#L=null,this.#V=null,this.#U=null,this.#z=null,this.#H=null,this.#M=null}get hash(){if(this.signature==null)return null;return t0(this.#q(!0,!1))}get unsignedHash(){return t0(this.unsignedSerialized)}get from(){if(this.signature==null)return null;return sX(this.unsignedHash,this.signature)}get fromPublicKey(){if(this.signature==null)return null;return o$.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#q($,Q){J0(!$||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let X=$?this.signature:null;switch(this.inferType()){case 0:return pP(this,X);case 1:return dP(this,X);case 2:return cP(this,X);case 3:return oP(this,X,Q?this.blobs:null);case 4:return sP(this,X)}J0(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#q(!0,!0)}get unsignedSerialized(){return this.#q(!1,!1)}inferType(){let $=this.inferTypes();if($.indexOf(2)>=0)return 2;return $.pop()}inferTypes(){let $=this.gasPrice!=null,Q=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,X=this.accessList!=null,Z=this.#V!=null||this.#U;if(this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null)J0(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this});J0(!Q||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),J0(this.type!==0||!X,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let Y=[];if(this.type!=null)Y.push(this.type);else if(this.authorizationList&&this.authorizationList.length)Y.push(4);else if(Q)Y.push(2);else if($){if(Y.push(1),!X)Y.push(0)}else if(X)Y.push(1),Y.push(2);else if(Z&&this.to)Y.push(3);else Y.push(0),Y.push(1),Y.push(2),Y.push(3);return Y.sort(),Y}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return a$.from(this)}toJSON(){let $=(Q)=>{if(Q==null)return null;return Q.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:$(this.gasLimit),gasPrice:$(this.gasPrice),maxPriorityFeePerGas:$(this.maxPriorityFeePerGas),maxFeePerGas:$(this.maxFeePerGas),value:$(this.value),chainId:$(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from($){if($==null)return new a$;if(typeof $==="string"){let X=M0($);if(X[0]>=127)return a$.from(bP(X));switch(X[0]){case 1:return a$.from(uP(X));case 2:return a$.from(mP(X));case 3:return a$.from(lP(X));case 4:return a$.from(nP(X))}J0(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let Q=new a$;if($.type!=null)Q.type=$.type;if($.to!=null)Q.to=$.to;if($.nonce!=null)Q.nonce=$.nonce;if($.gasLimit!=null)Q.gasLimit=$.gasLimit;if($.gasPrice!=null)Q.gasPrice=$.gasPrice;if($.maxPriorityFeePerGas!=null)Q.maxPriorityFeePerGas=$.maxPriorityFeePerGas;if($.maxFeePerGas!=null)Q.maxFeePerGas=$.maxFeePerGas;if($.maxFeePerBlobGas!=null)Q.maxFeePerBlobGas=$.maxFeePerBlobGas;if($.data!=null)Q.data=$.data;if($.value!=null)Q.value=$.value;if($.chainId!=null)Q.chainId=$.chainId;if($.signature!=null)Q.signature=S$.from($.signature);if($.accessList!=null)Q.accessList=$.accessList;if($.authorizationList!=null)Q.authorizationList=$.authorizationList;if($.blobVersionedHashes!=null)Q.blobVersionedHashes=$.blobVersionedHashes;if($.kzg!=null)Q.kzg=$.kzg;if($.blobs!=null)Q.blobs=$.blobs;if($.hash!=null)b(Q.isSigned(),"unsigned transaction cannot define '.hash'","tx",$),b(Q.hash===$.hash,"hash mismatch","tx",$);if($.from!=null)b(Q.isSigned(),"unsigned transaction cannot define '.from'","tx",$),b(Q.from.toLowerCase()===($.from||"").toLowerCase(),"from mismatch","tx",$);return Q}}var SQ,_P,wP,xP,kP,fP,x9=131072;var g2=G0(()=>{r$();QQ();d0();j9();_9();w9();SQ=BigInt(0),_P=BigInt(2),wP=BigInt(27),xP=BigInt(28),kP=BigInt(35),fP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var tQ=G0(()=>{j9();_9();w9();g2()});function J8($){return b(typeof $.address==="string","invalid address for hashAuthorization","auth.address",$),t0(i0(["0x05",lQ([$.chainId!=null?L$($.chainId):"0x",s0($.address),$.nonce!=null?L$($.nonce):"0x"])]))}function $K($,Q){return sX(J8($),Q)}var y2=G0(()=>{r$();QQ();tQ();d0()});function NQ($){return t0(F$($))}var k9=G0(()=>{QQ();d0()});function rP($){let Q=0;function X(){return $[Q++]<<8|$[Q++]}let Z=X(),Y=1,V=[0,1];for(let v=1;v<Z;v++)V.push(Y+=X());let G=X(),z=Q;Q+=G;let L=0,A=0;function F(){if(L==0)A=A<<8|$[Q++],L=8;return A>>--L&1}let C=31,q=2**C,R=q>>>1,I=R>>1,S=q-1,N=0;for(let v=0;v<C;v++)N=N<<1|F();let B=[],_=0,k=q;while(!0){let v=Math.floor(((N-_+1)*Y-1)/k),p=0,c=Z;while(c-p>1){let h=p+c>>>1;if(v<V[h])c=h;else p=h}if(p==0)break;B.push(p);let X0=_+Math.floor(k*V[p]/Y),t=_+Math.floor(k*V[p+1]/Y)-1;while(((X0^t)&R)==0)N=N<<1&S|F(),X0=X0<<1&S,t=t<<1&S|1;while(X0&~t&I)N=N&R|N<<1&S>>>1|F(),X0=X0<<1^R,t=(t^R)<<1|R|1;_=X0,k=1+t-X0}let f=Z-4;return B.map((v)=>{switch(v-f){case 3:return f+65792+($[z++]<<16|$[z++]<<8|$[z++]);case 2:return f+256+($[z++]<<8|$[z++]);case 1:return f+$[z++];default:return v-1}})}function aP($){let Q=0;return()=>$[Q++]}function u2($){return aP(rP(tP($)))}function tP($){let Q=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((Y,V)=>Q[Y.charCodeAt(0)]=V);let X=$.length,Z=new Uint8Array(6*X>>3);for(let Y=0,V=0,G=0,z=0;Y<X;Y++)if(z=z<<6|Q[$.charCodeAt(Y)],G+=6,G>=8)Z[V++]=z>>(G-=8);return Z}function eP($){return $&1?~$>>1:$>>1}function $E($,Q){let X=Array($);for(let Z=0,Y=0;Z<$;Z++)X[Z]=Y+=eP(Q());return X}function rW($,Q=0){let X=[];while(!0){let Z=$(),Y=$();if(!Y)break;Q+=Z;for(let V=0;V<Y;V++)X.push(Q+V);Q+=Y+1}return X}function d2($){return aW(()=>{let Q=rW($);if(Q.length)return Q})}function l2($){let Q=[];while(!0){let X=$();if(X==0)break;Q.push(QE(X,$))}while(!0){let X=$()-1;if(X<0)break;Q.push(XE(X,$))}return Q.flat()}function aW($){let Q=[];while(!0){let X=$(Q.length);if(!X)break;Q.push(X)}return Q}function o2($,Q,X){let Z=Array($).fill().map(()=>[]);for(let Y=0;Y<Q;Y++)$E($,X).forEach((V,G)=>Z[G].push(V));return Z}function QE($,Q){let X=1+Q(),Z=Q(),Y=aW(Q);return o2(Y.length,1+$,Q).flatMap((G,z)=>{let[L,...A]=G;return Array(Y[z]).fill().map((F,C)=>{let q=C*Z;return[L+C*X,A.map((R)=>R+q)]})})}function XE($,Q){let X=1+Q();return o2(X,1+$,Q).map((Y)=>[Y[0],Y.slice(1)])}function ZE($){let Q=[],X=rW($);return Y(Z([]),[]),Q;function Z(V){let G=$(),z=aW(()=>{let L=rW($).map((A)=>X[A]);if(L.length)return Z(L)});return{S:G,B:z,Q:V}}function Y({S:V,B:G},z,L){if(V&4&&L===z[z.length-1])return;if(V&2)L=z[z.length-1];if(V&1)Q.push(z);for(let A of G)for(let F of A.Q)Y(A,[...z,F],L)}}function YE($){return $.toString(16).toUpperCase().padStart(2,"0")}function n2($){return`{${YE($)}}`}function JE($){let Q=[];for(let X=0,Z=$.length;X<Z;){let Y=$.codePointAt(X);X+=Y<65536?1:2,Q.push(Y)}return Q}function SG($){let X=$.length;if(X<4096)return String.fromCodePoint(...$);let Z=[];for(let Y=0;Y<X;)Z.push(String.fromCodePoint(...$.slice(Y,Y+=4096)));return Z.join("")}function GE($,Q){let X=$.length,Z=X-Q.length;for(let Y=0;Z==0&&Y<X;Y++)Z=$[Y]-Q[Y];return Z}function sW($){return $>>24&255}function r2($){return $&16777215}function HE(){let $=u2(WE);v9=new Map(d2($).flatMap((Q,X)=>Q.map((Z)=>[Z,X+1<<24]))),p2=new Set(rW($)),g9=new Map,QK=new Map;for(let[Q,X]of l2($)){if(!p2.has(Q)&&X.length==2){let[Z,Y]=X,V=QK.get(Z);if(!V)V=new Map,QK.set(Z,V);V.set(Y,Q)}g9.set(Q,X.reverse())}}function a2($){return $>=tW&&$<KE}function DE($,Q){if($>=XK&&$<UE&&Q>=ZK&&Q<OE)return tW+($-XK)*JK+(Q-ZK)*NG;else if(a2($)&&Q>YK&&Q<zE&&($-tW)%NG==0)return $+(Q-YK);else{let X=QK.get($);if(X){if(X=X.get(Q),X)return X}return-1}}function t2($){if(!v9)HE();let Q=[],X=[],Z=!1;function Y(V){let G=v9.get(V);if(G)Z=!0,V|=G;Q.push(V)}for(let V of $)while(!0){if(V<128)Q.push(V);else if(a2(V)){let G=V-tW,z=G/JK|0,L=G%JK/NG|0,A=G%NG;if(Y(XK+z),Y(ZK+L),A>0)Y(YK+A)}else{let G=g9.get(V);if(G)X.push(...G);else Y(V)}if(!X.length)break;V=X.pop()}if(Z&&Q.length>1){let V=sW(Q[0]);for(let G=1;G<Q.length;G++){let z=sW(Q[G]);if(z==0||V<=z){V=z;continue}let L=G-1;while(!0){let A=Q[L+1];if(Q[L+1]=Q[L],Q[L]=A,!L)break;if(V=sW(Q[--L]),V<=z)break}V=sW(Q[G])}}return Q}function LE($){let Q=[],X=[],Z=-1,Y=0;for(let V of $){let G=sW(V),z=r2(V);if(Z==-1)if(G==0)Z=z;else Q.push(z);else if(Y>0&&Y>=G){if(G==0)Q.push(Z,...X),X.length=0,Z=z;else X.push(z);Y=G}else{let L=DE(Z,z);if(L>=0)Z=L;else if(Y==0&&G==0)Q.push(Z),Z=z;else X.push(z),Y=G}}if(Z>=0)Q.push(Z,...X);return Q}function e2($){return t2($).map(r2)}function qE($){return LE(t2($))}function eW($,Q){return $.P.has(Q)||$.Q.has(Q)}function p9(){if(y9)return;let $=u2(iP),Q=()=>rW($),X=()=>new Set(Q()),Z=(F,C)=>C.forEach((q)=>F.add(q));y9=new Map(l2($)),YD=X(),W8=Q(),h9=new Set(Q().map((F)=>W8[F])),W8=new Set(W8),JD=X(),ME=X();let Y=d2($),V=$(),G=()=>{let F=new Set;return Q().forEach((C)=>Z(F,Y[C])),Z(F,Q()),F};IG=aW((F)=>{let C=aW($).map((q)=>q+96);if(C.length){let q=F>=V;if(C[0]-=32,C=SG(C),q)C=`Restricted[${C}]`;let R=G(),I=G(),S=!$();return{N:C,P:R,Q:I,M:S,R:q}}}),f9=X(),EG=new Map;let z=Q().concat(GK(f9)).sort((F,C)=>F-C);z.forEach((F,C)=>{let q=$(),R=z[C]=q?z[C-q]:{V:[],M:new Map};if(R.V.push(F),!f9.has(F))EG.set(F,R)});for(let{V:F,M:C}of new Set(EG.values())){let q=[];for(let I of F){let S=IG.filter((B)=>eW(B,I)),N=q.find(({G:B})=>S.some((_)=>B.has(_)));if(!N)N={G:new Set,V:[]},q.push(N);N.V.push(I),Z(N.G,S)}let R=q.flatMap((I)=>GK(I.G));for(let{G:I,V:S}of q){let N=new Set(R.filter((B)=>!I.has(B)));for(let B of S)C.set(B,N)}}G8=new Set;let L=new Set,A=(F)=>G8.has(F)?L.add(F):G8.add(F);for(let F of IG){for(let C of F.P)A(C);for(let C of F.Q)A(C)}for(let F of G8)if(!EG.has(F)&&!L.has(F))EG.set(F,XD);Z(G8,e2(G8)),c2=ZE($).map((F)=>ZD.from(F)).sort(GE),b9=new Map;for(let F of c2){let C=[b9];for(let q of F){let R=C.map((I)=>{let S=I.get(q);if(!S)S=new Map,I.set(q,S);return S});if(q===QD)C.push(...R);else C=R}for(let q of C)q.V=F}}function m9($){return(GD($)?"":`${c9(WK([$]))} `)+n2($)}function c9($){return`"${$}"`}function CE($){if($.length>=4&&$[2]==m2&&$[3]==m2)throw new Error(`invalid label extension: "${SG($.slice(0,4))}"`)}function AE($){for(let X=$.lastIndexOf(95);X>0;)if($[--X]!==95)throw new Error("underscore allowed only at start")}function FE($){let Q=$[0],X=h2.get(Q);if(X)throw iW(`leading ${X}`);let Z=$.length,Y=-1;for(let V=1;V<Z;V++){Q=$[V];let G=h2.get(Q);if(G){if(Y==V)throw iW(`${X} + ${G}`);Y=V+1,X=G}}if(Y==Z)throw iW(`trailing ${X}`)}function WK($,Q=1/0,X=n2){let Z=[];if(TE($[0]))Z.push("");if($.length>Q)Q>>=1,$=[...$.slice(0,Q),8230,...$.slice(-Q)];let Y=0,V=$.length;for(let G=0;G<V;G++){let z=$[G];if(GD(z))Z.push(SG($.slice(Y,G))),Z.push(X(z)),Y=G+1}return Z.push(SG($.slice(Y,V))),Z.join("")}function TE($){return p9(),W8.has($)}function GD($){return p9(),JD.has($)}function WD($){return IE(RE($,qE,BE))}function RE($,Q,X){if(!$)return[];p9();let Z=0;return $.split($D).map((Y)=>{let V=JE(Y),G={input:V,offset:Z};Z+=V.length+1;try{let z=G.tokens=NE(V,Q,X),L=z.length,A;if(!L)throw new Error("empty label");let F=G.output=z.flat();if(AE(F),!(G.emoji=L>1||z[0].is_emoji)&&F.every((q)=>q<128))CE(F),A="ASCII";else{let q=z.flatMap((R)=>R.is_emoji?[]:R);if(!q.length)A="Emoji";else{if(W8.has(F[0]))throw iW("leading combining mark");for(let S=1;S<L;S++){let N=z[S];if(!N.is_emoji&&W8.has(N[0]))throw iW(`emoji + combining mark: "${SG(z[S-1])} + ${WK([N[0]])}"`)}FE(F);let R=GK(new Set(q)),[I]=EE(R);SE(I,q),PE(I,R),A=I.N}}G.type=A}catch(z){G.error=z}return G})}function PE($,Q){let X,Z=[];for(let Y of Q){let V=EG.get(Y);if(V===XD)return;if(V){let G=V.M.get(Y);if(X=X?X.filter((z)=>G.has(z)):GK(G),!X.length)return}else Z.push(Y)}if(X){for(let Y of X)if(Z.every((V)=>eW(Y,V)))throw new Error(`whole-script confusable: ${$.N}/${Y.N}`)}}function EE($){let Q=IG;for(let X of $){let Z=Q.filter((Y)=>eW(Y,X));if(!Z.length)if(!IG.some((Y)=>eW(Y,X)))throw VD(X);else throw KD(Q[0],X);if(Q=Z,Z.length==1)break}return Q}function IE($){return $.map(({input:Q,error:X,output:Z})=>{if(X){let Y=X.message;throw new Error($.length==1?Y:`Invalid label ${c9(WK(Q,63))}: ${Y}`)}return SG(Z)}).join($D)}function VD($){return new Error(`disallowed character: ${m9($)}`)}function KD($,Q){let X=m9(Q),Z=IG.find((Y)=>Y.P.has(Q));if(Z)X=`${Z.N} ${X}`;return new Error(`illegal mixture: ${$.N} + ${X}`)}function iW($){return new Error(`illegal placement: ${$}`)}function SE($,Q){for(let X of Q)if(!eW($,X))throw KD($,X);if($.M){let X=e2(Q);for(let Z=1,Y=X.length;Z<Y;Z++)if(h9.has(X[Z])){let V=Z+1;for(let G;V<Y&&h9.has(G=X[V]);V++)for(let z=Z;z<V;z++)if(X[z]==G)throw new Error(`duplicate non-spacing marks: ${m9(G)}`);if(V-Z>b2)throw new Error(`excessive non-spacing marks: ${c9(WK(X.slice(Z-1,V)))} (${V-Z}/${b2})`);Z=V}}}function NE($,Q,X){let Z=[],Y=[];$=$.slice().reverse();while($.length){let V=jE($);if(V){if(Y.length)Z.push(Q(Y)),Y=[];Z.push(X(V))}else{let G=$.pop();if(G8.has(G))Y.push(G);else{let z=y9.get(G);if(z)Y.push(...z);else if(!YD.has(G))throw VD(G)}}}if(Y.length)Z.push(Q(Y));return Z}function BE($){return $.filter((Q)=>Q!=QD)}function jE($,Q){let X=b9,Z,Y=$.length;while(Y){if(X=X.get($[--Y]),!X)break;let{V}=X;if(V){if(Z=V,Q)Q.push(...$.slice(Y).reverse());$.length=Y}}return Z}var iP="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",h2,b2=4,WE="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",tW=44032,XK=4352,ZK=4449,YK=4519,s2=19,i2=21,NG=28,JK,VE,KE,UE,OE,zE,v9,p2,g9,QK,m2=45,$D=".",QD=65039,XD=1,GK=($)=>Array.from($),ZD,y9,YD,W8,h9,JD,ME,IG,f9,EG,G8,c2,b9;var UD=G0(()=>{h2=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);JK=i2*NG,VE=s2*JK,KE=tW+VE,UE=XK+s2,OE=ZK+i2,zE=YK+NG;ZD=class ZD extends Array{get is_emoji(){return!0}}});function OD($){return b($.length!==0,"invalid ENS name; empty component","comp",$),$}function u9($){let Q=F$($V($)),X=[];if($.length===0)return X;let Z=0;for(let Y=0;Y<Q.length;Y++)if(Q[Y]===46)X.push(OD(Q.slice(Z,Y))),Z=Y+1;return b(Z<Q.length,"invalid ENS name; empty component","name",$),X.push(OD(Q.slice(Z))),X}function $V($){try{if($.length===0)throw new Error("empty label");return WD($)}catch(Q){b(!1,`invalid ENS name (${Q.message})`,"name",$)}}function VK($){try{return u9($).length!==0}catch(Q){}return!1}function VY($){b(typeof $==="string","invalid ENS name; not a string","name",$),b($.length,"invalid ENS name (empty label)","name",$);let Q=zD,X=u9($);while(X.length)Q=t0(i0([Q,t0(X.pop())]));return O0(Q)}function BG($,Q){let X=Q!=null?Q:63;return b(X<=255,"DNS encoded label cannot exceed 255","length",X),O0(i0(u9($).map((Z)=>{b(Z.length<=X,`label ${JSON.stringify($)} exceeds ${X} bytes`,"name",$);let Y=new Uint8Array(Z.length+1);return Y.set(Z,1),Y[0]=Y.length-1,Y})))+"00"}var zD;var HD=G0(()=>{QQ();d0();UD();zD=new Uint8Array(32);zD.fill(0)});function V8($){if(typeof $==="string")$=F$($);return t0(i0([F$(AG),F$(String($.length)),$]))}function KK($,Q){let X=V8($);return sX(X,Q)}var DD=G0(()=>{QQ();FG();tQ();d0()});function LD($,Q,X){switch($){case"address":if(X)return M0(u$(Q,32));return M0(s0(Q));case"string":return F$(Q);case"bytes":return M0(Q);case"bool":if(Q=Q?"0x01":"0x00",X)return M0(u$(Q,32));return M0(Q)}let Z=$.match(wE);if(Z){let Y=Z[1]==="int",V=parseInt(Z[2]||"256");if(b((!Z[2]||Z[2]===String(V))&&V%8===0&&V!==0&&V<=256,"invalid number type","type",$),X)V=256;if(Y)Q=kZ(Q,V);return M0(u$(L$(Q),V/8))}if(Z=$.match(_E),Z){let Y=parseInt(Z[1]);if(b(String(Y)===Z[1]&&Y!==0&&Y<=32,"invalid bytes type","type",$),b(rQ(Q)===Y,`invalid value for ${$}`,"value",Q),X)return M0(wZ(Q,32));return Q}if(Z=$.match(xE),Z&&Array.isArray(Q)){let Y=Z[1],V=parseInt(Z[2]||String(Q.length));b(V===Q.length,`invalid array length for ${$}`,"value",Q);let G=[];return Q.forEach(function(z){G.push(LD(Y,z,!0))}),M0(i0(G))}b(!1,"invalid type","type",$)}function jG($,Q){b($.length===Q.length,"wrong number of values; expected ${ types.length }","values",Q);let X=[];return $.forEach(function(Z,Y){X.push(LD(Z,Q[Y]))}),O0(i0(X))}function UK($,Q){return t0(jG($,Q))}function OK($,Q){return d$(jG($,Q))}var _E,wE,xE;var qD=G0(()=>{r$();QQ();d0();_E=new RegExp("^bytes([0-9]+)$"),wE=new RegExp("^(u?int)([0-9]*)$"),xE=new RegExp("^(.*)\\[([0-9]*)\\]$")});function vE($){let Q=M0($),X=Q.length%32;if(X)return i0([Q,FD.slice(X)]);return O0(Q)}function CD($){return function(Q){return b(typeof Q==="string",`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,Q),Q}}function l9($){{let Q=$.match(/^(u?)int(\d+)$/);if(Q){let X=Q[1]==="",Z=parseInt(Q[2]);b(Z%8===0&&Z!==0&&Z<=256&&Q[2]===String(Z),"invalid numeric width","type",$);let Y=OX(fE,X?Z-1:Z),V=X?(Y+RD)*kE:TD;return function(G){let z=m0(G,"value");return b(z>=V&&z<=Y,`value out-of-bounds for ${$}`,"value",z),CQ(X?kZ(z,256):z,32)}}}{let Q=$.match(/^bytes(\d+)$/);if(Q){let X=parseInt(Q[1]);return b(X!==0&&X<=32&&Q[1]===String(X),"invalid bytes width","type",$),function(Z){let Y=M0(Z);return b(Y.length===X,`invalid length for ${$}`,"value",Z),vE(Z)}}}switch($){case"address":return function(Q){return u$(s0(Q),32)};case"bool":return function(Q){return!Q?yE:gE};case"bytes":return function(Q){return t0(Q)};case"string":return function(Q){return NQ(Q)}}return null}function AD($,Q){return`${$}(${Q.map(({name:X,type:Z})=>Z+" "+X).join(",")})`}function zK($){let Q=$.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);if(Q)return{base:Q[1],index:Q[2]+Q[4],array:{base:Q[1],prefix:Q[1]+Q[2],count:Q[5]?parseInt(Q[5]):-1}};return{base:$}}class n${primaryType;#$;get types(){return JSON.parse(this.#$)}#Q;#X;constructor($){this.#Q=new Map,this.#X=new Map;let Q=new Map,X=new Map,Z=new Map,Y={};Object.keys($).forEach((z)=>{Y[z]=$[z].map(({name:L,type:A})=>{let{base:F,index:C}=zK(A);if(F==="int"&&!$.int)F="int256";if(F==="uint"&&!$.uint)F="uint256";return{name:L,type:F+(C||"")}}),Q.set(z,new Set),X.set(z,[]),Z.set(z,new Set)}),this.#$=JSON.stringify(Y);for(let z in Y){let L=new Set;for(let A of Y[z]){b(!L.has(A.name),`duplicate variable name ${JSON.stringify(A.name)} in ${JSON.stringify(z)}`,"types",$),L.add(A.name);let F=zK(A.type).base;if(b(F!==z,`circular type reference to ${JSON.stringify(F)}`,"types",$),l9(F))continue;b(X.has(F),`unknown type ${JSON.stringify(F)}`,"types",$),X.get(F).push(z),Q.get(z).add(F)}}let V=Array.from(X.keys()).filter((z)=>X.get(z).length===0);b(V.length!==0,"missing primary type","types",$),b(V.length===1,`ambiguous primary types or unused types: ${V.map((z)=>JSON.stringify(z)).join(", ")}`,"types",$),I0(this,{primaryType:V[0]});function G(z,L){b(!L.has(z),`circular type reference to ${JSON.stringify(z)}`,"types",$),L.add(z);for(let A of Q.get(z)){if(!X.has(A))continue;G(A,L);for(let F of L)Z.get(F).add(A)}L.delete(z)}G(this.primaryType,new Set);for(let[z,L]of Z){let A=Array.from(L);A.sort(),this.#Q.set(z,AD(z,Y[z])+A.map((F)=>AD(F,Y[F])).join(""))}}getEncoder($){let Q=this.#X.get($);if(!Q)Q=this.#Z($),this.#X.set($,Q);return Q}#Z($){{let Z=l9($);if(Z)return Z}let Q=zK($).array;if(Q){let Z=Q.prefix,Y=this.getEncoder(Z);return(V)=>{b(Q.count===-1||Q.count===V.length,`array length mismatch; expected length ${Q.count}`,"value",V);let G=V.map(Y);if(this.#Q.has(Z))G=G.map(t0);return t0(i0(G))}}let X=this.types[$];if(X){let Z=NQ(this.#Q.get($));return(Y)=>{let V=X.map(({name:G,type:z})=>{let L=this.getEncoder(z)(Y[G]);if(this.#Q.has(z))return t0(L);return L});return V.unshift(Z),i0(V)}}b(!1,`unknown type: ${$}`,"type",$)}encodeType($){let Q=this.#Q.get($);return b(Q,`unknown type: ${JSON.stringify($)}`,"name",$),Q}encodeData($,Q){return this.getEncoder($)(Q)}hashStruct($,Q){return t0(this.encodeData($,Q))}encode($){return this.encodeData(this.primaryType,$)}hash($){return this.hashStruct(this.primaryType,$)}_visit($,Q,X){if(l9($))return X($,Q);let Z=zK($).array;if(Z)return b(Z.count===-1||Z.count===Q.length,`array length mismatch; expected length ${Z.count}`,"value",Q),Q.map((V)=>this._visit(Z.prefix,V,X));let Y=this.types[$];if(Y)return Y.reduce((V,{name:G,type:z})=>{return V[G]=this._visit(z,Q[G],X),V},{});b(!1,`unknown type: ${$}`,"type",$)}visit($,Q){return this._visit(this.primaryType,$,Q)}static from($){return new n$($)}static getPrimaryType($){return n$.from($).primaryType}static hashStruct($,Q,X){return n$.from(Q).hashStruct($,X)}static hashDomain($){let Q=[];for(let X in $){if($[X]==null)continue;let Z=MD[X];b(Z,`invalid typed-data domain key: ${JSON.stringify(X)}`,"domain",$),Q.push({name:X,type:Z})}return Q.sort((X,Z)=>{return d9.indexOf(X.name)-d9.indexOf(Z.name)}),n$.hashStruct("EIP712Domain",{EIP712Domain:Q},$)}static encode($,Q,X){return i0(["0x1901",n$.hashDomain($),n$.from(Q).hash(X)])}static hash($,Q,X){return t0(n$.encode($,Q,X))}static async resolveNames($,Q,X,Z){$=Object.assign({},$);for(let G in $)if($[G]==null)delete $[G];let Y={};if($.verifyingContract&&!Q$($.verifyingContract,20))Y[$.verifyingContract]="0x";let V=n$.from(Q);V.visit(X,(G,z)=>{if(G==="address"&&!Q$(z,20))Y[z]="0x";return z});for(let G in Y)Y[G]=await Z(G);if($.verifyingContract&&Y[$.verifyingContract])$.verifyingContract=Y[$.verifyingContract];return X=V.visit(X,(G,z)=>{if(G==="address"&&Y[z])return Y[z];return z}),{domain:$,value:X}}static getPayload($,Q,X){n$.hashDomain($);let Z={},Y=[];d9.forEach((z)=>{let L=$[z];if(L==null)return;Z[z]=hE[z](L),Y.push({name:z,type:MD[z]})});let V=n$.from(Q);Q=V.types;let G=Object.assign({},Q);return b(G.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",Q),G.EIP712Domain=Y,V.encode(X),{types:G,domain:Z,primaryType:V.primaryType,message:V.visit(X,(z,L)=>{if(z.match(/^bytes(\d*)/))return O0(M0(L));if(z.match(/^u?int/))return m0(L).toString();switch(z){case"address":return L.toLowerCase();case"bool":return!!L;case"string":return b(typeof L==="string","invalid string","value",L),L}b(!1,"unsupported type","type",z)})}}}function HK($,Q,X,Z){return sX(n$.hash($,Q,X),Z)}var FD,kE,TD,RD,fE,gE,yE,MD,d9,hE;var PD=G0(()=>{r$();QQ();tQ();d0();k9();FD=new Uint8Array(32);FD.fill(0);kE=BigInt(-1),TD=BigInt(0),RD=BigInt(1),fE=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");gE=CQ(RD,32),yE=CQ(TD,32),MD={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},d9=["name","version","chainId","verifyingContract","salt"];hE={name:CD("name"),version:CD("version"),chainId:function($){let Q=m0($,"domain.chainId");if(b(Q>=0,"invalid chain ID","domain.chainId",$),Number.isSafeInteger(Q))return Number(Q);return $Q(Q)},verifyingContract:function($){try{return s0($).toLowerCase()}catch(Q){}b(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){let Q=M0($,"domain.salt");return b(Q.length===32,'invalid domain value "salt"',"domain.salt",$),O0(Q)}}});var hZ=G0(()=>{y2();k9();HD();DD();qD();PD()});function QX($){let Q=new Set;return $.forEach((X)=>Q.add(X)),Object.freeze(Q)}class iX{#$;#Q;get offset(){return this.#$}get length(){return this.#Q.length-this.#$}constructor($){this.#$=0,this.#Q=$.slice()}clone(){return new iX(this.#Q)}reset(){this.#$=0}#X($=0,Q=0){return new iX(this.#Q.slice($,Q).map((X)=>{return Object.freeze(Object.assign({},X,{match:X.match-$,linkBack:X.linkBack-$,linkNext:X.linkNext-$}))}))}popKeyword($){let Q=this.peek();if(Q.type!=="KEYWORD"||!$.has(Q.text))throw new Error(`expected keyword ${Q.text}`);return this.pop().text}popType($){if(this.peek().type!==$){let Q=this.peek();throw new Error(`expected ${$}; got ${Q.type} ${JSON.stringify(Q.text)}`)}return this.pop().text}popParen(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=this.#X(this.#$+1,$.match+1);return this.#$=$.match+1,Q}popParams(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=[];while(this.#$<$.match-1){let X=this.peek().linkNext;Q.push(this.#X(this.#$+1,X)),this.#$=X}return this.#$=$.match+1,Q}peek(){if(this.#$>=this.#Q.length)throw new Error("out-of-bounds");return this.#Q[this.#$]}peekKeyword($){let Q=this.peekType("KEYWORD");return Q!=null&&$.has(Q)?Q:null}peekType($){if(this.length===0)return null;let Q=this.peek();return Q.type===$?Q.text:null}pop(){let $=this.peek();return this.#$++,$}toString(){let $=[];for(let Q=this.#$;Q<this.#Q.length;Q++){let X=this.#Q[Q];$.push(`${X.type}:${X.text}`)}return`<TokenString ${$.join(" ")}>`}}function GJ($){let Q=[],X=(G)=>{let z=V<$.length?JSON.stringify($[V]):"$EOI";throw new Error(`invalid token ${z} at ${V}: ${G}`)},Z=[],Y=[],V=0;while(V<$.length){let G=$.substring(V),z=G.match(nE);if(z)V+=z[1].length,G=$.substring(V);let L={depth:Z.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:V,value:-1};Q.push(L);let A=oE[G[0]]||"";if(A){if(L.type=A,L.text=G[0],V++,A==="OPEN_PAREN")Z.push(Q.length-1),Y.push(Q.length-1);else if(A=="CLOSE_PAREN"){if(Z.length===0)X("no matching open bracket");L.match=Z.pop(),Q[L.match].match=Q.length-1,L.depth--,L.linkBack=Y.pop(),Q[L.linkBack].linkNext=Q.length-1}else if(A==="COMMA")L.linkBack=Y.pop(),Q[L.linkBack].linkNext=Q.length-1,Y.push(Q.length-1);else if(A==="OPEN_BRACKET")L.type="BRACKET";else if(A==="CLOSE_BRACKET"){let F=Q.pop().text;if(Q.length>0&&Q[Q.length-1].type==="NUMBER"){let C=Q.pop().text;F=C+F,Q[Q.length-1].value=n0(C)}if(Q.length===0||Q[Q.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Q[Q.length-1].text+=F}continue}if(z=G.match(iE),z){if(L.text=z[1],V+=L.text.length,lE.has(L.text)){L.type="KEYWORD";continue}if(L.text.match(hD)){L.type="TYPE";continue}L.type="ID";continue}if(z=G.match(sE),z){L.text=z[1],L.type="NUMBER",V+=L.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(G[0])} at position ${V}`)}return new iX(Q.map((G)=>Object.freeze(G)))}function ED($,Q){let X=[];for(let Z in Q.keys())if($.has(Z))X.push(Z);if(X.length>1)throw new Error(`conflicting types: ${X.join(", ")}`)}function DK($,Q){if(Q.peekKeyword(vD)){let X=Q.pop().text;if(X!==$)throw new Error(`expected ${$}, got ${X}`)}return Q.popType("ID")}function UY($,Q){let X=new Set;while(!0){let Z=$.peekType("KEYWORD");if(Z==null||Q&&!Q.has(Z))break;if($.pop(),X.has(Z))throw new Error(`duplicate keywords: ${JSON.stringify(Z)}`);X.add(Z)}return Object.freeze(X)}function bD($){let Q=UY($,mE);if(ED(Q,QX("constant payable nonpayable".split(" "))),ED(Q,QX("pure view payable nonpayable".split(" "))),Q.has("view"))return"view";if(Q.has("pure"))return"pure";if(Q.has("payable"))return"payable";if(Q.has("nonpayable"))return"nonpayable";if(Q.has("constant"))return"view";return"nonpayable"}function KY($,Q){return $.popParams().map((X)=>P$.from(X,Q))}function pD($){if($.peekType("AT")){if($.pop(),$.peekType("NUMBER"))return m0($.pop().text);throw new Error("invalid gas")}return null}function K8($){if($.length)throw new Error(`unexpected tokens at offset ${$.offset}: ${$.toString()}`)}function ID($){let Q=$.match(hD);if(b(Q,"invalid type","type",$),$==="uint")return"uint256";if($==="int")return"int256";if(Q[2]){let X=parseInt(Q[2]);b(X!==0&&X<=32,"invalid bytes length","type",$)}else if(Q[3]){let X=parseInt(Q[3]);b(X!==0&&X<=256&&X%8===0,"invalid numeric width","type",$)}return $}class P${name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor($,Q,X,Z,Y,V,G,z){if(EQ($,y$,"ParamType"),Object.defineProperty(this,DX,{value:SD}),V)V=Object.freeze(V.slice());if(Z==="array"){if(G==null||z==null)throw new Error("")}else if(G!=null||z!=null)throw new Error("");if(Z==="tuple"){if(V==null)throw new Error("")}else if(V!=null)throw new Error("");I0(this,{name:Q,type:X,baseType:Z,indexed:Y,components:V,arrayLength:G,arrayChildren:z})}format($){if($==null)$="sighash";if($==="json"){let X=this.name||"";if(this.isArray()){let Y=JSON.parse(this.arrayChildren.format("json"));return Y.name=X,Y.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(Y)}let Z={type:this.baseType==="tuple"?"tuple":this.type,name:X};if(typeof this.indexed==="boolean")Z.indexed=this.indexed;if(this.isTuple())Z.components=this.components.map((Y)=>JSON.parse(Y.format($)));return JSON.stringify(Z)}let Q="";if(this.isArray())Q+=this.arrayChildren.format($),Q+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;else if(this.isTuple())Q+="("+this.components.map((X)=>X.format($)).join($==="full"?", ":",")+")";else Q+=this.type;if($!=="sighash"){if(this.indexed===!0)Q+=" indexed";if($==="full"&&this.name)Q+=" "+this.name}return Q}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk($,Q){if(this.isArray()){if(!Array.isArray($))throw new Error("invalid array value");if(this.arrayLength!==-1&&$.length!==this.arrayLength)throw new Error("array is wrong length");let X=this;return $.map((Z)=>X.arrayChildren.walk(Z,Q))}if(this.isTuple()){if(!Array.isArray($))throw new Error("invalid tuple value");if($.length!==this.components.length)throw new Error("array is wrong length");let X=this;return $.map((Z,Y)=>X.components[Y].walk(Z,Q))}return Q(this.type,$)}#$($,Q,X,Z){if(this.isArray()){if(!Array.isArray(Q))throw new Error("invalid array value");if(this.arrayLength!==-1&&Q.length!==this.arrayLength)throw new Error("array is wrong length");let V=this.arrayChildren,G=Q.slice();G.forEach((z,L)=>{V.#$($,z,X,(A)=>{G[L]=A})}),Z(G);return}if(this.isTuple()){let V=this.components,G;if(Array.isArray(Q))G=Q.slice();else{if(Q==null||typeof Q!=="object")throw new Error("invalid tuple value");G=V.map((z)=>{if(!z.name)throw new Error("cannot use object value with unnamed components");if(!(z.name in Q))throw new Error(`missing value for component ${z.name}`);return Q[z.name]})}if(G.length!==this.components.length)throw new Error("array is wrong length");G.forEach((z,L)=>{V[L].#$($,z,X,(A)=>{G[L]=A})}),Z(G);return}let Y=X(this.type,Q);if(Y.then)$.push(async function(){Z(await Y)}());else Z(Y)}async walkAsync($,Q){let X=[],Z=[$];if(this.#$(X,$,Q,(Y)=>{Z[0]=Y}),X.length)await Promise.all(X);return Z[0]}static from($,Q){if(P$.isParamType($))return $;if(typeof $==="string")try{return P$.from(GJ($),Q)}catch(G){b(!1,"invalid param type","obj",$)}else if($ instanceof iX){let G="",z="",L=null;if(UY($,QX(["tuple"])).has("tuple")||$.peekType("OPEN_PAREN"))z="tuple",L=$.popParams().map((I)=>P$.from(I)),G=`tuple(${L.map((I)=>I.format()).join(",")})`;else G=ID($.popType("TYPE")),z=G;let A=null,F=null;while($.length&&$.peekType("BRACKET")){let I=$.pop();A=new P$(y$,"",G,z,null,L,F,A),F=I.value,G+=I.text,z="array",L=null}let C=null;if(UY($,cE).has("indexed")){if(!Q)throw new Error("");C=!0}let R=$.peekType("ID")?$.pop().text:"";if($.length)throw new Error("leftover tokens");return new P$(y$,R,G,z,C,L,F,A)}let X=$.name;b(!X||typeof X==="string"&&X.match(yD),"invalid name","obj.name",X);let Z=$.indexed;if(Z!=null)b(Q,"parameter cannot be indexed","obj.indexed",$.indexed),Z=!!Z;let Y=$.type,V=Y.match(rE);if(V){let G=parseInt(V[2]||"-1"),z=P$.from({type:V[1],components:$.components});return new P$(y$,X||"",Y,"array",Z,null,G,z)}if(Y==="tuple"||Y.startsWith("tuple(")||Y.startsWith("(")){let G=$.components!=null?$.components.map((L)=>P$.from(L)):null;return new P$(y$,X||"",Y,"tuple",Z,G,null,null)}return Y=ID($.type),new P$(y$,X||"",Y,Y,Z,null,null,null)}static isParamType($){return $&&$[DX]===SD}}class rX{type;inputs;constructor($,Q,X){EQ($,y$,"Fragment"),X=Object.freeze(X.slice()),I0(this,{type:Q,inputs:X})}static from($){if(typeof $==="string"){try{rX.from(JSON.parse($))}catch(Q){}return rX.from(GJ($))}if($ instanceof iX)switch($.peekKeyword(vD)){case"constructor":return HX.from($);case"error":return TQ.from($);case"event":return eQ.from($);case"fallback":case"receive":return BX.from($);case"function":return $X.from($);case"struct":return MZ.from($)}else if(typeof $==="object"){switch($.type){case"constructor":return HX.from($);case"error":return TQ.from($);case"event":return eQ.from($);case"fallback":case"receive":return BX.from($);case"function":return $X.from($);case"struct":return MZ.from($)}J0(!1,`unsupported type: ${$.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}b(!1,"unsupported frgament object","obj",$)}static isConstructor($){return HX.isFragment($)}static isError($){return TQ.isFragment($)}static isEvent($){return eQ.isFragment($)}static isFunction($){return $X.isFragment($)}static isStruct($){return MZ.isFragment($)}}function QV($,Q){return"("+Q.map((X)=>X.format($)).join($==="full"?", ":",")+")"}var bE="external public payable override",pE,kD="constant external internal payable private public pure view override",mE,fD="constructor error event fallback function receive struct",vD,gD="calldata memory storage payable indexed",cE,uE="tuple returns",dE,lE,oE,nE,sE,iE,yD,hD,rE,y$,DX,SD="_ParamTypeInternal",ND="_ErrorInternal",BD="_EventInternal",jD="_ConstructorInternal",_D="_FallbackInternal",wD="_FunctionInternal",xD="_StructInternal",OY,TQ,eQ,HX,BX,$X,MZ;var LK=G0(()=>{d0();hZ();pE=QX(bE.split(" ")),mE=QX(kD.split(" ")),vD=QX(fD.split(" ")),cE=QX(gD.split(" ")),dE=[fD,gD,uE,kD].join(" "),lE=QX(dE.split(" ")),oE={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},nE=new RegExp("^(\\s*)"),sE=new RegExp("^([0-9]+)"),iE=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),yD=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),hD=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");rE=new RegExp(/^(.*)\[([0-9]*)\]$/);y$={},DX=Symbol.for("_ethers_internal");OY=class OY extends rX{name;constructor($,Q,X,Z){super($,Q,Z);b(typeof X==="string"&&X.match(yD),"invalid identifier","name",X),Z=Object.freeze(Z.slice()),I0(this,{name:X})}};TQ=class TQ extends OY{constructor($,Q,X){super($,"error",Q,X);Object.defineProperty(this,DX,{value:ND})}get selector(){return NQ(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("error");return Q.push(this.name+QV($,this.inputs)),Q.join(" ")}static from($){if(TQ.isFragment($))return $;if(typeof $==="string")return TQ.from(GJ($));else if($ instanceof iX){let Q=DK("error",$),X=KY($);return K8($),new TQ(y$,Q,X)}return new TQ(y$,$.name,$.inputs?$.inputs.map(P$.from):[])}static isFragment($){return $&&$[DX]===ND}};eQ=class eQ extends OY{anonymous;constructor($,Q,X,Z){super($,"event",Q,X);Object.defineProperty(this,DX,{value:BD}),I0(this,{anonymous:Z})}get topicHash(){return NQ(this.format("sighash"))}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("event");if(Q.push(this.name+QV($,this.inputs)),$!=="sighash"&&this.anonymous)Q.push("anonymous");return Q.join(" ")}static getTopicHash($,Q){return Q=(Q||[]).map((Z)=>P$.from(Z)),new eQ(y$,$,Q,!1).topicHash}static from($){if(eQ.isFragment($))return $;if(typeof $==="string")try{return eQ.from(GJ($))}catch(Q){b(!1,"invalid event fragment","obj",$)}else if($ instanceof iX){let Q=DK("event",$),X=KY($,!0),Z=!!UY($,QX(["anonymous"])).has("anonymous");return K8($),new eQ(y$,Q,X,Z)}return new eQ(y$,$.name,$.inputs?$.inputs.map((Q)=>P$.from(Q,!0)):[],!!$.anonymous)}static isFragment($){return $&&$[DX]===BD}};HX=class HX extends rX{payable;gas;constructor($,Q,X,Z,Y){super($,Q,X);Object.defineProperty(this,DX,{value:jD}),I0(this,{payable:Z,gas:Y})}format($){if(J0($!=null&&$!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),$==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Q=[`constructor${QV($,this.inputs)}`];if(this.payable)Q.push("payable");if(this.gas!=null)Q.push(`@${this.gas.toString()}`);return Q.join(" ")}static from($){if(HX.isFragment($))return $;if(typeof $==="string")try{return HX.from(GJ($))}catch(Q){b(!1,"invalid constuctor fragment","obj",$)}else if($ instanceof iX){UY($,QX(["constructor"]));let Q=KY($),X=!!UY($,pE).has("payable"),Z=pD($);return K8($),new HX(y$,"constructor",Q,X,Z)}return new HX(y$,"constructor",$.inputs?$.inputs.map(P$.from):[],!!$.payable,$.gas!=null?$.gas:null)}static isFragment($){return $&&$[DX]===jD}};BX=class BX extends rX{payable;constructor($,Q,X){super($,"fallback",Q);Object.defineProperty(this,DX,{value:_D}),I0(this,{payable:X})}format($){let Q=this.inputs.length===0?"receive":"fallback";if($==="json"){let X=this.payable?"payable":"nonpayable";return JSON.stringify({type:Q,stateMutability:X})}return`${Q}()${this.payable?" payable":""}`}static from($){if(BX.isFragment($))return $;if(typeof $==="string")try{return BX.from(GJ($))}catch(Q){b(!1,"invalid fallback fragment","obj",$)}else if($ instanceof iX){let Q=$.toString(),X=$.peekKeyword(QX(["fallback","receive"]));if(b(X,"type must be fallback or receive","obj",Q),$.popKeyword(QX(["fallback","receive"]))==="receive"){let G=KY($);return b(G.length===0,"receive cannot have arguments","obj.inputs",G),UY($,QX(["payable"])),K8($),new BX(y$,[],!0)}let Y=KY($);if(Y.length)b(Y.length===1&&Y[0].type==="bytes","invalid fallback inputs","obj.inputs",Y.map((G)=>G.format("minimal")).join(", "));else Y=[P$.from("bytes")];let V=bD($);if(b(V==="nonpayable"||V==="payable","fallback cannot be constants","obj.stateMutability",V),UY($,QX(["returns"])).has("returns")){let G=KY($);b(G.length===1&&G[0].type==="bytes","invalid fallback outputs","obj.outputs",G.map((z)=>z.format("minimal")).join(", "))}return K8($),new BX(y$,Y,V==="payable")}if($.type==="receive")return new BX(y$,[],!0);if($.type==="fallback"){let Q=[P$.from("bytes")],X=$.stateMutability==="payable";return new BX(y$,Q,X)}b(!1,"invalid fallback description","obj",$)}static isFragment($){return $&&$[DX]===_D}};$X=class $X extends OY{constant;outputs;stateMutability;payable;gas;constructor($,Q,X,Z,Y,V){super($,"function",Q,Z);Object.defineProperty(this,DX,{value:wD}),Y=Object.freeze(Y.slice()),I0(this,{constant:X==="view"||X==="pure",gas:V,outputs:Y,payable:X==="payable",stateMutability:X})}get selector(){return NQ(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($))),outputs:this.outputs.map((X)=>JSON.parse(X.format($)))});let Q=[];if($!=="sighash")Q.push("function");if(Q.push(this.name+QV($,this.inputs)),$!=="sighash"){if(this.stateMutability!=="nonpayable")Q.push(this.stateMutability);if(this.outputs&&this.outputs.length)Q.push("returns"),Q.push(QV($,this.outputs));if(this.gas!=null)Q.push(`@${this.gas.toString()}`)}return Q.join(" ")}static getSelector($,Q){return Q=(Q||[]).map((Z)=>P$.from(Z)),new $X(y$,$,"view",Q,[],null).selector}static from($){if($X.isFragment($))return $;if(typeof $==="string")try{return $X.from(GJ($))}catch(X){b(!1,"invalid function fragment","obj",$)}else if($ instanceof iX){let X=DK("function",$),Z=KY($),Y=bD($),V=[];if(UY($,QX(["returns"])).has("returns"))V=KY($);let G=pD($);return K8($),new $X(y$,X,Y,Z,V,G)}let Q=$.stateMutability;if(Q==null){if(Q="payable",typeof $.constant==="boolean"){if(Q="view",!$.constant){if(Q="payable",typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}}else if(typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}return new $X(y$,$.name,Q,$.inputs?$.inputs.map(P$.from):[],$.outputs?$.outputs.map(P$.from):[],$.gas!=null?$.gas:null)}static isFragment($){return $&&$[DX]===wD}};MZ=class MZ extends OY{constructor($,Q,X){super($,"struct",Q,X);Object.defineProperty(this,DX,{value:xD})}format(){throw new Error("@TODO")}static from($){if(typeof $==="string")try{return MZ.from(GJ($))}catch(Q){b(!1,"invalid struct fragment","obj",$)}else if($ instanceof iX){let Q=DK("struct",$),X=KY($);return K8($),new MZ(y$,Q,X)}return new MZ(y$,$.name,$.inputs?$.inputs.map(P$.from):[])}static isFragment($){return $&&$[DX]===xD}}});function eE($,Q,X,Z){let Y="missing revert data",V=null,G=null,z=null;if(X){Y="execution reverted";let A=M0(X);if(X=O0(X),A.length===0)Y+=" (no data present; likely require(false) occurred",V="require(false)";else if(A.length%32!==4)Y+=" (could not decode reason; invalid data length)";else if(O0(A.slice(0,4))==="0x08c379a0")try{V=Z.decode(["string"],A.slice(4))[0],z={signature:"Error(string)",name:"Error",args:[V]},Y+=`: ${JSON.stringify(V)}`}catch(F){Y+=" (could not decode reason; invalid string data)"}else if(O0(A.slice(0,4))==="0x4e487b71")try{let F=Number(Z.decode(["uint256"],A.slice(4))[0]);z={signature:"Panic(uint256)",name:"Panic",args:[F]},V=`Panic due to ${CZ.get(F)||"UNKNOWN"}(${F})`,Y+=`: ${V}`}catch(F){Y+=" (could not decode panic code)"}else Y+=" (unknown custom error)"}let L={to:Q.to?s0(Q.to):null,data:Q.data||"0x"};if(Q.from)L.from=s0(Q.from);return V$(Y,"CALL_EXCEPTION",{action:$,data:X,reason:V,transaction:L,invocation:G,revert:z})}class LX{#$($){if($.isArray())return new A9(this.#$($.arrayChildren),$.arrayLength,$.name);if($.isTuple())return new RG($.components.map((X)=>this.#$(X)),$.name);switch($.baseType){case"address":return new L9($.name);case"bool":return new T9($.name);case"string":return new N9($.name);case"bytes":return new R9($.name);case"":return new I9($.name)}let Q=$.type.match(tE);if(Q){let X=parseInt(Q[2]||"256");return b(X!==0&&X<=256&&X%8===0,"invalid "+Q[1]+" bit length","param",$),new S9(X/8,Q[1]==="int",$.name)}if(Q=$.type.match(aE),Q){let X=parseInt(Q[1]);return b(X!==0&&X<=32,"invalid bytes length","param",$),new E9(X,$.name)}b(!1,"invalid type","type",$.type)}getDefaultValue($){let Q=$.map((Z)=>this.#$(P$.from(Z)));return new RG(Q,"_").defaultValue()}encode($,Q){lY(Q.length,$.length,"types/values length mismatch");let X=$.map((V)=>this.#$(P$.from(V))),Z=new RG(X,"_"),Y=new HG;return Z.encode(Y,Q),Y.data}decode($,Q,X){let Z=$.map((V)=>this.#$(P$.from(V)));return new RG(Z,"_").decode(new F1(Q,X,mD))}static _setDefaultMaxInflation($){b(typeof $==="number"&&Number.isInteger($),"invalid defaultMaxInflation factor","value",$),mD=$}static defaultAbiCoder(){if(o9==null)o9=new LX;return o9}static getBuiltinCallException($,Q,X){return eE($,Q,X,LX.defaultAbiCoder())}}var CZ,aE,tE,o9=null,mD=1024;var n9=G0(()=>{d0();pX();N2();F9();j2();P9();_2();w2();x2();k2();f2();LK();r$();d0();CZ=new Map;CZ.set(0,"GENERIC_PANIC");CZ.set(1,"ASSERT_FALSE");CZ.set(17,"OVERFLOW");CZ.set(18,"DIVIDE_BY_ZERO");CZ.set(33,"ENUM_RANGE_ERROR");CZ.set(34,"BAD_STORAGE_DATA");CZ.set(49,"STACK_UNDERFLOW");CZ.set(50,"ARRAY_RANGE_ERROR");CZ.set(65,"OUT_OF_MEMORY");CZ.set(81,"UNINITIALIZED_FUNCTION_CALL");aE=new RegExp(/^bytes([0-9]*)$/),tE=new RegExp(/^(u?int)([0-9]*)$/)});function qK($){let Q=F$($);if(Q.length>31)throw new Error("bytes32 string must be less than 32 bytes");return wZ(Q,32)}function MK($){let Q=M0($,"bytes");if(Q.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(Q[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let X=31;while(Q[X-1]===0)X--;return dQ(Q.slice(0,X))}var cD=G0(()=>{d0()});class _G{fragment;name;signature;topic;args;constructor($,Q,X){let Z=$.name,Y=$.format();I0(this,{fragment:$,name:Z,signature:Y,topic:Q,args:X})}}class wG{fragment;name;args;signature;selector;value;constructor($,Q,X,Z){let Y=$.name,V=$.format();I0(this,{fragment:$,name:Y,args:X,signature:V,selector:Q,value:Z})}}class xG{fragment;name;args;signature;selector;constructor($,Q,X){let Z=$.name,Y=$.format();I0(this,{fragment:$,name:Z,args:X,signature:Y,selector:Q})}}class U8{hash;_isIndexed;static isIndexed($){return!!($&&$._isIndexed)}constructor($){I0(this,{hash:$,_isIndexed:!0})}}class qX{fragments;deploy;fallback;receive;#$;#Q;#X;#Z;constructor($){let Q=[];if(typeof $==="string")Q=JSON.parse($);else Q=$;this.#X=new Map,this.#$=new Map,this.#Q=new Map;let X=[];for(let V of Q)try{X.push(rX.from(V))}catch(G){console.log(`[Warning] Invalid Fragment ${JSON.stringify(V)}:`,G.message)}I0(this,{fragments:Object.freeze(X)});let Z=null,Y=!1;if(this.#Z=this.getAbiCoder(),this.fragments.forEach((V,G)=>{let z;switch(V.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}I0(this,{deploy:V});return;case"fallback":if(V.inputs.length===0)Y=!0;else b(!Z||V.payable!==Z.payable,"conflicting fallback fragments",`fragments[${G}]`,V),Z=V,Y=Z.payable;return;case"function":z=this.#X;break;case"event":z=this.#Q;break;case"error":z=this.#$;break;default:return}let L=V.format();if(z.has(L))return;z.set(L,V)}),!this.deploy)I0(this,{deploy:HX.from("constructor()")});I0(this,{fallback:Z,receive:Y})}format($){let Q=$?"minimal":"full";return this.fragments.map((Z)=>Z.format(Q))}formatJson(){let $=this.fragments.map((Q)=>Q.format("json"));return JSON.stringify($.map((Q)=>JSON.parse(Q)))}getAbiCoder(){return LX.defaultAbiCoder()}#Y($,Q,X){if(Q$($)){let Y=$.toLowerCase();for(let V of this.#X.values())if(Y===V.selector)return V;return null}if($.indexOf("(")===-1){let Y=[];for(let[V,G]of this.#X)if(V.split("(")[0]===$)Y.push(G);if(Q){let V=Q.length>0?Q[Q.length-1]:null,G=Q.length,z=!0;if(O$.isTyped(V)&&V.type==="overrides")z=!1,G--;for(let L=Y.length-1;L>=0;L--){let A=Y[L].inputs.length;if(A!==G&&(!z||A!==G-1))Y.splice(L,1)}for(let L=Y.length-1;L>=0;L--){let A=Y[L].inputs;for(let F=0;F<Q.length;F++){if(!O$.isTyped(Q[F]))continue;if(F>=A.length){if(Q[F].type==="overrides")continue;Y.splice(L,1);break}if(Q[F].type!==A[F].baseType){Y.splice(L,1);break}}}}if(Y.length===1&&Q&&Q.length!==Y[0].inputs.length){let V=Q[Q.length-1];if(V==null||Array.isArray(V)||typeof V!=="object")Y.splice(0,1)}if(Y.length===0)return null;if(Y.length>1&&X){let V=Y.map((G)=>JSON.stringify(G.format())).join(", ");b(!1,`ambiguous function description (i.e. matches ${V})`,"key",$)}return Y[0]}let Z=this.#X.get($X.from($).format());if(Z)return Z;return null}getFunctionName($){let Q=this.#Y($,null,!1);return b(Q,"no matching function","key",$),Q.name}hasFunction($){return!!this.#Y($,null,!1)}getFunction($,Q){return this.#Y($,Q||null,!0)}forEachFunction($){let Q=Array.from(this.#X.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#X.get(Z),X)}}#G($,Q,X){if(Q$($)){let Y=$.toLowerCase();for(let V of this.#Q.values())if(Y===V.topicHash)return V;return null}if($.indexOf("(")===-1){let Y=[];for(let[V,G]of this.#Q)if(V.split("(")[0]===$)Y.push(G);if(Q){for(let V=Y.length-1;V>=0;V--)if(Y[V].inputs.length<Q.length)Y.splice(V,1);for(let V=Y.length-1;V>=0;V--){let G=Y[V].inputs;for(let z=0;z<Q.length;z++){if(!O$.isTyped(Q[z]))continue;if(Q[z].type!==G[z].baseType){Y.splice(V,1);break}}}}if(Y.length===0)return null;if(Y.length>1&&X){let V=Y.map((G)=>JSON.stringify(G.format())).join(", ");b(!1,`ambiguous event description (i.e. matches ${V})`,"key",$)}return Y[0]}let Z=this.#Q.get(eQ.from($).format());if(Z)return Z;return null}getEventName($){let Q=this.#G($,null,!1);return b(Q,"no matching event","key",$),Q.name}hasEvent($){return!!this.#G($,null,!1)}getEvent($,Q){return this.#G($,Q||null,!0)}forEachEvent($){let Q=Array.from(this.#Q.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#Q.get(Z),X)}}getError($,Q){if(Q$($)){let Z=$.toLowerCase();if(dD[Z])return TQ.from(dD[Z].signature);for(let Y of this.#$.values())if(Z===Y.selector)return Y;return null}if($.indexOf("(")===-1){let Z=[];for(let[Y,V]of this.#$)if(Y.split("(")[0]===$)Z.push(V);if(Z.length===0){if($==="Error")return TQ.from("error Error(string)");if($==="Panic")return TQ.from("error Panic(uint256)");return null}else if(Z.length>1){let Y=Z.map((V)=>JSON.stringify(V.format())).join(", ");b(!1,`ambiguous error description (i.e. ${Y})`,"name",$)}return Z[0]}if($=TQ.from($).format(),$==="Error(string)")return TQ.from("error Error(string)");if($==="Panic(uint256)")return TQ.from("error Panic(uint256)");let X=this.#$.get($);if(X)return X;return null}forEachError($){let Q=Array.from(this.#$.keys());Q.sort((X,Z)=>X.localeCompare(Z));for(let X=0;X<Q.length;X++){let Z=Q[X];$(this.#$.get(Z),X)}}_decodeParams($,Q){return this.#Z.decode($,Q)}_encodeParams($,Q){return this.#Z.encode($,Q)}encodeDeploy($){return this._encodeParams(this.deploy.inputs,$||[])}decodeErrorResult($,Q){if(typeof $==="string"){let X=this.getError($);b(X,"unknown error","fragment",$),$=X}return b(D$(Q,0,4)===$.selector,`data signature does not match error ${$.name}.`,"data",Q),this._decodeParams($.inputs,D$(Q,4))}encodeErrorResult($,Q){if(typeof $==="string"){let X=this.getError($);b(X,"unknown error","fragment",$),$=X}return i0([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionData($,Q){if(typeof $==="string"){let X=this.getFunction($);b(X,"unknown function","fragment",$),$=X}return b(D$(Q,0,4)===$.selector,`data signature does not match function ${$.name}.`,"data",Q),this._decodeParams($.inputs,D$(Q,4))}encodeFunctionData($,Q){if(typeof $==="string"){let X=this.getFunction($);b(X,"unknown function","fragment",$),$=X}return i0([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionResult($,Q){if(typeof $==="string"){let Y=this.getFunction($);b(Y,"unknown function","fragment",$),$=Y}let X="invalid length for result data",Z=x$(Q);if(Z.length%32===0)try{return this.#Z.decode($.outputs,Z)}catch(Y){X="could not decode result data"}J0(!1,X,"BAD_DATA",{value:O0(Z),info:{method:$.name,signature:$.format()}})}makeError($,Q){let X=M0($,"data"),Z=LX.getBuiltinCallException("call",Q,X),Y="execution reverted (unknown custom error)";if(Z.message.startsWith("execution reverted (unknown custom error)")){let G=O0(X.slice(0,4)),z=this.getError(G);if(z)try{let L=this.#Z.decode(z.inputs,X.slice(4));Z.revert={name:z.name,signature:z.format(),args:L},Z.reason=Z.revert.signature,Z.message=`execution reverted: ${Z.reason}`}catch(L){Z.message="execution reverted (coult not decode custom error)"}}let V=this.parseTransaction(Q);if(V)Z.invocation={method:V.name,signature:V.signature,args:V.args};return Z}encodeFunctionResult($,Q){if(typeof $==="string"){let X=this.getFunction($);b(X,"unknown function","fragment",$),$=X}return O0(this.#Z.encode($.outputs,Q||[]))}encodeFilterTopics($,Q){if(typeof $==="string"){let Y=this.getEvent($);b(Y,"unknown event","eventFragment",$),$=Y}J0(Q.length<=$.inputs.length,`too many arguments for ${$.format()}`,"UNEXPECTED_ARGUMENT",{count:Q.length,expectedCount:$.inputs.length});let X=[];if(!$.anonymous)X.push($.topicHash);let Z=(Y,V)=>{if(Y.type==="string")return NQ(V);else if(Y.type==="bytes")return t0(O0(V));if(Y.type==="bool"&&typeof V==="boolean")V=V?"0x01":"0x00";else if(Y.type.match(/^u?int/))V=CQ(V);else if(Y.type.match(/^bytes/))V=wZ(V,32);else if(Y.type==="address")this.#Z.encode(["address"],[V]);return u$(O0(V),32)};Q.forEach((Y,V)=>{let G=$.inputs[V];if(!G.indexed){b(Y==null,"cannot filter non-indexed parameters; must be null","contract."+G.name,Y);return}if(Y==null)X.push(null);else if(G.baseType==="array"||G.baseType==="tuple")b(!1,"filtering with tuples or arrays not supported","contract."+G.name,Y);else if(Array.isArray(Y))X.push(Y.map((z)=>Z(G,z)));else X.push(Z(G,Y))});while(X.length&&X[X.length-1]===null)X.pop();return X}encodeEventLog($,Q){if(typeof $==="string"){let V=this.getEvent($);b(V,"unknown event","eventFragment",$),$=V}let X=[],Z=[],Y=[];if(!$.anonymous)X.push($.topicHash);return b(Q.length===$.inputs.length,"event arguments/values mismatch","values",Q),$.inputs.forEach((V,G)=>{let z=Q[G];if(V.indexed)if(V.type==="string")X.push(NQ(z));else if(V.type==="bytes")X.push(t0(z));else if(V.baseType==="tuple"||V.baseType==="array")throw new Error("not implemented");else X.push(this.#Z.encode([V.type],[z]));else Z.push(V),Y.push(z)}),{data:this.#Z.encode(Z,Y),topics:X}}decodeEventLog($,Q,X){if(typeof $==="string"){let q=this.getEvent($);b(q,"unknown event","eventFragment",$),$=q}if(X!=null&&!$.anonymous){let q=$.topicHash;b(Q$(X[0],32)&&X[0].toLowerCase()===q,"fragment/topic mismatch","topics[0]",X[0]),X=X.slice(1)}let Z=[],Y=[],V=[];$.inputs.forEach((q,R)=>{if(q.indexed)if(q.type==="string"||q.type==="bytes"||q.baseType==="tuple"||q.baseType==="array")Z.push(P$.from({type:"bytes32",name:q.name})),V.push(!0);else Z.push(q),V.push(!1);else Y.push(q),V.push(!1)});let G=X!=null?this.#Z.decode(Z,i0(X)):null,z=this.#Z.decode(Y,Q,!0),L=[],A=[],F=0,C=0;return $.inputs.forEach((q,R)=>{let I=null;if(q.indexed)if(G==null)I=new U8(null);else if(V[R])I=new U8(G[C++]);else try{I=G[C++]}catch(S){I=S}else try{I=z[F++]}catch(S){I=S}L.push(I),A.push(q.name||null)}),aQ.fromItems(L,A)}parseTransaction($){let Q=M0($.data,"tx.data"),X=m0($.value!=null?$.value:0,"tx.value"),Z=this.getFunction(O0(Q.slice(0,4)));if(!Z)return null;let Y=this.#Z.decode(Z.inputs,Q.slice(4));return new wG(Z,Z.selector,Y,X)}parseCallResult($){throw new Error("@TODO")}parseLog($){let Q=this.getEvent($.topics[0]);if(!Q||Q.anonymous)return null;return new _G(Q,Q.topicHash,this.decodeEventLog(Q,$.data,$.topics))}parseError($){let Q=O0($),X=this.getError(D$(Q,0,4));if(!X)return null;let Z=this.#Z.decode(X.inputs,D$(Q,4));return new xG(X,X.selector,Z)}static from($){if($ instanceof qX)return $;if(typeof $==="string")return new qX(JSON.parse($));if(typeof $.formatJson==="function")return new qX($.formatJson());if(typeof $.format==="function")return new qX($.format("json"));return new qX($)}}var uD,dD;var lD=G0(()=>{QQ();hZ();d0();n9();pX();LK();yZ();uD={"0":"generic panic","1":"assert(false)","17":"arithmetic overflow","18":"division or modulo by zero","33":"enum overflow","34":"invalid encoded storage byte array accessed","49":"out-of-bounds array access; popping on an empty array","50":"out-of-bounds access of an array or bytesN","65":"out of memory","81":"uninitialized function"},dD={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:($)=>{return`reverted with reason string ${JSON.stringify($)}`}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:($)=>{let Q="unknown panic code";if($>=0&&$<=255&&uD[$.toString()])Q=uD[$.toString()];return`reverted with panic code 0x${$.toString(16)} (${Q})`}}}});var kG=G0(()=>{n9();cD();LK();lD();yZ()});function fG($){if($==null)return null;return $}function t$($){if($==null)return null;return $.toString()}class WJ{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor($,Q,X){I0(this,{gasPrice:fG($),maxFeePerGas:fG(Q),maxPriorityFeePerGas:fG(X)})}toJSON(){let{gasPrice:$,maxFeePerGas:Q,maxPriorityFeePerGas:X}=this;return{_type:"FeeData",gasPrice:t$($),maxFeePerGas:t$(Q),maxPriorityFeePerGas:t$(X)}}}function jX($){let Q={};if($.to)Q.to=$.to;if($.from)Q.from=$.from;if($.data)Q.data=O0($.data);let X="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let Y of X){if(!(Y in $)||$[Y]==null)continue;Q[Y]=m0($[Y],`request.${Y}`)}let Z="type,nonce".split(/,/);for(let Y of Z){if(!(Y in $)||$[Y]==null)continue;Q[Y]=n0($[Y],`request.${Y}`)}if($.accessList)Q.accessList=IQ($.accessList);if($.authorizationList)Q.authorizationList=$.authorizationList.slice();if("blockTag"in $)Q.blockTag=$.blockTag;if("enableCcipRead"in $)Q.enableCcipRead=!!$.enableCcipRead;if("customData"in $)Q.customData=$.customData;if("blobVersionedHashes"in $&&$.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.slice();if("kzg"in $)Q.kzg=$.kzg;if("blobs"in $&&$.blobs)Q.blobs=$.blobs.map((Y)=>{if(yX(Y))return O0(Y);return Object.assign({},Y)});return Q}class _X{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor($,Q){this.provider=Q;let X=Object.freeze($.topics.slice());I0(this,{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,removed:$.removed,address:$.address,data:$.data,topics:X,index:$.index,transactionIndex:$.transactionIndex})}toJSON(){let{address:$,blockHash:Q,blockNumber:X,data:Z,index:Y,removed:V,topics:G,transactionHash:z,transactionIndex:L}=this;return{_type:"log",address:$,blockHash:Q,blockNumber:X,data:Z,index:Y,removed:V,topics:G,transactionHash:z,transactionIndex:L}}async getBlock(){let $=await this.provider.getBlock(this.blockHash);return J0(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransaction(){let $=await this.provider.getTransaction(this.transactionHash);return J0(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransactionReceipt(){let $=await this.provider.getTransactionReceipt(this.transactionHash);return J0(!!$,"failed to find transaction receipt","UNKNOWN_ERROR",{}),$}removedEvent(){return QI(this)}}class AZ{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#$;constructor($,Q){this.provider=Q,this.blockNumber=$.blockNumber!=null?$.blockNumber:null,this.blockHash=$.blockHash!=null?$.blockHash:null,this.hash=$.hash,this.index=$.index,this.type=$.type,this.from=$.from,this.to=$.to||null,this.gasLimit=$.gasLimit,this.nonce=$.nonce,this.data=$.data,this.value=$.value,this.gasPrice=$.gasPrice,this.maxPriorityFeePerGas=$.maxPriorityFeePerGas!=null?$.maxPriorityFeePerGas:null,this.maxFeePerGas=$.maxFeePerGas!=null?$.maxFeePerGas:null,this.maxFeePerBlobGas=$.maxFeePerBlobGas!=null?$.maxFeePerBlobGas:null,this.chainId=$.chainId,this.signature=$.signature,this.accessList=$.accessList!=null?$.accessList:null,this.blobVersionedHashes=$.blobVersionedHashes!=null?$.blobVersionedHashes:null,this.authorizationList=$.authorizationList!=null?$.authorizationList:null,this.#$=-1}toJSON(){let{blockNumber:$,blockHash:Q,index:X,hash:Z,type:Y,to:V,from:G,nonce:z,data:L,signature:A,accessList:F,blobVersionedHashes:C}=this;return{_type:"TransactionResponse",accessList:F,blockNumber:$,blockHash:Q,blobVersionedHashes:C,chainId:t$(this.chainId),data:L,from:G,gasLimit:t$(this.gasLimit),gasPrice:t$(this.gasPrice),hash:Z,maxFeePerGas:t$(this.maxFeePerGas),maxPriorityFeePerGas:t$(this.maxPriorityFeePerGas),maxFeePerBlobGas:t$(this.maxFeePerBlobGas),nonce:z,signature:A,to:V,index:X,type:Y,value:t$(this.value)}}async getBlock(){let $=this.blockNumber;if($==null){let X=await this.getTransaction();if(X)$=X.blockNumber}if($==null)return null;let Q=this.provider.getBlock($);if(Q==null)throw new Error("TODO");return Q}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:Q,blockNumber:X}=await _$({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});if(Q==null||Q.blockNumber==null)return 0;return X-Q.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait($,Q){let X=$==null?1:$,Z=Q==null?0:Q,Y=this.#$,V=-1,G=Y===-1?!0:!1,z=async()=>{if(G)return null;let{blockNumber:C,nonce:q}=await _$({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(q<this.nonce){Y=C;return}if(G)return null;let R=await this.getTransaction();if(R&&R.blockNumber!=null)return;if(V===-1){if(V=Y-3,V<this.#$)V=this.#$}while(V<=C){if(G)return null;let I=await this.provider.getBlock(V,!0);if(I==null)return;for(let S of I)if(S===this.hash)return;for(let S=0;S<I.length;S++){let N=await I.getTransaction(S);if(N.from===this.from&&N.nonce===this.nonce){if(G)return null;let B=await this.provider.getTransactionReceipt(N.hash);if(B==null)return;if(C-B.blockNumber+1<X)return;let _="replaced";if(N.data===this.data&&N.to===this.to&&N.value===this.value)_="repriced";else if(N.data==="0x"&&N.from===N.to&&N.value===oD)_="cancelled";J0(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:N.replaceableTransaction(Y),hash:N.hash,receipt:B})}}V++}return},L=(C)=>{if(C==null||C.status!==0)return C;J0(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:C.to,from:C.from,data:""},receipt:C})},A=await this.provider.getTransactionReceipt(this.hash);if(X===0)return L(A);if(A){if(X===1||await A.confirmations()>=X)return L(A)}else if(await z(),X===0)return null;return await new Promise((C,q)=>{let R=[],I=()=>{R.forEach((N)=>N())};if(R.push(()=>{G=!0}),Z>0){let N=setTimeout(()=>{I(),q(V$("wait for transaction timeout","TIMEOUT"))},Z);R.push(()=>{clearTimeout(N)})}let S=async(N)=>{if(await N.confirmations()>=X){I();try{C(L(N))}catch(B){q(B)}}};if(R.push(()=>{this.provider.off(this.hash,S)}),this.provider.on(this.hash,S),Y>=0){let N=async()=>{try{await z()}catch(B){if(q$(B,"TRANSACTION_REPLACED")){I(),q(B);return}}if(!G)this.provider.once("block",N)};R.push(()=>{this.provider.off("block",N)}),this.provider.once("block",N)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return J0(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),sD(this)}reorderedEvent($){return J0(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),J0(!$||$.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),nD(this,$)}replaceableTransaction($){b(Number.isInteger($)&&$>=0,"invalid startBlock","startBlock",$);let Q=new AZ(this,this.provider);return Q.#$=$,Q}}function $I($){return{orphan:"drop-block",hash:$.hash,number:$.number}}function nD($,Q){return{orphan:"reorder-transaction",tx:$,other:Q}}function sD($){return{orphan:"drop-transaction",tx:$}}function QI($){return{orphan:"drop-log",log:{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,address:$.address,data:$.data,topics:Object.freeze($.topics.slice()),index:$.index}}}var oD,O8,zY;var vG=G0(()=>{d0();tQ();oD=BigInt(0);O8=class O8{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#$;constructor($,Q){this.#$=$.transactions.map((X)=>{if(typeof X!=="string")return new AZ(X,Q);return X}),I0(this,{provider:Q,hash:fG($.hash),number:$.number,timestamp:$.timestamp,parentHash:$.parentHash,parentBeaconBlockRoot:$.parentBeaconBlockRoot,nonce:$.nonce,difficulty:$.difficulty,gasLimit:$.gasLimit,gasUsed:$.gasUsed,blobGasUsed:$.blobGasUsed,excessBlobGas:$.excessBlobGas,miner:$.miner,prevRandao:fG($.prevRandao),extraData:$.extraData,baseFeePerGas:fG($.baseFeePerGas),stateRoot:$.stateRoot,receiptsRoot:$.receiptsRoot})}get transactions(){return this.#$.map(($)=>{if(typeof $==="string")return $;return $.hash})}get prefetchedTransactions(){let $=this.#$.slice();if($.length===0)return[];return J0(typeof $[0]==="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),$}toJSON(){let{baseFeePerGas:$,difficulty:Q,extraData:X,gasLimit:Z,gasUsed:Y,hash:V,miner:G,prevRandao:z,nonce:L,number:A,parentHash:F,parentBeaconBlockRoot:C,stateRoot:q,receiptsRoot:R,timestamp:I,transactions:S}=this;return{_type:"Block",baseFeePerGas:t$($),difficulty:t$(Q),extraData:X,gasLimit:t$(Z),gasUsed:t$(Y),blobGasUsed:t$(this.blobGasUsed),excessBlobGas:t$(this.excessBlobGas),hash:V,miner:G,prevRandao:z,nonce:L,number:A,parentHash:F,timestamp:I,parentBeaconBlockRoot:C,stateRoot:q,receiptsRoot:R,transactions:S}}[Symbol.iterator](){let $=0,Q=this.transactions;return{next:()=>{if($<this.length)return{value:Q[$++],done:!1};return{value:void 0,done:!0}}}}get length(){return this.#$.length}get date(){if(this.timestamp==null)return null;return new Date(this.timestamp*1000)}async getTransaction($){let Q=void 0;if(typeof $==="number")Q=this.#$[$];else{let X=$.toLowerCase();for(let Z of this.#$)if(typeof Z==="string"){if(Z!==X)continue;Q=Z;break}else{if(Z.hash!==X)continue;Q=Z;break}}if(Q==null)throw new Error("no such tx");if(typeof Q==="string")return await this.provider.getTransaction(Q);else return Q}getPrefetchedTransaction($){let Q=this.prefetchedTransactions;if(typeof $==="number")return Q[$];$=$.toLowerCase();for(let X of Q)if(X.hash===$)return X;b(!1,"no matching transaction","indexOrHash",$)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return $I(this)}};zY=class zY{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#$;constructor($,Q){this.#$=Object.freeze($.logs.map((Z)=>{return new _X(Z,Q)}));let X=oD;if($.effectiveGasPrice!=null)X=$.effectiveGasPrice;else if($.gasPrice!=null)X=$.gasPrice;I0(this,{provider:Q,to:$.to,from:$.from,contractAddress:$.contractAddress,hash:$.hash,index:$.index,blockHash:$.blockHash,blockNumber:$.blockNumber,logsBloom:$.logsBloom,gasUsed:$.gasUsed,cumulativeGasUsed:$.cumulativeGasUsed,blobGasUsed:$.blobGasUsed,gasPrice:X,blobGasPrice:$.blobGasPrice,type:$.type,status:$.status,root:$.root})}get logs(){return this.#$}toJSON(){let{to:$,from:Q,contractAddress:X,hash:Z,index:Y,blockHash:V,blockNumber:G,logsBloom:z,logs:L,status:A,root:F}=this;return{_type:"TransactionReceipt",blockHash:V,blockNumber:G,contractAddress:X,cumulativeGasUsed:t$(this.cumulativeGasUsed),from:Q,gasPrice:t$(this.gasPrice),blobGasUsed:t$(this.blobGasUsed),blobGasPrice:t$(this.blobGasPrice),gasUsed:t$(this.gasUsed),hash:Z,index:Y,logs:L,logsBloom:z,root:F,status:A,to:$}}get length(){return this.logs.length}[Symbol.iterator](){let $=0;return{next:()=>{if($<this.length)return{value:this.logs[$++],done:!1};return{value:void 0,done:!0}}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let $=await this.provider.getBlock(this.blockHash);if($==null)throw new Error("TODO");return $}async getTransaction(){let $=await this.provider.getTransaction(this.hash);if($==null)throw new Error("TODO");return $}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return sD(this)}reorderedEvent($){return J0(!$||$.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),nD(this,$)}}});var HY,VJ,gG,DY,KJ,z8;var s9=G0(()=>{vG();d0();HY=class HY extends _X{interface;fragment;args;constructor($,Q,X){super($,$.provider);let Z=Q.decodeEventLog(X,$.data,$.topics);I0(this,{args:Z,fragment:X,interface:Q})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};VJ=class VJ extends _X{error;constructor($,Q){super($,$.provider);I0(this,{error:Q})}};gG=class gG extends zY{#$;constructor($,Q,X){super(X,Q);this.#$=$}get logs(){return super.logs.map(($)=>{let Q=$.topics.length?this.#$.getEvent($.topics[0]):null;if(Q)try{return new HY($,this.#$,Q)}catch(X){return new VJ($,X)}return $})}};DY=class DY extends AZ{#$;constructor($,Q,X){super(X,Q);this.#$=$}async wait($,Q){let X=await super.wait($,Q);if(X==null)return null;return new gG(this.#$,this.provider,X)}};KJ=class KJ extends XY{log;constructor($,Q,X,Z){super($,Q,X);I0(this,{log:Z})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};z8=class z8 extends KJ{constructor($,Q,X,Z,Y){super($,Q,X,new HY(Y,$.interface,Z));let V=$.interface.decodeEventLog(Z,this.log.data,this.log.topics);I0(this,{args:V,fragment:Z})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}});function aD($){return $&&typeof $.call==="function"}function tD($){return $&&typeof $.estimateGas==="function"}function FK($){return $&&typeof $.resolveName==="function"}function eD($){return $&&typeof $.sendTransaction==="function"}function $L($){if($!=null){if(FK($))return $;if($.provider)return $.provider}return}class QL{#$;fragment;constructor($,Q,X){if(I0(this,{fragment:Q}),Q.inputs.length<X.length)throw new Error("too many arguments");let Z=D8($.runner,"resolveName"),Y=FK(Z)?Z:null;this.#$=async function(){let V=await Promise.all(Q.inputs.map((G,z)=>{if(X[z]==null)return null;return G.walkAsync(X[z],(A,F)=>{if(A==="address"){if(Array.isArray(F))return Promise.all(F.map((C)=>k$(C,Y)));return k$(F,Y)}return F})}));return $.interface.encodeFilterTopics(Q,V)}()}getTopicFilter(){return this.#$}}function D8($,Q){if($==null)return null;if(typeof $[Q]==="function")return $;if($.provider&&typeof $.provider[Q]==="function")return $.provider;return null}function H8($){if($==null)return null;return $.provider||null}async function TK($,Q){let X=O$.dereference($,"overrides");b(typeof X==="object","invalid overrides parameter","overrides",$);let Z=jX(X);if(b(Z.to==null||(Q||[]).indexOf("to")>=0,"cannot override to","overrides.to",Z.to),b(Z.data==null||(Q||[]).indexOf("data")>=0,"cannot override data","overrides.data",Z.data),Z.from)Z.from=Z.from;return Z}async function a9($,Q,X){let Z=D8($,"resolveName"),Y=FK(Z)?Z:null;return await Promise.all(Q.map((V,G)=>{return V.walkAsync(X[G],(z,L)=>{if(L=O$.dereference(L,z),z==="address")return k$(L,Y);return L})}))}function XI($){let Q=async function(G){let z=await TK(G,["data"]);if(z.to=await $.getAddress(),z.from)z.from=await k$(z.from,$L($.runner));let L=$.interface,A=m0(z.value||iD,"overrides.value")===iD,F=(z.data||"0x")==="0x";if(L.fallback&&!L.fallback.payable&&L.receive&&!F&&!A)b(!1,"cannot send data to receive or send value to non-payable fallback","overrides",G);b(L.fallback||F,"cannot send data to receive-only contract","overrides.data",z.data);let C=L.receive||L.fallback&&L.fallback.payable;return b(C||A,"cannot send value to non-payable fallback","overrides.value",z.value),b(L.fallback||F,"cannot send data to receive-only contract","overrides.data",z.data),z},X=async function(G){let z=D8($.runner,"call");J0(aD(z),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let L=await Q(G);try{return await z.call(L)}catch(A){if(QY(A)&&A.data)throw $.interface.makeError(A.data,L);throw A}},Z=async function(G){let z=$.runner;J0(eD(z),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let L=await z.sendTransaction(await Q(G)),A=H8($.runner);return new DY($.interface,A,L)},Y=async function(G){let z=D8($.runner,"estimateGas");return J0(tD(z),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await z.estimateGas(await Q(G))},V=async(G)=>{return await Z(G)};return I0(V,{_contract:$,estimateGas:Y,populateTransaction:Q,send:Z,staticCall:X}),V}function ZI($,Q){let X=function(...A){let F=$.interface.getFunction(Q,A);return J0(F,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:A}}),F},Z=async function(...A){let F=X(...A),C={};if(F.inputs.length+1===A.length){if(C=await TK(A.pop()),C.from)C.from=await k$(C.from,$L($.runner))}if(F.inputs.length!==A.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let q=await a9($.runner,F.inputs,A);return Object.assign({},C,await _$({to:$.getAddress(),data:$.interface.encodeFunctionData(F,q)}))},Y=async function(...A){let F=await z(...A);if(F.length===1)return F[0];return F},V=async function(...A){let F=$.runner;J0(eD(F),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let C=await F.sendTransaction(await Z(...A)),q=H8($.runner);return new DY($.interface,q,C)},G=async function(...A){let F=D8($.runner,"estimateGas");return J0(tD(F),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await F.estimateGas(await Z(...A))},z=async function(...A){let F=D8($.runner,"call");J0(aD(F),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let C=await Z(...A),q="0x";try{q=await F.call(C)}catch(I){if(QY(I)&&I.data)throw $.interface.makeError(I.data,C);throw I}let R=X(...A);return $.interface.decodeFunctionResult(R,q)},L=async(...A)=>{if(X(...A).constant)return await Y(...A);return await V(...A)};return I0(L,{name:$.interface.getFunctionName(Q),_contract:$,_key:Q,getFragment:X,estimateGas:G,populateTransaction:Z,send:V,staticCall:Y,staticCallResult:z}),Object.defineProperty(L,"fragment",{configurable:!1,enumerable:!0,get:()=>{let A=$.interface.getFunction(Q);return J0(A,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),A}}),L}function YI($,Q){let X=function(...Y){let V=$.interface.getEvent(Q,Y);return J0(V,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:Y}}),V},Z=function(...Y){return new QL($,X(...Y),Y)};return I0(Z,{name:$.interface.getEventName(Q),_contract:$,_key:Q,getFragment:X}),Object.defineProperty(Z,"fragment",{configurable:!1,enumerable:!0,get:()=>{let Y=$.interface.getEvent(Q);return J0(Y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),Y}}),Z}function JI($,Q){XL.set($[AK],Q)}function wX($){return XL.get($[AK])}function GI($){return $&&typeof $==="object"&&"getTopicFilter"in $&&typeof $.getTopicFilter==="function"&&$.fragment}async function t9($,Q){let X,Z=null;if(Array.isArray(Q)){let V=function(G){if(Q$(G,32))return G;let z=$.interface.getEvent(G);return b(z,"unknown fragment","name",G),z.topicHash};X=Q.map((G)=>{if(G==null)return null;if(Array.isArray(G))return G.map(V);return V(G)})}else if(Q==="*")X=[null];else if(typeof Q==="string")if(Q$(Q,32))X=[Q];else Z=$.interface.getEvent(Q),b(Z,"unknown fragment","event",Q),X=[Z.topicHash];else if(GI(Q))X=await Q.getTopicFilter();else if("fragment"in Q)Z=Q.fragment,X=[Z.topicHash];else b(!1,"unknown event name","event",Q);X=X.map((V)=>{if(V==null)return null;if(Array.isArray(V)){let G=Array.from(new Set(V.map((z)=>z.toLowerCase())).values());if(G.length===1)return G[0];return G.sort(),G}return V.toLowerCase()});let Y=X.map((V)=>{if(V==null)return"null";if(Array.isArray(V))return V.join("|");return V}).join("&");return{fragment:Z,tag:Y,topics:X}}async function XV($,Q){let{subs:X}=wX($);return X.get((await t9($,Q)).tag)||null}async function rD($,Q,X){let Z=H8($.runner);J0(Z,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Q});let{fragment:Y,tag:V,topics:G}=await t9($,X),{addr:z,subs:L}=wX($),A=L.get(V);if(!A){let C={address:z?z:$,topics:G},q=(N)=>{let B=Y;if(B==null)try{B=$.interface.getEvent(N.topics[0])}catch(_){}if(B){let _=B,k=Y?$.interface.decodeEventLog(Y,N.data,N.topics):[];r9($,X,k,(f)=>{return new z8($,f,X,_,N)})}else r9($,X,[],(_)=>{return new KJ($,_,X,N)})},R=[];A={tag:V,listeners:[],start:()=>{if(R.length)return;R.push(Z.on(C,q))},stop:async()=>{if(R.length==0)return;let N=R;R=[],await Promise.all(N),Z.off(C,q)}},L.set(V,A)}return A}async function WI($,Q,X,Z){await i9;let Y=await XV($,Q);if(!Y)return!1;let V=Y.listeners.length;if(Y.listeners=Y.listeners.filter(({listener:G,once:z})=>{let L=Array.from(X);if(Z)L.push(Z(z?null:G));try{G.call($,...L)}catch(A){}return!z}),Y.listeners.length===0)Y.stop(),wX($).subs.delete(Y.tag);return V>0}async function r9($,Q,X,Z){try{await i9}catch(V){}let Y=WI($,Q,X,Z);return i9=Y,await Y}function VI(){return aX}var iD,AK,XL,i9,CK,aX,MX;var e9=G0(()=>{kG();r$();vG();d0();s9();iD=BigInt(0);AK=Symbol.for("_ethersInternal_contract"),XL=new WeakMap;i9=Promise.resolve();CK=["then"];aX=class aX{target;interface;runner;filters;[AK];fallback;constructor($,Q,X,Z){if(b(typeof $==="string"||Z8($),"invalid value for Contract target","target",$),X==null)X=null;let Y=qX.from(Q);I0(this,{target:$,runner:X,interface:Y}),Object.defineProperty(this,AK,{value:{}});let V,G=null,z=null;if(Z){let F=H8(X);z=new DY(this.interface,F,Z)}let L=new Map;if(typeof $==="string")if(Q$($))G=$,V=Promise.resolve($);else{let F=D8(X,"resolveName");if(!FK(F))throw V$("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});V=F.resolveName($).then((C)=>{if(C==null)throw V$("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:$});return wX(this).addr=C,C})}else V=$.getAddress().then((F)=>{if(F==null)throw new Error("TODO");return wX(this).addr=F,F});JI(this,{addrPromise:V,addr:G,deployTx:z,subs:L});let A=new Proxy({},{get:(F,C,q)=>{if(typeof C==="symbol"||CK.indexOf(C)>=0)return Reflect.get(F,C,q);try{return this.getEvent(C)}catch(R){if(!q$(R,"INVALID_ARGUMENT")||R.argument!=="key")throw R}return},has:(F,C)=>{if(CK.indexOf(C)>=0)return Reflect.has(F,C);return Reflect.has(F,C)||this.interface.hasEvent(String(C))}});return I0(this,{filters:A}),I0(this,{fallback:Y.receive||Y.fallback?XI(this):null}),new Proxy(this,{get:(F,C,q)=>{if(typeof C==="symbol"||C in F||CK.indexOf(C)>=0)return Reflect.get(F,C,q);try{return F.getFunction(C)}catch(R){if(!q$(R,"INVALID_ARGUMENT")||R.argument!=="key")throw R}return},has:(F,C)=>{if(typeof C==="symbol"||C in F||CK.indexOf(C)>=0)return Reflect.has(F,C);return F.interface.hasFunction(C)}})}connect($){return new aX(this.target,this.interface,$)}attach($){return new aX($,this.interface,this.runner)}async getAddress(){return await wX(this).addrPromise}async getDeployedCode(){let $=H8(this.runner);J0($,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let Q=await $.getCode(await this.getAddress());if(Q==="0x")return null;return Q}async waitForDeployment(){let $=this.deploymentTransaction();if($)return await $.wait(),this;if(await this.getDeployedCode()!=null)return this;let X=H8(this.runner);return J0(X!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((Z,Y)=>{let V=async()=>{try{if(await this.getDeployedCode()!=null)return Z(this);X.once("block",V)}catch(G){Y(G)}};V()})}deploymentTransaction(){return wX(this).deployTx}getFunction($){if(typeof $!=="string")$=$.format();return ZI(this,$)}getEvent($){if(typeof $!=="string")$=$.format();return YI(this,$)}async queryTransaction($){throw new Error("@TODO")}async queryFilter($,Q,X){if(Q==null)Q=0;if(X==null)X="latest";let{addr:Z,addrPromise:Y}=wX(this),V=Z?Z:await Y,{fragment:G,topics:z}=await t9(this,$),L={address:V,topics:z,fromBlock:Q,toBlock:X},A=H8(this.runner);return J0(A,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await A.getLogs(L)).map((F)=>{let C=G;if(C==null)try{C=this.interface.getEvent(F.topics[0])}catch(q){}if(C)try{return new HY(F,this.interface,C)}catch(q){return new VJ(F,q)}return new _X(F,A)})}async on($,Q){let X=await rD(this,"on",$);return X.listeners.push({listener:Q,once:!1}),X.start(),this}async once($,Q){let X=await rD(this,"once",$);return X.listeners.push({listener:Q,once:!0}),X.start(),this}async emit($,...Q){return await r9(this,$,Q,null)}async listenerCount($){if($){let Z=await XV(this,$);if(!Z)return 0;return Z.listeners.length}let{subs:Q}=wX(this),X=0;for(let{listeners:Z}of Q.values())X+=Z.length;return X}async listeners($){if($){let Z=await XV(this,$);if(!Z)return[];return Z.listeners.map(({listener:Y})=>Y)}let{subs:Q}=wX(this),X=[];for(let{listeners:Z}of Q.values())X=X.concat(Z.map(({listener:Y})=>Y));return X}async off($,Q){let X=await XV(this,$);if(!X)return this;if(Q){let Z=X.listeners.map(({listener:Y})=>Y).indexOf(Q);if(Z>=0)X.listeners.splice(Z,1)}if(Q==null||X.listeners.length===0)X.stop(),wX(this).subs.delete(X.tag);return this}async removeAllListeners($){if($){let Q=await XV(this,$);if(!Q)return this;Q.stop(),wX(this).subs.delete(Q.tag)}else{let{subs:Q}=wX(this);for(let{tag:X,stop:Z}of Q.values())Z(),Q.delete(X)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return await this.off($,Q)}static buildClass($){class Q extends aX{constructor(X,Z=null){super(X,$,Z)}}return Q}static from($,Q,X){if(X==null)X=null;return new this($,Q,X)}};MX=class MX extends VI(){}});class yG{interface;bytecode;runner;constructor($,Q,X){let Z=qX.from($);if(Q instanceof Uint8Array)Q=O0(M0(Q));else{if(typeof Q==="object")Q=Q.object;if(!Q.startsWith("0x"))Q="0x"+Q;Q=O0(M0(Q))}I0(this,{bytecode:Q,interface:Z,runner:X||null})}attach($){return new aX($,this.interface,this.runner)}async getDeployTransaction(...$){let Q={},X=this.interface.deploy;if(X.inputs.length+1===$.length)Q=await TK($.pop());if(X.inputs.length!==$.length)throw new Error("incorrect number of arguments to constructor");let Z=await a9(this.runner,X.inputs,$),Y=i0([this.bytecode,this.interface.encodeDeploy(Z)]);return Object.assign({},Q,{data:Y})}async deploy(...$){let Q=await this.getDeployTransaction(...$);J0(this.runner&&typeof this.runner.sendTransaction==="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let X=await this.runner.sendTransaction(Q),Z=YJ(X);return new aX(Z,this.interface,this.runner,X)}connect($){return new yG(this.interface,this.bytecode,$)}static fromSolidity($,Q){if(b($!=null,"bad compiler output","output",$),typeof $==="string")$=JSON.parse($);let X=$.abi,Z="";if($.bytecode)Z=$.bytecode;else if($.evm&&$.evm.bytecode)Z=$.evm.bytecode;return new this(X,Z,Q)}}var ZL=G0(()=>{kG();r$();d0();e9()});var ZV=G0(()=>{e9();ZL();s9()});function $4($){if($.match(/^ipfs:\/\/ipfs\//i))$=$.substring(12);else if($.match(/^ipfs:\/\//i))$=$.substring(7);else b(!1,"unsupported IPFS format","link",$);return`https://gateway.ipfs.io/ipfs/${$}`}class hG{name;constructor($){I0(this,{name:$})}connect($){return this}supportsCoinType($){return!1}async encodeAddress($,Q){throw new Error("unsupported coin")}async decodeAddress($,Q){throw new Error("unsupported coin")}}class FZ{provider;address;name;#$;#Q;constructor($,Q,X){I0(this,{provider:$,address:Q,name:X}),this.#$=null,this.#Q=new MX(Q,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],$)}async supportsWildcard(){if(this.#$==null)this.#$=(async()=>{try{return await this.#Q.supportsInterface("0x9061b923")}catch($){if(q$($,"CALL_EXCEPTION"))return!1;throw this.#$=null,$}})();return await this.#$}async#X($,Q){Q=(Q||[]).slice();let X=this.#Q.interface;Q.unshift(VY(this.name));let Z=null;if(await this.supportsWildcard())Z=X.getFunction($),J0(Z,"missing fragment","UNKNOWN_ERROR",{info:{funcName:$}}),Q=[BG(this.name,255),X.encodeFunctionData(Z,Q)],$="resolve(bytes,bytes)";Q.push({enableCcipRead:!0});try{let Y=await this.#Q[$](...Q);if(Z)return X.decodeFunctionResult(Z,Y)[0];return Y}catch(Y){if(!q$(Y,"CALL_EXCEPTION"))throw Y}return null}async getAddress($){if($==null)$=60;if($===60)try{let Y=await this.#X("addr(bytes32)");if(Y==null||Y===oX)return null;return Y}catch(Y){if(q$(Y,"CALL_EXCEPTION"))return null;throw Y}if($>=0&&$<2147483648){let Y=$+2147483648,V=await this.#X("addr(bytes32,uint)",[Y]);if(Q$(V,20))return s0(V)}let Q=null;for(let Y of this.provider.plugins){if(!(Y instanceof hG))continue;if(Y.supportsCoinType($)){Q=Y;break}}if(Q==null)return null;let X=await this.#X("addr(bytes32,uint)",[$]);if(X==null||X==="0x")return null;let Z=await Q.decodeAddress($,X);if(Z!=null)return Z;J0(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${$})`,info:{coinType:$,data:X}})}async getText($){let Q=await this.#X("text(bytes32,string)",[$]);if(Q==null||Q==="0x")return null;return Q}async getContentHash(){let $=await this.#X("contenthash(bytes32)");if($==null||$==="0x")return null;let Q=$.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(Q){let Z=Q[1]==="e3010170"?"ipfs":"ipns",Y=parseInt(Q[4],16);if(Q[5].length===Y*2)return`${Z}://${sY("0x"+Q[2])}`}let X=$.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(X&&X[1].length===64)return`bzz://${X[1]}`;J0(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:$}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let $=[{type:"name",value:this.name}];try{let Q=await this.getText("avatar");if(Q==null)return $.push({type:"!avatar",value:""}),{url:null,linkage:$};$.push({type:"avatar",value:Q});for(let X=0;X<YL.length;X++){let Z=Q.match(YL[X]);if(Z==null)continue;let Y=Z[1].toLowerCase();switch(Y){case"https":case"data":return $.push({type:"url",value:Q}),{linkage:$,url:Q};case"ipfs":{let V=$4(Q);return $.push({type:"ipfs",value:Q}),$.push({type:"url",value:V}),{linkage:$,url:V}}case"erc721":case"erc1155":{let V=Y==="erc721"?"tokenURI(uint256)":"uri(uint256)";$.push({type:Y,value:Q});let G=await this.getAddress();if(G==null)return $.push({type:"!owner",value:""}),{url:null,linkage:$};let z=(Z[2]||"").split("/");if(z.length!==2)return $.push({type:`!${Y}caip`,value:Z[2]||""}),{url:null,linkage:$};let L=z[1],A=new MX(z[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(Y==="erc721"){let I=await A.ownerOf(L);if(G!==I)return $.push({type:"!owner",value:I}),{url:null,linkage:$};$.push({type:"owner",value:I})}else if(Y==="erc1155"){let I=await A.balanceOf(G,L);if(!I)return $.push({type:"!balance",value:"0"}),{url:null,linkage:$};$.push({type:"balance",value:I.toString()})}let F=await A[V](L);if(F==null||F==="0x")return $.push({type:"!metadata-url",value:""}),{url:null,linkage:$};if($.push({type:"metadata-url-base",value:F}),Y==="erc1155")F=F.replace("{id}",CQ(L,32).substring(2)),$.push({type:"metadata-url-expanded",value:F});if(F.match(/^ipfs:/i))F=$4(F);$.push({type:"metadata-url",value:F});let C={},q=await new M$(F).send();q.assertOk();try{C=q.bodyJson}catch(I){try{$.push({type:"!metadata",value:q.bodyText})}catch(S){let N=q.body;if(N)$.push({type:"!metadata",value:O0(N)});return{url:null,linkage:$}}return{url:null,linkage:$}}if(!C)return $.push({type:"!metadata",value:""}),{url:null,linkage:$};$.push({type:"metadata",value:JSON.stringify(C)});let R=C.image;if(typeof R!=="string")return $.push({type:"!imageUrl",value:""}),{url:null,linkage:$};if(R.match(/^(https:\/\/|data:)/i));else{if(R.match(JL)==null)return $.push({type:"!imageUrl-ipfs",value:R}),{url:null,linkage:$};$.push({type:"imageUrl-ipfs",value:R}),R=$4(R)}return $.push({type:"url",value:R}),{linkage:$,url:R}}}}}catch(Q){}return{linkage:$,url:null}}static async getEnsAddress($){let Q=await $.getNetwork(),X=Q.getPlugin("org.ethers.plugins.network.Ens");return J0(X,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:Q}}),X.address}static async#Z($,Q){let X=await FZ.getEnsAddress($);try{let Y=await new MX(X,["function resolver(bytes32) view returns (address)"],$).resolver(VY(Q),{enableCcipRead:!0});if(Y===oX)return null;return Y}catch(Z){throw Z}return null}static async fromName($,Q){let X=Q;while(!0){if(X===""||X===".")return null;if(Q!=="eth"&&X==="eth")return null;let Z=await FZ.#Z($,X);if(Z!=null){let Y=new FZ($,Z,Q);if(X!==Q&&!await Y.supportsWildcard())return null;return Y}X=X.split(".").slice(1).join(".")}}}var JL,YL;var Q4=G0(()=>{r$();FG();ZV();hZ();d0();JL=new RegExp("^(ipfs)://(.*)$","i"),YL=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),JL,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")]});function H$($,Q){return function(X){if(X==null)return Q;return $(X)}}function YV($,Q){return(X)=>{if(Q&&X==null)return null;if(!Array.isArray(X))throw new Error("not an array");return X.map((Z)=>$(Z))}}function JV($,Q){return(X)=>{let Z={};for(let Y in $){let V=Y;if(Q&&Y in Q&&!(V in X)){for(let G of Q[Y])if(G in X){V=G;break}}try{let G=$[Y](X[V]);if(G!==void 0)Z[Y]=G}catch(G){let z=G instanceof Error?G.message:"not-an-error";J0(!1,`invalid value for value.${Y} (${z})`,"BAD_DATA",{value:X})}}return Z}}function KI($){switch($){case!0:case"true":return!0;case!1:case"false":return!1}b(!1,`invalid boolean; ${JSON.stringify($)}`,"value",$)}function bG($){return b(Q$($,!0),"invalid data","value",$),$}function vQ($){return b(Q$($,32),"invalid hash","value",$),$}function WL($){return UI($)}function VL($){let Q=OI($);return Q.transactions=$.transactions.map((X)=>{if(typeof X==="string")return X;return X4(X)}),Q}function HI($){return zI($)}function KL($){return DI($)}function X4($){if($.to&&m0($.to)===GL)$.to="0x0000000000000000000000000000000000000000";let Q=JV({hash:vQ,index:H$(n0,void 0),type:(X)=>{if(X==="0x"||X==null)return 0;return n0(X)},accessList:H$(IQ,null),blobVersionedHashes:H$(YV(vQ,!0),null),authorizationList:H$(YV((X)=>{let Z;if(X.signature)Z=X.signature;else{let Y=X.yParity;if(Y==="0x1b")Y=0;else if(Y==="0x1c")Y=1;Z=Object.assign({},X,{yParity:Y})}return{address:s0(X.address),chainId:m0(X.chainId),nonce:m0(X.nonce),signature:S$.from(Z)}},!1),null),blockHash:H$(vQ,null),blockNumber:H$(n0,null),transactionIndex:H$(n0,null),from:s0,gasPrice:H$(m0),maxPriorityFeePerGas:H$(m0),maxFeePerGas:H$(m0),maxFeePerBlobGas:H$(m0,null),gasLimit:m0,to:H$(s0,null),value:m0,nonce:n0,data:bG,creates:H$(s0,null),chainId:H$(m0,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})($);if(Q.to==null&&Q.creates==null)Q.creates=YJ(Q);if(($.type===1||$.type===2)&&$.accessList==null)Q.accessList=[];if($.signature)Q.signature=S$.from($.signature);else Q.signature=S$.from($);if(Q.chainId==null){let X=Q.signature.legacyChainId;if(X!=null)Q.chainId=X}if(Q.blockHash&&m0(Q.blockHash)===GL)Q.blockHash=null;return Q}var GL,UI,OI,zI,DI;var UL=G0(()=>{r$();QQ();tQ();d0();GL=BigInt(0);UI=JV({address:s0,blockHash:vQ,blockNumber:n0,data:bG,index:n0,removed:H$(KI,!1),topics:YV(vQ),transactionHash:vQ,transactionIndex:n0},{index:["logIndex"]});OI=JV({hash:H$(vQ),parentHash:vQ,parentBeaconBlockRoot:H$(vQ,null),number:n0,timestamp:n0,nonce:H$(bG),difficulty:m0,gasLimit:m0,gasUsed:m0,stateRoot:H$(vQ,null),receiptsRoot:H$(vQ,null),blobGasUsed:H$(m0,null),excessBlobGas:H$(m0,null),miner:H$(s0),prevRandao:H$(vQ,null),extraData:bG,baseFeePerGas:H$(m0)},{prevRandao:["mixHash"]});zI=JV({transactionIndex:n0,blockNumber:n0,transactionHash:vQ,address:s0,topics:YV(vQ),data:bG,index:n0,blockHash:vQ},{index:["logIndex"]});DI=JV({to:H$(s0,null),from:H$(s0,null),contractAddress:H$(s0,null),index:n0,root:H$(O0),gasUsed:m0,blobGasUsed:H$(m0,null),logsBloom:H$(bG),blockHash:vQ,hash:vQ,logs:YV(HI),blockNumber:n0,cumulativeGasUsed:m0,effectiveGasPrice:H$(m0),blobGasPrice:H$(m0,null),status:H$(n0),type:H$(n0,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]})});class tX{name;constructor($){I0(this,{name:$})}clone(){return new tX(this.name)}}var LI="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",LY,qY,pG,L8;var RK=G0(()=>{d0();LY=class LY extends tX{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor($,Q){if($==null)$=0;super(`org.ethers.network.plugins.GasCost#${$||0}`);let X={effectiveBlock:$};function Z(Y,V){let G=(Q||{})[Y];if(G==null)G=V;b(typeof G==="number",`invalud value for ${Y}`,"costs",Q),X[Y]=G}Z("txBase",21000),Z("txCreate",32000),Z("txDataZero",4),Z("txDataNonzero",16),Z("txAccessListStorageKey",1900),Z("txAccessListAddress",2400),I0(this,X)}clone(){return new LY(this.effectiveBlock,this)}};qY=class qY extends tX{address;targetNetwork;constructor($,Q){super("org.ethers.plugins.network.Ens");I0(this,{address:$||LI,targetNetwork:Q==null?1:Q})}clone(){return new qY(this.address,this.targetNetwork)}};pG=class pG extends tX{#$;get feeDataFunc(){return this.#$}constructor($){super("org.ethers.plugins.network.FeeData");this.#$=$}async getFeeData($){return await this.#$($)}clone(){return new pG(this.#$)}};L8=class L8 extends tX{#$;#Q;get url(){return this.#$}get processFunc(){return this.#Q}constructor($,Q){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");this.#$=$,this.#Q=Q}clone(){return this}}});class Y${#$;#Q;#X;constructor($,Q){this.#$=$,this.#Q=m0(Q),this.#X=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#$}set name($){this.#$=$}get chainId(){return this.#Q}set chainId($){this.#Q=m0($,"chainId")}matches($){if($==null)return!1;if(typeof $==="string"){try{return this.chainId===m0($)}catch(Q){}return this.name===$}if(typeof $==="number"||typeof $==="bigint"){try{return this.chainId===m0($)}catch(Q){}return!1}if(typeof $==="object"){if($.chainId!=null){try{return this.chainId===m0($.chainId)}catch(Q){}return!1}if($.name!=null)return this.name===$.name;return!1}return!1}get plugins(){return Array.from(this.#X.values())}attachPlugin($){if(this.#X.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#X.set($.name,$.clone()),this}getPlugin($){return this.#X.get($)||null}getPlugins($){return this.plugins.filter((Q)=>Q.name.split("#")[0]===$)}clone(){let $=new Y$(this.name,this.chainId);return this.plugins.forEach((Q)=>{$.attachPlugin(Q.clone())}),$}computeIntrinsicGas($){let Q=this.getPlugin("org.ethers.plugins.network.GasCost")||new LY,X=Q.txBase;if($.to==null)X+=Q.txCreate;if($.data)for(let Z=2;Z<$.data.length;Z+=2)if($.data.substring(Z,Z+2)==="00")X+=Q.txDataZero;else X+=Q.txDataNonzero;if($.accessList){let Z=IQ($.accessList);for(let Y in Z)X+=Q.txAccessListAddress+Q.txAccessListStorageKey*Z[Y].storageKeys.length}return X}static from($){if(qI(),$==null)return Y$.from("mainnet");if(typeof $==="number")$=BigInt($);if(typeof $==="string"||typeof $==="bigint"){let Q=Z4.get($);if(Q)return Q();if(typeof $==="bigint")return new Y$("unknown",$);b(!1,"unknown network","network",$)}if(typeof $.clone==="function")return $.clone();if(typeof $==="object"){b(typeof $.name==="string"&&typeof $.chainId==="number","invalid network object name or chainId","network",$);let Q=new Y$($.name,$.chainId);if($.ensAddress||$.ensNetwork!=null)Q.attachPlugin(new qY($.ensAddress,$.ensNetwork));return Q}b(!1,"invalid network","network",$)}static register($,Q){if(typeof $==="number")$=BigInt($);let X=Z4.get($);if(X)b(!1,`conflicting network for ${JSON.stringify(X.name)}`,"nameOrChainId",$);Z4.set($,Q)}}function OL($,Q){let X=String($);if(!X.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${$}`);let Z=X.split(".");if(Z.length===1)Z.push("");if(Z.length!==2)throw new Error(`invalid gwei value: ${$}`);while(Z[1].length<Q)Z[1]+="0";if(Z[1].length>9){let Y=BigInt(Z[1].substring(0,9));if(!Z[1].substring(9).match(/^0+$/))Y++;Z[1]=Y.toString()}return BigInt(Z[0]+Z[1])}function zL($){return new L8($,async(Q,X,Z)=>{Z.setHeader("User-Agent","ethers");let Y;try{let[V,G]=await Promise.all([Z.send(),Q()]);Y=V;let z=Y.bodyJson.standard;return{gasPrice:G.gasPrice,maxFeePerGas:OL(z.maxFee,9),maxPriorityFeePerGas:OL(z.maxPriorityFee,9)}}catch(V){J0(!1,`error encountered with polygon gas station (${JSON.stringify(Z.url)})`,"SERVER_ERROR",{request:Z,response:Y,error:V})}})}function qI(){if(HL)return;HL=!0;function $(Q,X,Z){let Y=function(){let V=new Y$(Q,X);if(Z.ensNetwork!=null)V.attachPlugin(new qY(null,Z.ensNetwork));return V.attachPlugin(new LY),(Z.plugins||[]).forEach((G)=>{V.attachPlugin(G)}),V};if(Y$.register(Q,Y),Y$.register(X,Y),Z.altNames)Z.altNames.forEach((V)=>{Y$.register(V,Y)})}$("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),$("ropsten",3,{ensNetwork:3}),$("rinkeby",4,{ensNetwork:4}),$("goerli",5,{ensNetwork:5}),$("kovan",42,{ensNetwork:42}),$("sepolia",11155111,{ensNetwork:11155111}),$("holesky",17000,{ensNetwork:17000}),$("classic",61,{}),$("classicKotti",6,{}),$("arbitrum",42161,{ensNetwork:1}),$("arbitrum-goerli",421613,{}),$("arbitrum-sepolia",421614,{}),$("base",8453,{ensNetwork:1}),$("base-goerli",84531,{}),$("base-sepolia",84532,{}),$("bnb",56,{ensNetwork:1}),$("bnbt",97,{}),$("linea",59144,{ensNetwork:1}),$("linea-goerli",59140,{}),$("linea-sepolia",59141,{}),$("matic",137,{ensNetwork:1,plugins:[zL("https://gasstation.polygon.technology/v2")]}),$("matic-amoy",80002,{}),$("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[zL("https://gasstation-testnet.polygon.technology/v2")]}),$("optimism",10,{ensNetwork:1,plugins:[]}),$("optimism-goerli",420,{}),$("optimism-sepolia",11155420,{}),$("xdai",100,{ensNetwork:1})}var Z4,HL=!1;var XX=G0(()=>{tQ();d0();RK();Z4=new Map});function Y4($){return JSON.parse(JSON.stringify($))}class J4{#$;#Q;#X;#Z;constructor($){this.#$=$,this.#Q=null,this.#X=4000,this.#Z=-2}get pollingInterval(){return this.#X}set pollingInterval($){this.#X=$}async#Y(){try{let $=await this.#$.getBlockNumber();if(this.#Z===-2){this.#Z=$;return}if($!==this.#Z){for(let Q=this.#Z+1;Q<=$;Q++){if(this.#Q==null)return;await this.#$.emit("block",Q)}this.#Z=$}}catch($){}if(this.#Q==null)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#X)}start(){if(this.#Q)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#X),this.#Y()}stop(){if(!this.#Q)return;this.#$._clearTimeout(this.#Q),this.#Q=null}pause($){if(this.stop(),$)this.#Z=-2}resume(){this.start()}}class PK{#$;#Q;#X;constructor($){this.#$=$,this.#X=!1,this.#Q=(Q)=>{this._poll(Q,this.#$)}}async _poll($,Q){throw new Error("sub-classes must override this")}start(){if(this.#X)return;this.#X=!0,this.#Q(-2),this.#$.on("block",this.#Q)}stop(){if(!this.#X)return;this.#X=!1,this.#$.off("block",this.#Q)}pause($){this.stop()}resume(){this.start()}}class q8{#$;#Q;#X;#Z;#Y;constructor($,Q){this.#$=$,this.#Q=Y4(Q),this.#X=this.#G.bind(this),this.#Z=!1,this.#Y=-2}async#G($){if(this.#Y===-2)return;let Q=Y4(this.#Q);Q.fromBlock=this.#Y+1,Q.toBlock=$;let X=await this.#$.getLogs(Q);if(X.length===0){if(this.#Y<$-60)this.#Y=$-60;return}for(let Z of X)this.#$.emit(this.#Q,Z),this.#Y=Z.blockNumber}start(){if(this.#Z)return;if(this.#Z=!0,this.#Y===-2)this.#$.getBlockNumber().then(($)=>{this.#Y=$});this.#$.on("block",this.#X)}stop(){if(!this.#Z)return;this.#Z=!1,this.#$.off("block",this.#X)}pause($){if(this.stop(),$)this.#Y=-2}resume(){this.start()}}var G4,W4,V4;var EK=G0(()=>{G4=class G4 extends PK{#$;#Q;constructor($,Q){super($);this.#$=Q,this.#Q=-2}pause($){if($)this.#Q=-2;super.pause($)}async _poll($,Q){let X=await Q.getBlock(this.#$);if(X==null)return;if(this.#Q===-2)this.#Q=X.number;else if(X.number>this.#Q)Q.emit(this.#$,X.number),this.#Q=X.number}};W4=class W4 extends PK{#$;constructor($,Q){super($);this.#$=Y4(Q)}async _poll($,Q){throw new Error("@TODO")}};V4=class V4 extends PK{#$;constructor($,Q){super($);this.#$=Q}async _poll($,Q){let X=await Q.getTransactionReceipt(this.#$);if(X)Q.emit(this.#$,X)}}});function IK($){return $&&typeof $.then==="function"}function SK($,Q){return $+":"+JSON.stringify(Q,(X,Z)=>{if(Z==null)return"null";if(typeof Z==="bigint")return`bigint:${Z.toString()}`;if(typeof Z==="string")return Z.toLowerCase();if(typeof Z==="object"&&!Array.isArray(Z)){let Y=Object.keys(Z);return Y.sort(),Y.reduce((V,G)=>{return V[G]=Z[G],V},{})}return Z})}class TZ{name;constructor($){I0(this,{name:$})}start(){}stop(){}pause($){}resume(){}}function AI($){return JSON.parse(JSON.stringify($))}function O4($){return $=Array.from(new Set($).values()),$.sort(),$}async function K4($,Q){if($==null)throw new Error("invalid event");if(Array.isArray($))$={topics:$};if(typeof $==="string")switch($){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:$,tag:$}}if(Q$($,32)){let X=$.toLowerCase();return{type:"transaction",tag:SK("tx",{hash:X}),hash:X}}if($.orphan){let X=$;return{type:"orphan",tag:SK("orphan",X),filter:AI(X)}}if($.address||$.topics){let X=$,Z={topics:(X.topics||[]).map((Y)=>{if(Y==null)return null;if(Array.isArray(Y))return O4(Y.map((V)=>V.toLowerCase()));return Y.toLowerCase()})};if(X.address){let Y=[],V=[],G=(z)=>{if(Q$(z))Y.push(z);else V.push((async()=>{Y.push(await k$(z,Q))})())};if(Array.isArray(X.address))X.address.forEach(G);else G(X.address);if(V.length)await Promise.all(V);Z.address=O4(Y.map((z)=>z.toLowerCase()))}return{filter:Z,tag:SK("event",Z),type:"event"}}b(!1,"unknown ProviderEvent","event",$)}function U4(){return new Date().getTime()}class eX{#$;#Q;#X;#Z;#Y;#G;#J;#W;#O;#K;#D;#L;constructor($,Q){if(this.#L=Object.assign({},FI,Q||{}),$==="any")this.#G=!0,this.#Y=null;else if($){let X=Y$.from($);this.#G=!1,this.#Y=Promise.resolve(X),setTimeout(()=>{this.emit("network",X,null)},0)}else this.#G=!1,this.#Y=null;this.#W=-1,this.#J=new Map,this.#$=new Map,this.#Q=new Map,this.#X=null,this.#Z=!1,this.#O=1,this.#K=new Map,this.#D=!1}get pollingInterval(){return this.#L.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Q.values())}attachPlugin($){if(this.#Q.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#Q.set($.name,$.connect(this)),this}getPlugin($){return this.#Q.get($)||null}get disableCcipRead(){return this.#D}set disableCcipRead($){this.#D=!!$}async#V($){let Q=this.#L.cacheTimeout;if(Q<0)return await this._perform($);let X=SK($.method,$),Z=this.#J.get(X);if(!Z)Z=this._perform($),this.#J.set(X,Z),setTimeout(()=>{if(this.#J.get(X)===Z)this.#J.delete(X)},Q);return await Z}async ccipReadFetch($,Q,X){if(this.disableCcipRead||X.length===0||$.to==null)return null;let Z=$.to.toLowerCase(),Y=Q.toLowerCase(),V=[];for(let G=0;G<X.length;G++){let z=X[G],L=z.replace("{sender}",Z).replace("{data}",Y),A=new M$(L);if(z.indexOf("{data}")===-1)A.body={data:Y,sender:Z};this.emit("debug",{action:"sendCcipReadFetchRequest",request:A,index:G,urls:X});let F="unknown error",C;try{C=await A.send()}catch(q){V.push(q.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:A,result:{error:q}});continue}try{let q=C.bodyJson;if(q.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:A,result:q}),q.data;if(q.message)F=q.message;this.emit("debug",{action:"receiveCcipReadFetchError",request:A,result:q})}catch(q){}J0(C.statusCode<400||C.statusCode>=500,`response not found during CCIP fetch: ${F}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:$,info:{url:z,errorMessage:F}}),V.push(F)}J0(!1,`error encountered during CCIP fetch: ${V.map((G)=>JSON.stringify(G)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:$,info:{urls:X,errorMessages:V}})}_wrapBlock($,Q){return new O8(VL($),this)}_wrapLog($,Q){return new _X(WL($),this)}_wrapTransactionReceipt($,Q){return new zY(KL($),this)}_wrapTransactionResponse($,Q){return new AZ(X4($),this)}_detectNetwork(){J0(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform($){J0(!1,`unsupported method: ${$.method}`,"UNSUPPORTED_OPERATION",{operation:$.method,info:$})}async getBlockNumber(){let $=n0(await this.#V({method:"getBlockNumber"}),"%response");if(this.#W>=0)this.#W=$;return $}_getAddress($){return k$($,this)}_getBlockTag($){if($==null)return"latest";switch($){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return $}if(Q$($)){if(Q$($,32))return $;return $Q($)}if(typeof $==="bigint")$=n0($,"blockTag");if(typeof $==="number"){if($>=0)return $Q($);if(this.#W>=0)return $Q(this.#W+$);return this.getBlockNumber().then((Q)=>$Q(Q+$))}b(!1,"invalid blockTag","blockTag",$)}_getFilter($){let Q=($.topics||[]).map((z)=>{if(z==null)return null;if(Array.isArray(z))return O4(z.map((L)=>L.toLowerCase()));return z.toLowerCase()}),X="blockHash"in $?$.blockHash:void 0,Z=(z,L,A)=>{let F=void 0;switch(z.length){case 0:break;case 1:F=z[0];break;default:z.sort(),F=z}if(X){if(L!=null||A!=null)throw new Error("invalid filter")}let C={};if(F)C.address=F;if(Q.length)C.topics=Q;if(L)C.fromBlock=L;if(A)C.toBlock=A;if(X)C.blockHash=X;return C},Y=[];if($.address)if(Array.isArray($.address))for(let z of $.address)Y.push(this._getAddress(z));else Y.push(this._getAddress($.address));let V=void 0;if("fromBlock"in $)V=this._getBlockTag($.fromBlock);let G=void 0;if("toBlock"in $)G=this._getBlockTag($.toBlock);if(Y.filter((z)=>typeof z!=="string").length||V!=null&&typeof V!=="string"||G!=null&&typeof G!=="string")return Promise.all([Promise.all(Y),V,G]).then((z)=>{return Z(z[0],z[1],z[2])});return Z(Y,V,G)}_getTransactionRequest($){let Q=jX($),X=[];if(["to","from"].forEach((Z)=>{if(Q[Z]==null)return;let Y=k$(Q[Z],this);if(IK(Y))X.push(async function(){Q[Z]=await Y}());else Q[Z]=Y}),Q.blockTag!=null){let Z=this._getBlockTag(Q.blockTag);if(IK(Z))X.push(async function(){Q.blockTag=await Z}());else Q.blockTag=Z}if(X.length)return async function(){return await Promise.all(X),Q}();return Q}async getNetwork(){if(this.#Y==null){let Z=(async()=>{try{let Y=await this._detectNetwork();return this.emit("network",Y,null),Y}catch(Y){if(this.#Y===Z)this.#Y=null;throw Y}})();return this.#Y=Z,(await Z).clone()}let $=this.#Y,[Q,X]=await Promise.all([$,this._detectNetwork()]);if(Q.chainId!==X.chainId)if(this.#G){if(this.emit("network",X,Q),this.#Y===$)this.#Y=Promise.resolve(X)}else J0(!1,`network changed: ${Q.chainId} => ${X.chainId} `,"NETWORK_ERROR",{event:"changed"});return Q.clone()}async getFeeData(){let $=await this.getNetwork(),Q=async()=>{let{_block:Z,gasPrice:Y,priorityFee:V}=await _$({_block:this.#M("latest",!1),gasPrice:(async()=>{try{let A=await this.#V({method:"getGasPrice"});return m0(A,"%response")}catch(A){}return null})(),priorityFee:(async()=>{try{let A=await this.#V({method:"getPriorityFee"});return m0(A,"%response")}catch(A){}return null})()}),G=null,z=null,L=this._wrapBlock(Z,$);if(L&&L.baseFeePerGas)z=V!=null?V:BigInt("1000000000"),G=L.baseFeePerGas*MI+z;return new WJ(Y,G,z)},X=$.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(X){let Z=new M$(X.url),Y=await X.processFunc(Q,this,Z);return new WJ(Y.gasPrice,Y.maxFeePerGas,Y.maxPriorityFeePerGas)}return await Q()}async estimateGas($){let Q=this._getTransactionRequest($);if(IK(Q))Q=await Q;return m0(await this.#V({method:"estimateGas",transaction:Q}),"%response")}async#U($,Q,X){J0(X<CI,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},$,{blockTag:Q,enableCcipRead:!0})});let Z=jX($);try{return O0(await this._perform({method:"call",transaction:Z,blockTag:Q}))}catch(Y){if(!this.disableCcipRead&&QY(Y)&&Y.data&&X>=0&&Q==="latest"&&Z.to!=null&&D$(Y.data,0,4)==="0x556f1830"){let V=Y.data,G=await k$(Z.to,this),z;try{z=II(D$(Y.data,4))}catch(F){J0(!1,F.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:Z,info:{data:V}})}J0(z.sender.toLowerCase()===G.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:V,reason:"OffchainLookup",transaction:Z,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:z.errorArgs}});let L=await this.ccipReadFetch(Z,z.calldata,z.urls);J0(L!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:Z,info:{data:Y.data,errorArgs:z.errorArgs}});let A={to:G,data:i0([z.selector,EI([L,z.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:A});try{let F=await this.#U(A,Q,X+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},A),result:F}),F}catch(F){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},A),error:F}),F}}throw Y}}async#z($){let{value:Q}=await _$({network:this.getNetwork(),value:$});return Q}async call($){let{tx:Q,blockTag:X}=await _$({tx:this._getTransactionRequest($),blockTag:this._getBlockTag($.blockTag)});return await this.#z(this.#U(Q,X,$.enableCcipRead?0:-1))}async#H($,Q,X){let Z=this._getAddress(Q),Y=this._getBlockTag(X);if(typeof Z!=="string"||typeof Y!=="string")[Z,Y]=await Promise.all([Z,Y]);return await this.#z(this.#V(Object.assign($,{address:Z,blockTag:Y})))}async getBalance($,Q){return m0(await this.#H({method:"getBalance"},$,Q),"%response")}async getTransactionCount($,Q){return n0(await this.#H({method:"getTransactionCount"},$,Q),"%response")}async getCode($,Q){return O0(await this.#H({method:"getCode"},$,Q))}async getStorage($,Q,X){let Z=m0(Q,"position");return O0(await this.#H({method:"getStorage",position:Z},$,X))}async broadcastTransaction($){let{blockNumber:Q,hash:X,network:Z}=await _$({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:$}),network:this.getNetwork()}),Y=a$.from($);if(Y.hash!==X)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(Y,Z).replaceableTransaction(Q)}async#M($,Q){if(Q$($,32))return await this.#V({method:"getBlock",blockHash:$,includeTransactions:Q});let X=this._getBlockTag($);if(typeof X!=="string")X=await X;return await this.#V({method:"getBlock",blockTag:X,includeTransactions:Q})}async getBlock($,Q){let{network:X,params:Z}=await _$({network:this.getNetwork(),params:this.#M($,!!Q)});if(Z==null)return null;return this._wrapBlock(Z,X)}async getTransaction($){let{network:Q,params:X}=await _$({network:this.getNetwork(),params:this.#V({method:"getTransaction",hash:$})});if(X==null)return null;return this._wrapTransactionResponse(X,Q)}async getTransactionReceipt($){let{network:Q,params:X}=await _$({network:this.getNetwork(),params:this.#V({method:"getTransactionReceipt",hash:$})});if(X==null)return null;if(X.gasPrice==null&&X.effectiveGasPrice==null){let Z=await this.#V({method:"getTransaction",hash:$});if(Z==null)throw new Error("report this; could not find tx or effectiveGasPrice");X.effectiveGasPrice=Z.gasPrice}return this._wrapTransactionReceipt(X,Q)}async getTransactionResult($){let{result:Q}=await _$({network:this.getNetwork(),result:this.#V({method:"getTransactionResult",hash:$})});if(Q==null)return null;return O0(Q)}async getLogs($){let Q=this._getFilter($);if(IK(Q))Q=await Q;let{network:X,params:Z}=await _$({network:this.getNetwork(),params:this.#V({method:"getLogs",filter:Q})});return Z.map((Y)=>this._wrapLog(Y,X))}_getProvider($){J0(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver($){return await FZ.fromName(this,$)}async getAvatar($){let Q=await this.getResolver($);if(Q)return await Q.getAvatar();return null}async resolveName($){let Q=await this.getResolver($);if(Q)return await Q.getAddress();return null}async lookupAddress($){$=s0($);let Q=VY($.substring(2).toLowerCase()+".addr.reverse");try{let X=await FZ.getEnsAddress(this),Y=await new MX(X,["function resolver(bytes32) view returns (address)"],this).resolver(Q);if(Y==null||Y===oX)return null;let G=await new MX(Y,["function name(bytes32) view returns (string)"],this).name(Q);if(await this.resolveName(G)!==$)return null;return G}catch(X){if(q$(X,"BAD_DATA")&&X.value==="0x")return null;if(q$(X,"CALL_EXCEPTION"))return null;throw X}return null}async waitForTransaction($,Q,X){let Z=Q!=null?Q:1;if(Z===0)return this.getTransactionReceipt($);return new Promise(async(Y,V)=>{let G=null,z=async(L)=>{try{let A=await this.getTransactionReceipt($);if(A!=null){if(L-A.blockNumber+1>=Z){if(Y(A),G)clearTimeout(G),G=null;return}}}catch(A){console.log("EEE",A)}this.once("block",z)};if(X!=null)G=setTimeout(()=>{if(G==null)return;G=null,this.off("block",z),V(V$("timeout","TIMEOUT",{reason:"timeout"}))},X);z(await this.getBlockNumber())})}async waitForBlock($){J0(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout($){let Q=this.#K.get($);if(!Q)return;if(Q.timer)clearTimeout(Q.timer);this.#K.delete($)}_setTimeout($,Q){if(Q==null)Q=0;let X=this.#O++,Z=()=>{this.#K.delete(X),$()};if(this.paused)this.#K.set(X,{timer:null,func:Z,time:Q});else{let Y=setTimeout(Z,Q);this.#K.set(X,{timer:Y,func:Z,time:U4()})}return X}_forEachSubscriber($){for(let Q of this.#$.values())$(Q.subscriber)}_getSubscriber($){switch($.type){case"debug":case"error":case"network":return new TZ($.type);case"block":{let Q=new J4(this);return Q.pollingInterval=this.pollingInterval,Q}case"safe":case"finalized":return new G4(this,$.type);case"event":return new q8(this,$.filter);case"transaction":return new V4(this,$.hash);case"orphan":return new W4(this,$.filter)}throw new Error(`unsupported event: ${$.type}`)}_recoverSubscriber($,Q){for(let X of this.#$.values())if(X.subscriber===$){if(X.started)X.subscriber.stop();if(X.subscriber=Q,X.started)Q.start();if(this.#X!=null)Q.pause(this.#X);break}}async#q($,Q){let X=await K4($,this);if(X.type==="event"&&Q&&Q.length>0&&Q[0].removed===!0)X=await K4({orphan:"drop-log",log:Q[0]},this);return this.#$.get(X.tag)||null}async#C($){let Q=await K4($,this),X=Q.tag,Z=this.#$.get(X);if(!Z)Z={subscriber:this._getSubscriber(Q),tag:X,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#$.set(X,Z);return Z}async on($,Q){let X=await this.#C($);if(X.listeners.push({listener:Q,once:!1}),!X.started){if(X.subscriber.start(),X.started=!0,this.#X!=null)X.subscriber.pause(this.#X)}return this}async once($,Q){let X=await this.#C($);if(X.listeners.push({listener:Q,once:!0}),!X.started){if(X.subscriber.start(),X.started=!0,this.#X!=null)X.subscriber.pause(this.#X)}return this}async emit($,...Q){let X=await this.#q($,Q);if(!X||X.listeners.length===0)return!1;let Z=X.listeners.length;if(X.listeners=X.listeners.filter(({listener:Y,once:V})=>{let G=new XY(this,V?null:Y,$);try{Y.call(this,...Q,G)}catch(z){}return!V}),X.listeners.length===0){if(X.started)X.subscriber.stop();this.#$.delete(X.tag)}return Z>0}async listenerCount($){if($){let X=await this.#q($);if(!X)return 0;return X.listeners.length}let Q=0;for(let{listeners:X}of this.#$.values())Q+=X.length;return Q}async listeners($){if($){let X=await this.#q($);if(!X)return[];return X.listeners.map(({listener:Z})=>Z)}let Q=[];for(let{listeners:X}of this.#$.values())Q=Q.concat(X.map(({listener:Z})=>Z));return Q}async off($,Q){let X=await this.#q($);if(!X)return this;if(Q){let Z=X.listeners.map(({listener:Y})=>Y).indexOf(Q);if(Z>=0)X.listeners.splice(Z,1)}if(!Q||X.listeners.length===0){if(X.started)X.subscriber.stop();this.#$.delete(X.tag)}return this}async removeAllListeners($){if($){let{tag:Q,started:X,subscriber:Z}=await this.#C($);if(X)Z.stop();this.#$.delete(Q)}else for(let[Q,{started:X,subscriber:Z}]of this.#$){if(X)Z.stop();this.#$.delete(Q)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return this.off($,Q)}get destroyed(){return this.#Z}destroy(){this.removeAllListeners();for(let $ of this.#K.keys())this._clearTimeout($);this.#Z=!0}get paused(){return this.#X!=null}set paused($){if(!!$===this.paused)return;if(this.paused)this.resume();else this.pause(!1)}pause($){if(this.#W=-1,this.#X!=null){if(this.#X==!!$)return;J0(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((Q)=>Q.pause($)),this.#X=!!$;for(let Q of this.#K.values()){if(Q.timer)clearTimeout(Q.timer);Q.time=U4()-Q.time}}resume(){if(this.#X==null)return;this._forEachSubscriber(($)=>$.resume()),this.#X=null;for(let $ of this.#K.values()){let Q=$.time;if(Q<0)Q=0;$.time=U4(),setTimeout($.func,Q)}}}function TI($,Q){try{let X=z4($,Q);if(X)return dQ(X)}catch(X){}return null}function z4($,Q){if($==="0x")return null;try{let X=n0(D$($,Q,Q+32)),Z=n0(D$($,X,X+32));return D$($,X+32,X+32+Z)}catch(X){}return null}function DL($){let Q=L$($);if(Q.length>32)throw new Error("internal; should not happen");let X=new Uint8Array(32);return X.set(Q,32-Q.length),X}function RI($){if($.length%32===0)return $;let Q=new Uint8Array(Math.ceil($.length/32)*32);return Q.set($),Q}function EI($){let Q=[],X=0;for(let Z=0;Z<$.length;Z++)Q.push(PI),X+=32;for(let Z=0;Z<$.length;Z++){let Y=M0($[Z]);Q[Z]=DL(X),Q.push(DL(Y.length)),Q.push(RI(Y)),X+=32+Math.ceil(Y.length/32)*32}return i0(Q)}function II($){let Q={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};J0(rQ($)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let X=D$($,0,32);J0(D$(X,0,12)===D$(LL,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Q.sender=D$(X,12);try{let Z=[],Y=n0(D$($,32,64)),V=n0(D$($,Y,Y+32)),G=D$($,Y+32);for(let z=0;z<V;z++){let L=TI(G,z*32);if(L==null)throw new Error("abort");Z.push(L)}Q.urls=Z}catch(Z){J0(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let Z=z4($,64);if(Z==null)throw new Error("abort");Q.calldata=Z}catch(Z){J0(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}J0(D$($,100,128)===D$(LL,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Q.selector=D$($,96,100);try{let Z=z4($,128);if(Z==null)throw new Error("abort");Q.extraData=Z}catch(Z){J0(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Q.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((Z)=>Q[Z]),Q}var MI,CI=10,FI,PI,LL="0x0000000000000000000000000000000000000000000000000000000000000000";var mG=G0(()=>{r$();FG();ZV();hZ();tQ();d0();Q4();UL();XX();vG();EK();MI=BigInt(2);FI={cacheTimeout:250,pollingInterval:4000};PI=new Uint8Array([])});function M8($,Q){if($.provider)return $.provider;J0(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Q})}async function qL($,Q){let X=jX(Q);if(X.to!=null)X.to=k$(X.to,$);if(X.from!=null){let Z=X.from;X.from=Promise.all([$.getAddress(),k$(Z,$)]).then(([Y,V])=>{return b(Y.toLowerCase()===V.toLowerCase(),"transaction from mismatch","tx.from",V),Y})}else X.from=$.getAddress();return await _$(X)}class $Z{provider;constructor($){I0(this,{provider:$||null})}async getNonce($){return M8(this,"getTransactionCount").getTransactionCount(await this.getAddress(),$)}async populateCall($){return await qL(this,$)}async populateTransaction($){let Q=M8(this,"populateTransaction"),X=await qL(this,$);if(X.nonce==null)X.nonce=await this.getNonce("pending");if(X.gasLimit==null)X.gasLimit=await this.estimateGas(X);let Z=await this.provider.getNetwork();if(X.chainId!=null){let V=m0(X.chainId);b(V===Z.chainId,"transaction chainId mismatch","tx.chainId",$.chainId)}else X.chainId=Z.chainId;let Y=X.maxFeePerGas!=null||X.maxPriorityFeePerGas!=null;if(X.gasPrice!=null&&(X.type===2||Y))b(!1,"eip-1559 transaction do not support gasPrice","tx",$);else if((X.type===0||X.type===1)&&Y)b(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",$);if((X.type===2||X.type==null)&&(X.maxFeePerGas!=null&&X.maxPriorityFeePerGas!=null))X.type=2;else if(X.type===0||X.type===1){let V=await Q.getFeeData();if(J0(V.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),X.gasPrice==null)X.gasPrice=V.gasPrice}else{let V=await Q.getFeeData();if(X.type==null)if(V.maxFeePerGas!=null&&V.maxPriorityFeePerGas!=null){if(X.authorizationList&&X.authorizationList.length)X.type=4;else X.type=2;if(X.gasPrice!=null){let G=X.gasPrice;delete X.gasPrice,X.maxFeePerGas=G,X.maxPriorityFeePerGas=G}else{if(X.maxFeePerGas==null)X.maxFeePerGas=V.maxFeePerGas;if(X.maxPriorityFeePerGas==null)X.maxPriorityFeePerGas=V.maxPriorityFeePerGas}}else if(V.gasPrice!=null){if(J0(!Y,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),X.gasPrice==null)X.gasPrice=V.gasPrice;X.type=0}else J0(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else if(X.type===2||X.type===3||X.type===4){if(X.maxFeePerGas==null)X.maxFeePerGas=V.maxFeePerGas;if(X.maxPriorityFeePerGas==null)X.maxPriorityFeePerGas=V.maxPriorityFeePerGas}}return await _$(X)}async populateAuthorization($){let Q=Object.assign({},$);if(Q.chainId==null)Q.chainId=(await M8(this,"getNetwork").getNetwork()).chainId;if(Q.nonce==null)Q.nonce=await this.getNonce();return Q}async estimateGas($){return M8(this,"estimateGas").estimateGas(await this.populateCall($))}async call($){return M8(this,"call").call(await this.populateCall($))}async resolveName($){return await M8(this,"resolveName").resolveName($)}async sendTransaction($){let Q=M8(this,"sendTransaction"),X=await this.populateTransaction($);delete X.from;let Z=a$.from(X);return await Q.broadcastTransaction(await this.signTransaction(Z))}authorize($){J0(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var UJ;var NK=G0(()=>{r$();tQ();d0();vG();UJ=class UJ extends $Z{address;constructor($,Q){super(Q);I0(this,{address:$})}async getAddress(){return this.address}connect($){return new UJ(this.address,$)}#$($,Q){J0(!1,`VoidSigner cannot sign ${$}`,"UNSUPPORTED_OPERATION",{operation:Q})}async signTransaction($){this.#$("transactions","signTransaction")}async signMessage($){this.#$("messages","signMessage")}async signTypedData($,Q,X){this.#$("typed-data","signTypedData")}}});function BQ($){if(ML.has($))return;ML.add($),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${$} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("==========================")}var ML;var MY=G0(()=>{ML=new Set});function SI($){return JSON.parse(JSON.stringify($))}class H4{#$;#Q;#X;#Z;#Y;#G;constructor($){this.#$=$,this.#Q=null,this.#X=this.#J.bind(this),this.#Z=!1,this.#Y=null,this.#G=!1}_subscribe($){throw new Error("subclasses must override this")}_emitResults($,Q){throw new Error("subclasses must override this")}_recover($){throw new Error("subclasses must override this")}async#J($){try{if(this.#Q==null)this.#Q=this._subscribe(this.#$);let Q=null;try{Q=await this.#Q}catch(Y){if(!q$(Y,"UNSUPPORTED_OPERATION")||Y.operation!=="eth_newFilter")throw Y}if(Q==null){this.#Q=null,this.#$._recoverSubscriber(this,this._recover(this.#$));return}let X=await this.#$.getNetwork();if(!this.#Y)this.#Y=X;if(this.#Y.chainId!==X.chainId)throw new Error("chaid changed");if(this.#G)return;let Z=await this.#$.send("eth_getFilterChanges",[Q]);await this._emitResults(this.#$,Z)}catch(Q){console.log("@TODO",Q)}this.#$.once("block",this.#X)}#W(){let $=this.#Q;if($)this.#Q=null,$.then((Q)=>{if(this.#$.destroyed)return;this.#$.send("eth_uninstallFilter",[Q])})}start(){if(this.#Z)return;this.#Z=!0,this.#J(-2)}stop(){if(!this.#Z)return;this.#Z=!1,this.#G=!0,this.#W(),this.#$.off("block",this.#X)}pause($){if($)this.#W();this.#$.off("block",this.#X)}resume(){this.start()}}var D4,L4;var CL=G0(()=>{d0();EK();D4=class D4 extends H4{#$;constructor($,Q){super($);this.#$=SI(Q)}_recover($){return new q8($,this.#$)}async _subscribe($){return await $.send("eth_newFilter",[this.#$])}async _emitResults($,Q){for(let X of Q)$.emit(this.#$,$._wrapLog(X,$._network))}};L4=class L4 extends H4{async _subscribe($){return await $.send("eth_newPendingTransactionFilter",[])}async _emitResults($,Q){for(let X of Q)$.emit("pending",X)}}});function BK($){if($==null||NI.indexOf(typeof $)>=0)return $;if(typeof $.getAddress==="function")return $;if(Array.isArray($))return $.map(BK);if(typeof $==="object")return Object.keys($).reduce((Q,X)=>{return Q[X]=$[X],Q},{});throw new Error(`should not happen: ${$} (${typeof $})`)}function BI($){return new Promise((Q)=>{setTimeout(Q,$)})}function cG($){if($)return $.toLowerCase();return $}function AL($){return $&&typeof $.pollingInterval==="number"}function q4($){if($==null)return null;if(typeof $.message==="string"&&$.message.match(/revert/i)&&Q$($.data))return{message:$.message,data:$.data};if(typeof $==="object"){for(let Q in $){let X=q4($[Q]);if(X)return X}return null}if(typeof $==="string")try{return q4(JSON.parse($))}catch(Q){}return null}function M4($,Q){if($==null)return;if(typeof $.message==="string")Q.push($.message);if(typeof $==="object")for(let X in $)M4($[X],Q);if(typeof $==="string")try{return M4(JSON.parse($),Q)}catch(X){}}function jI($){let Q=[];return M4($,Q),Q}var NI,FL,OJ,zJ,jK,v$;var xX=G0(()=>{kG();r$();hZ();tQ();d0();mG();NK();XX();CL();EK();NI="bigint,boolean,function,number,string,symbol".split(/,/g);FL={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4000};OJ=class OJ extends $Z{address;constructor($,Q){super($);Q=s0(Q),I0(this,{address:Q})}connect($){J0(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction($){return await this.populateCall($)}async sendUncheckedTransaction($){let Q=BK($),X=[];if(Q.from){let Y=Q.from;X.push((async()=>{let V=await k$(Y,this.provider);b(V!=null&&V.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=V})())}else Q.from=this.address;if(Q.gasLimit==null)X.push((async()=>{Q.gasLimit=await this.provider.estimateGas({...Q,from:this.address})})());if(Q.to!=null){let Y=Q.to;X.push((async()=>{Q.to=await k$(Y,this.provider)})())}if(X.length)await Promise.all(X);let Z=this.provider.getRpcTransaction(Q);return this.provider.send("eth_sendTransaction",[Z])}async sendTransaction($){let Q=await this.provider.getBlockNumber(),X=await this.sendUncheckedTransaction($);return await new Promise((Z,Y)=>{let V=[1000,100],G=0,z=async()=>{try{let L=await this.provider.getTransaction(X);if(L!=null){Z(L.replaceableTransaction(Q));return}}catch(L){if(q$(L,"CANCELLED")||q$(L,"BAD_DATA")||q$(L,"NETWORK_ERROR")||q$(L,"UNSUPPORTED_OPERATION")){if(L.info==null)L.info={};L.info.sendTransactionHash=X,Y(L);return}if(q$(L,"INVALID_ARGUMENT")){if(G++,L.info==null)L.info={};if(L.info.sendTransactionHash=X,G>10){Y(L);return}}this.provider.emit("error",V$("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:L}))}this.provider._setTimeout(()=>{z()},V.pop()||4000)};z()})}async signTransaction($){let Q=BK($);if(Q.from){let Z=await k$(Q.from,this.provider);b(Z!=null&&Z.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=Z}else Q.from=this.address;let X=this.provider.getRpcTransaction(Q);return await this.provider.send("eth_signTransaction",[X])}async signMessage($){let Q=typeof $==="string"?F$($):$;return await this.provider.send("personal_sign",[O0(Q),this.address.toLowerCase()])}async signTypedData($,Q,X){let Z=BK(X),Y=await n$.resolveNames($,Q,Z,async(V)=>{let G=await k$(V);return b(G!=null,"TypedData does not support null address","value",V),G});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(n$.getPayload(Y.domain,Q,Y.value))])}async unlock($){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),$,null])}async _legacySignMessage($){let Q=typeof $==="string"?F$($):$;return await this.provider.send("eth_sign",[this.address.toLowerCase(),O0(Q)])}};zJ=class zJ extends eX{#$;#Q;#X;#Z;#Y;#G;#J;#W(){if(this.#Z)return;let $=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#Z=setTimeout(()=>{this.#Z=null;let Q=this.#X;this.#X=[];while(Q.length){let X=[Q.shift()];while(Q.length){if(X.length===this.#$.batchMaxCount)break;if(X.push(Q.shift()),JSON.stringify(X.map((Y)=>Y.payload)).length>this.#$.batchMaxSize){Q.unshift(X.pop());break}}(async()=>{let Z=X.length===1?X[0].payload:X.map((Y)=>Y.payload);this.emit("debug",{action:"sendRpcPayload",payload:Z});try{let Y=await this._send(Z);this.emit("debug",{action:"receiveRpcResult",result:Y});for(let{resolve:V,reject:G,payload:z}of X){if(this.destroyed){G(V$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:z.method}));continue}let L=Y.filter((A)=>A.id===z.id)[0];if(L==null){let A=V$("missing response for request","BAD_DATA",{value:Y,info:{payload:z}});this.emit("error",A),G(A);continue}if("error"in L){G(this.getRpcError(z,L));continue}V(L.result)}}catch(Y){this.emit("debug",{action:"receiveRpcError",error:Y});for(let{reject:V}of X)V(Y)}})()}},$)}constructor($,Q){super($,Q);this.#Q=1,this.#$=Object.assign({},FL,Q||{}),this.#X=[],this.#Z=null,this.#G=null,this.#J=null;{let Z=null,Y=new Promise((V)=>{Z=V});this.#Y={promise:Y,resolve:Z}}let X=this._getOption("staticNetwork");if(typeof X==="boolean"){if(b(!X||$!=="any","staticNetwork cannot be used on special network 'any'","options",Q),X&&$!=null)this.#G=Y$.from($)}else if(X)b($==null||X.matches($),"staticNetwork MUST match network object","options",Q),this.#G=X}_getOption($){return this.#$[$]}get _network(){return J0(this.#G,"network is not available yet","NETWORK_ERROR"),this.#G}async _perform($){if($.method==="call"||$.method==="estimateGas"){let X=$.transaction;if(X&&X.type!=null&&m0(X.type)){if(X.maxFeePerGas==null&&X.maxPriorityFeePerGas==null){let Z=await this.getFeeData();if(Z.maxFeePerGas==null&&Z.maxPriorityFeePerGas==null)$=Object.assign({},$,{transaction:Object.assign({},X,{type:void 0})})}}}let Q=this.getRpcRequest($);if(Q!=null)return await this.send(Q.method,Q.args);return super._perform($)}async _detectNetwork(){let $=this._getOption("staticNetwork");if($)if($===!0){if(this.#G)return this.#G}else return $;if(this.#J)return await this.#J;if(this.ready)return this.#J=(async()=>{try{let Q=Y$.from(m0(await this.send("eth_chainId",[])));return this.#J=null,Q}catch(Q){throw this.#J=null,Q}})(),await this.#J;return this.#J=(async()=>{let Q={id:this.#Q++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:Q});let X;try{X=(await this._send(Q))[0],this.#J=null}catch(Z){throw this.#J=null,this.emit("debug",{action:"receiveRpcError",error:Z}),Z}if(this.emit("debug",{action:"receiveRpcResult",result:X}),"result"in X)return Y$.from(m0(X.result));throw this.getRpcError(Q,X)})(),await this.#J}_start(){if(this.#Y==null||this.#Y.resolve==null)return;this.#Y.resolve(),this.#Y=null,(async()=>{while(this.#G==null&&!this.destroyed)try{this.#G=await this._detectNetwork()}catch($){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",V$("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:$}})),await BI(1000)}this.#W()})()}async _waitUntilReady(){if(this.#Y==null)return;return await this.#Y.promise}_getSubscriber($){if($.type==="pending")return new L4(this);if($.type==="event"){if(this._getOption("polling"))return new q8(this,$.filter);return new D4(this,$.filter)}if($.type==="orphan"&&$.filter.orphan==="drop-log")return new TZ("orphan");return super._getSubscriber($)}get ready(){return this.#Y==null}getRpcTransaction($){let Q={};if(["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((X)=>{if($[X]==null)return;let Z=X;if(X==="gasLimit")Z="gas";Q[Z]=$Q(m0($[X],`tx.${X}`))}),["from","to","data"].forEach((X)=>{if($[X]==null)return;Q[X]=O0($[X])}),$.accessList)Q.accessList=IQ($.accessList);if($.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.map((X)=>X.toLowerCase());if($.authorizationList)Q.authorizationList=$.authorizationList.map((X)=>{let Z=JJ(X);return{address:Z.address,nonce:$Q(Z.nonce),chainId:$Q(Z.chainId),yParity:$Q(Z.signature.yParity),r:$Q(Z.signature.r),s:$Q(Z.signature.s)}});return Q}getRpcRequest($){switch($.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[cG($.address),$.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[cG($.address),$.blockTag]};case"getCode":return{method:"eth_getCode",args:[cG($.address),$.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[cG($.address),"0x"+$.position.toString(16),$.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[$.signedTransaction]};case"getBlock":if("blockTag"in $)return{method:"eth_getBlockByNumber",args:[$.blockTag,!!$.includeTransactions]};else if("blockHash"in $)return{method:"eth_getBlockByHash",args:[$.blockHash,!!$.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[$.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[$.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction($.transaction),$.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction($.transaction)]};case"getLogs":if($.filter&&$.filter.address!=null)if(Array.isArray($.filter.address))$.filter.address=$.filter.address.map(cG);else $.filter.address=cG($.filter.address);return{method:"eth_getLogs",args:[$.filter]}}return null}getRpcError($,Q){let{method:X}=$,{error:Z}=Q;if(X==="eth_estimateGas"&&Z.message){let G=Z.message;if(!G.match(/revert/i)&&G.match(/insufficient funds/i))return V$("insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.params[0],info:{payload:$,error:Z}});else if(G.match(/nonce/i)&&G.match(/too low/i))return V$("nonce has already been used","NONCE_EXPIRED",{transaction:$.params[0],info:{payload:$,error:Z}})}if(X==="eth_call"||X==="eth_estimateGas"){let G=q4(Z),z=LX.getBuiltinCallException(X==="eth_call"?"call":"estimateGas",$.params[0],G?G.data:null);return z.info={error:Z,payload:$},z}let Y=JSON.stringify(jI(Z));if(typeof Z.message==="string"&&Z.message.match(/user denied|ethers-user-denied/i))return V$("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[X]||"unknown",reason:"rejected",info:{payload:$,error:Z}});if(X==="eth_sendRawTransaction"||X==="eth_sendTransaction"){let G=$.params[0];if(Y.match(/insufficient funds|base fee exceeds gas limit/i))return V$("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:G,info:{error:Z}});if(Y.match(/nonce/i)&&Y.match(/too low/i))return V$("nonce has already been used","NONCE_EXPIRED",{transaction:G,info:{error:Z}});if(Y.match(/replacement transaction/i)&&Y.match(/underpriced/i))return V$("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:G,info:{error:Z}});if(Y.match(/only replay-protected/i))return V$("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:X,info:{transaction:G,info:{error:Z}}})}let V=!!Y.match(/the method .* does not exist/i);if(!V){if(Z&&Z.details&&Z.details.startsWith("Unauthorized method:"))V=!0}if(V)return V$("unsupported operation","UNSUPPORTED_OPERATION",{operation:$.method,info:{error:Z,payload:$}});return V$("could not coalesce error","UNKNOWN_ERROR",{error:Z,payload:$})}send($,Q){if(this.destroyed)return Promise.reject(V$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$}));let X=this.#Q++,Z=new Promise((Y,V)=>{this.#X.push({resolve:Y,reject:V,payload:{method:$,params:Q,id:X,jsonrpc:"2.0"}})});return this.#W(),Z}async getSigner($){if($==null)$=0;let Q=this.send("eth_accounts",[]);if(typeof $==="number"){let Z=await Q;if($>=Z.length)throw new Error("no such account");return new OJ(this,Z[$])}let{accounts:X}=await _$({network:this.getNetwork(),accounts:Q});$=s0($);for(let Z of X)if(s0(Z)===$)return new OJ(this,$);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((Q)=>new OJ(this,Q))}destroy(){if(this.#Z)clearTimeout(this.#Z),this.#Z=null;for(let{payload:$,reject:Q}of this.#X)Q(V$("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$.method}));this.#X=[],super.destroy()}};jK=class jK extends zJ{#$;constructor($,Q){super($,Q);let X=this._getOption("pollingInterval");if(X==null)X=FL.pollingInterval;this.#$=X}_getSubscriber($){let Q=super._getSubscriber($);if(AL(Q))Q.pollingInterval=this.#$;return Q}get pollingInterval(){return this.#$}set pollingInterval($){if(!Number.isInteger($)||$<0)throw new Error("invalid interval");this.#$=$,this._forEachSubscriber((Q)=>{if(AL(Q))Q.pollingInterval=this.#$})}};v$=class v$ extends jK{#$;constructor($,Q,X){if($==null)$="http://localhost:8545";super(Q,X);if(typeof $==="string")this.#$=new M$($);else this.#$=$.clone()}_getConnection(){return this.#$.clone()}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){let Q=this._getConnection();Q.body=JSON.stringify($),Q.setHeader("content-type","application/json");let X=await Q.send();X.assertOk();let Z=X.bodyJson;if(!Array.isArray(Z))Z=[Z];return Z}}});function _I($){switch($){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}b(!1,"unsupported network","network",$)}var _K="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972",CY;var C4=G0(()=>{d0();MY();XX();xX();CY=class CY extends v${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=_K;let Z={polling:!0,staticNetwork:X},Y=CY.getRequest(X,Q);super(Y,X,Z);I0(this,{apiKey:Q})}_getProvider($){try{return new CY($,this.apiKey)}catch(Q){}return super._getProvider($)}static getRequest($,Q){if(Q==null)Q=_K;let X=new M$(`https://${_I($.name)}/${Q}`);if(X.allowGzip=!0,Q===_K)X.retryFunc=async(Z,Y,V)=>{return BQ("AnkrProvider"),!0};return X}getRpcError($,Q){if($.method==="eth_sendRawTransaction"){if(Q&&Q.error&&Q.error.message==="INTERNAL_ERROR: could not replace existing tx")Q.error.message="replacement transaction underpriced"}return super.getRpcError($,Q)}isCommunityResource(){return this.apiKey===_K}}});function wI($){switch($){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}b(!1,"unsupported network","network",$)}var wK="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",AY;var A4=G0(()=>{d0();MY();XX();xX();AY=class AY extends v${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=wK;let Z=AY.getRequest(X,Q);super(Z,X,{staticNetwork:X});I0(this,{apiKey:Q})}_getProvider($){try{return new AY($,this.apiKey)}catch(Q){}return super._getProvider($)}async _perform($){if($.method==="getTransactionResult"){let{trace:Q,tx:X}=await _$({trace:this.send("trace_transaction",[$.hash]),tx:this.getTransaction($.hash)});if(Q==null||X==null)return null;let Z,Y=!1;try{Z=Q[0].result.output,Y=Q[0].error==="Reverted"}catch(V){}if(Z)return J0(!Y,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:Z,reason:null,transaction:X,invocation:null,revert:null}),Z;J0(!1,"could not parse trace result","BAD_DATA",{value:Q})}return await super._perform($)}isCommunityResource(){return this.apiKey===wK}static getRequest($,Q){if(Q==null)Q=wK;let X=new M$(`https://${wI($.name)}/v2/${Q}`);if(X.allowGzip=!0,Q===wK)X.retryFunc=async(Z,Y,V)=>{return BQ("alchemy"),!0};return X}}});function xK($){switch($){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}b(!1,"unsupported network","network",$)}function xI($){switch($){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}b(!1,"unsupported network","network",$)}var FY;var F4=G0(()=>{d0();MY();XX();xX();FY=class FY extends v${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=xK(X.name);let Z=FY.getRequest(X,Q);super(Z,X,{staticNetwork:X});I0(this,{apiKey:Q})}_getProvider($){try{return new FY($,this.apiKey)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.apiKey===xK(this._network.name)}static getRequest($,Q){if(Q==null)Q=xK($.name);let X=new M$(`https://${xI($.name)}/${Q}`);if(X.allowGzip=!0,Q===xK($.name))X.retryFunc=async(Z,Y,V)=>{return BQ("ChainstackProvider"),!0};return X}}});var C8;var T4=G0(()=>{d0();XX();xX();C8=class C8 extends v${constructor($){if($==null)$="mainnet";let Q=Y$.from($);b(Q.name==="mainnet","unsupported network","network",$);super("https://cloudflare-eth.com/",Q,{staticNetwork:Q})}}});function kI($){return $&&typeof $.then==="function"}var TL=2000,RL="org.ethers.plugins.provider.Etherscan",uG,fI,vI=1,A8;var R4=G0(()=>{kG();ZV();tQ();d0();mG();XX();RK();MY();uG=class uG extends tX{baseUrl;constructor($){super(RL);I0(this,{baseUrl:$})}clone(){return new uG(this.baseUrl)}};fI=["enableCcipRead"];A8=class A8 extends eX{network;apiKey;#$;constructor($,Q){let X=Q!=null?Q:null;super();let Z=Y$.from($);this.#$=Z.getPlugin(RL),I0(this,{apiKey:X,network:Z})}getBaseUrl(){if(this.#$)return this.#$.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}b(!1,"unsupported network","network",this.network)}getUrl($,Q){let X=Object.keys(Q).reduce((Z,Y)=>{let V=Q[Y];if(V!=null)Z+=`&${Y}=${V}`;return Z},"");if(this.apiKey)X+=`&apikey=${this.apiKey}`;return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${$}${X}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData($,Q){return Q.module=$,Q.apikey=this.apiKey,Q.chainid=this.network.chainId,Q}async detectNetwork(){return this.network}async fetch($,Q,X){let Z=vI++,Y=X?this.getPostUrl():this.getUrl($,Q),V=X?this.getPostData($,Q):null;this.emit("debug",{action:"sendRequest",id:Z,url:Y,payload:V});let G=new M$(Y);if(G.setThrottleParams({slotInterval:1000}),G.retryFunc=(A,F,C)=>{if(this.isCommunityResource())BQ("Etherscan");return Promise.resolve(!0)},G.processFunc=async(A,F)=>{let C=F.hasBody()?JSON.parse(dQ(F.body)):{},q=(typeof C.result==="string"?C.result:"").toLowerCase().indexOf("rate limit")>=0;if($==="proxy"){if(C&&C.status==0&&C.message=="NOTOK"&&q)this.emit("debug",{action:"receiveError",id:Z,reason:"proxy-NOTOK",error:C}),F.throwThrottleError(C.result,TL)}else if(q)this.emit("debug",{action:"receiveError",id:Z,reason:"null result",error:C.result}),F.throwThrottleError(C.result,TL);return F},V)G.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),G.body=Object.keys(V).map((A)=>`${A}=${V[A]}`).join("&");let z=await G.send();try{z.assertOk()}catch(A){this.emit("debug",{action:"receiveError",id:Z,error:A,reason:"assertOk"}),J0(!1,"response error","SERVER_ERROR",{request:G,response:z})}if(!z.hasBody())this.emit("debug",{action:"receiveError",id:Z,error:"missing body",reason:"null body"}),J0(!1,"missing response","SERVER_ERROR",{request:G,response:z});let L=JSON.parse(dQ(z.body));if($==="proxy"){if(L.jsonrpc!="2.0")this.emit("debug",{action:"receiveError",id:Z,result:L,reason:"invalid JSON-RPC"}),J0(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:G,response:z,info:{result:L}});if(L.error)this.emit("debug",{action:"receiveError",id:Z,result:L,reason:"JSON-RPC error"}),J0(!1,"error response","SERVER_ERROR",{request:G,response:z,info:{result:L}});return this.emit("debug",{action:"receiveRequest",id:Z,result:L}),L.result}else{if(L.status==0&&(L.message==="No records found"||L.message==="No transactions found"))return this.emit("debug",{action:"receiveRequest",id:Z,result:L}),L.result;if(L.status!=1||typeof L.message==="string"&&!L.message.match(/^OK/))this.emit("debug",{action:"receiveError",id:Z,result:L}),J0(!1,"error response","SERVER_ERROR",{request:G,response:z,info:{result:L}});return this.emit("debug",{action:"receiveRequest",id:Z,result:L}),L.result}}_getTransactionPostData($){let Q={};for(let X in $){if(fI.indexOf(X)>=0)continue;if($[X]==null)continue;let Z=$[X];if(X==="type"&&Z===0)continue;if(X==="blockTag"&&Z==="latest")continue;if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[X])Z=$Q(Z);else if(X==="accessList")Z="["+IQ(Z).map((Y)=>{return`{address:"${Y.address}",storageKeys:["${Y.storageKeys.join('","')}"]}`}).join(",")+"]";else if(X==="blobVersionedHashes"){if(Z.length===0)continue;J0(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:$}})}else Z=O0(Z);Q[X]=Z}return Q}_checkError($,Q,X){let Z="";if(q$(Q,"SERVER_ERROR")){try{Z=Q.info.result.error.message}catch(Y){}if(!Z)try{Z=Q.info.message}catch(Y){}}if($.method==="estimateGas"){if(!Z.match(/revert/i)&&Z.match(/insufficient funds/i))J0(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.transaction})}if($.method==="call"||$.method==="estimateGas"){if(Z.match(/execution reverted/i)){let Y="";try{Y=Q.info.result.error.data}catch(G){}let V=LX.getBuiltinCallException($.method,$.transaction,Y);throw V.info={request:$,error:Q},V}}if(Z){if($.method==="broadcastTransaction"){let Y=a$.from($.signedTransaction);if(Z.match(/replacement/i)&&Z.match(/underpriced/i))J0(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Y});if(Z.match(/insufficient funds/))J0(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Y});if(Z.match(/same hash was already imported|transaction nonce is too low|nonce too low/))J0(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:Y})}}throw Q}async _detectNetwork(){return this.network}async _perform($){switch($.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";else if(this.network.name==="optimism")return"1000000";else throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:$.address,tag:$.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:$.address,tag:$.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:$.address,tag:$.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:$.address,position:$.position,tag:$.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:$.signedTransaction},!0).catch((Q)=>{return this._checkError($,Q,$.signedTransaction)});case"getBlock":if("blockTag"in $)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:$.blockTag,boolean:$.includeTransactions?"true":"false"});J0(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:$.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:$.hash});case"call":{if($.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let Q=this._getTransactionPostData($.transaction);Q.module="proxy",Q.action="eth_call";try{return await this.fetch("proxy",Q,!0)}catch(X){return this._checkError($,X,$.transaction)}}case"estimateGas":{let Q=this._getTransactionPostData($.transaction);Q.module="proxy",Q.action="eth_estimateGas";try{return await this.fetch("proxy",Q,!0)}catch(X){return this._checkError($,X,$.transaction)}}default:break}return super._perform($)}async getNetwork(){return this.network}async getEtherPrice(){if(this.network.name!=="mainnet")return 0;return parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract($){let Q=this._getAddress($);if(kI(Q))Q=await Q;try{let X=await this.fetch("contract",{action:"getabi",address:Q}),Z=JSON.parse(X);return new MX(Q,Z,this)}catch(X){return null}}isCommunityResource(){return this.apiKey==null}}});function gI(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}var PL;var EL=G0(()=>{PL=gI().WebSocket});class HJ{#$;#Q;get filter(){return JSON.parse(this.#Q)}#X;#Z;#Y;constructor($,Q){this.#$=$,this.#Q=JSON.stringify(Q),this.#X=null,this.#Z=null,this.#Y=null}start(){this.#X=this.#$.send("eth_subscribe",this.filter).then(($)=>{return this.#$._register($,this),$})}stop(){this.#X.then(($)=>{if(this.#$.destroyed)return;this.#$.send("eth_unsubscribe",[$])}),this.#X=null}pause($){J0($,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#Z=!!$}resume(){this.#Z=null}_handleMessage($){if(this.#X==null)return;if(this.#Z===null){let Q=this.#Y;if(Q==null)Q=this._emit(this.#$,$);else Q=Q.then(async()=>{await this._emit(this.#$,$)});this.#Y=Q.then(()=>{if(this.#Y===Q)this.#Y=null})}}async _emit($,Q){throw new Error("sub-classes must implemente this; _emit")}}var dG,lG,oG,F8;var kK=G0(()=>{mG();d0();xX();dG=class dG extends HJ{constructor($){super($,["newHeads"])}async _emit($,Q){$.emit("block",parseInt(Q.number))}};lG=class lG extends HJ{constructor($){super($,["newPendingTransactions"])}async _emit($,Q){$.emit("pending",Q)}};oG=class oG extends HJ{#$;get logFilter(){return JSON.parse(this.#$)}constructor($,Q){super($,["logs",Q]);this.#$=JSON.stringify(Q)}async _emit($,Q){$.emit(this.logFilter,$._wrapLog(Q,$._network))}};F8=class F8 extends zJ{#$;#Q;#X;constructor($,Q){let X=Object.assign({},Q!=null?Q:{});if(b(X.batchMaxCount==null||X.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",Q),X.batchMaxCount=1,X.staticNetwork==null)X.staticNetwork=!0;super($,X);this.#$=new Map,this.#Q=new Map,this.#X=new Map}_getSubscriber($){switch($.type){case"close":return new TZ("close");case"block":return new dG(this);case"pending":return new lG(this);case"event":return new oG(this,$.filter);case"orphan":if($.filter.orphan==="drop-log")return new TZ("drop-log")}return super._getSubscriber($)}_register($,Q){this.#Q.set($,Q);let X=this.#X.get($);if(X){for(let Z of X)Q._handleMessage(Z);this.#X.delete($)}}async _send($){b(!Array.isArray($),"WebSocket does not support batch send","payload",$);let Q=new Promise((X,Z)=>{this.#$.set($.id,{payload:$,resolve:X,reject:Z})});return await this._waitUntilReady(),await this._write(JSON.stringify($)),[await Q]}async _processMessage($){let Q=JSON.parse($);if(Q&&typeof Q==="object"&&"id"in Q){let X=this.#$.get(Q.id);if(X==null){this.emit("error",V$("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:Q}));return}this.#$.delete(Q.id),X.resolve(Q)}else if(Q&&Q.method==="eth_subscription"){let X=Q.params.subscription,Z=this.#Q.get(X);if(Z)Z._handleMessage(Q.params.result);else{let Y=this.#X.get(X);if(Y==null)Y=[],this.#X.set(X,Y);Y.push(Q.params.result)}}else{this.emit("error",V$("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:Q}));return}}async _write($){throw new Error("sub-classes must override this")}}});var TY;var fK=G0(()=>{EL();kK();TY=class TY extends F8{#$;#Q;get websocket(){if(this.#Q==null)throw new Error("websocket closed");return this.#Q}constructor($,Q,X){super(Q,X);if(typeof $==="string")this.#$=()=>{return new PL($)},this.#Q=this.#$();else if(typeof $==="function")this.#$=$,this.#Q=$();else this.#$=null,this.#Q=$;this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(Z){console.log("failed to start WebsocketProvider",Z)}},this.websocket.onmessage=(Z)=>{this._processMessage(Z.data)}}async _write($){this.websocket.send($)}async destroy(){if(this.#Q!=null)this.#Q.close(),this.#Q=null;super.destroy()}}});function yI($){switch($){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}b(!1,"unsupported network","network",$)}var GV="84842078b09946638c03157f83405213",nG,bZ;var P4=G0(()=>{d0();MY();XX();xX();fK();nG=class nG extends TY{projectId;projectSecret;constructor($,Q){let X=new bZ($,Q),Z=X._getConnection();J0(!Z.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let Y=Z.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(Y,X._network);I0(this,{projectId:X.projectId,projectSecret:X.projectSecret})}isCommunityResource(){return this.projectId===GV}};bZ=class bZ extends v${projectId;projectSecret;constructor($,Q,X){if($==null)$="mainnet";let Z=Y$.from($);if(Q==null)Q=GV;if(X==null)X=null;let Y=bZ.getRequest(Z,Q,X);super(Y,Z,{staticNetwork:Z});I0(this,{projectId:Q,projectSecret:X})}_getProvider($){try{return new bZ($,this.projectId,this.projectSecret)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.projectId===GV}static getWebSocketProvider($,Q){return new nG($,Q)}static getRequest($,Q,X){if(Q==null)Q=GV;if(X==null)X=null;let Z=new M$(`https://${yI($.name)}/v3/${Q}`);if(Z.allowGzip=!0,X)Z.setCredentials("",X);if(Q===GV)Z.retryFunc=async(Y,V,G)=>{return BQ("InfuraProvider"),!0};return Z}}});function hI($){switch($){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}b(!1,"unsupported network","network",$)}var vK="919b412a057b5e9c9b6dce193c5a60242d6efadb",RY;var E4=G0(()=>{d0();MY();XX();xX();RY=class RY extends v${token;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=vK;let Z=RY.getRequest(X,Q);super(Z,X,{staticNetwork:X});I0(this,{token:Q})}_getProvider($){try{return new RY($,this.token)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.token===vK}static getRequest($,Q){if(Q==null)Q=vK;let X=new M$(`https://${hI($.name)}/${Q}`);if(X.allowGzip=!0,Q===vK)X.retryFunc=async(Z,Y,V)=>{return BQ("QuickNodeProvider"),!0};return X}}});function mI($){for(let Q=$.length-1;Q>0;Q--){let X=Math.floor(Math.random()*(Q+1)),Z=$[Q];$[Q]=$[X],$[X]=Z}}function cI($){return new Promise((Q)=>{setTimeout(Q,$)})}function B4(){return new Date().getTime()}function I4($){return JSON.stringify($,(Q,X)=>{if(typeof X==="bigint")return{type:"bigint",value:X.toString()};return X})}async function uI($,Q){while($.blockNumber<0||$.blockNumber<Q){if(!$._updateNumber)$._updateNumber=(async()=>{try{let X=await $.provider.getBlockNumber();if(X>$.blockNumber)$.blockNumber=X}catch(X){$.blockNumber=-2,$._lastFatalError=X,$._lastFatalErrorTimestamp=B4()}$._updateNumber=null})();if(await $._updateNumber,$.outOfSync++,$._lastFatalError)break}}function sG($){if($==null)return"null";if(Array.isArray($))return"["+$.map(sG).join(",")+"]";if(typeof $==="object"&&typeof $.toJSON==="function")return sG($.toJSON());switch(typeof $){case"boolean":case"symbol":return $.toString();case"bigint":case"number":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{let Q=Object.keys($);return Q.sort(),"{"+Q.map((X)=>`${JSON.stringify(X)}:${sG($[X])}`).join(",")+"}"}}throw console.log("Could not serialize",$),new Error("Hmm...")}function S4($,Q){if("error"in Q){let Z=Q.error,Y;if(q$(Z,"CALL_EXCEPTION"))Y=sG(Object.assign({},Z,{shortMessage:void 0,reason:void 0,info:void 0}));else Y=sG(Z);return{tag:Y,value:Z}}let X=Q.result;return{tag:sG(X),value:X}}function gK($,Q){let X=new Map;for(let{value:Y,tag:V,weight:G}of Q){let z=X.get(V)||{value:Y,weight:0};z.weight+=G,X.set(V,z)}let Z=null;for(let Y of X.values())if(Y.weight>=$&&(!Z||Y.weight>Z.weight))Z=Y;if(Z)return Z.value;return}function j4($,Q){let X=0,Z=new Map,Y=null,V=[];for(let{value:z,tag:L,weight:A}of Q)if(z instanceof Error){let F=Z.get(L)||{value:z,weight:0};if(F.weight+=A,Z.set(L,F),Y==null||F.weight>Y.weight)Y=F}else V.push(BigInt(z)),X+=A;if(X<$){if(Y&&Y.weight>=$)return Y.value;return}V.sort((z,L)=>z<L?-1:L>z?1:0);let G=Math.floor(V.length/2);if(V.length%2)return V[G];return(V[G-1]+V[G]+bI)/pI}function N4($,Q){let X=gK($,Q);if(X!==void 0)return X;for(let Z of Q)if(Z.value)return Z.value;return}function dI($,Q){if($===1)return n0(j4($,Q),"%internal");let X=new Map,Z=(G,z)=>{let L=X.get(G)||{result:G,weight:0};L.weight+=z,X.set(G,L)};for(let{weight:G,value:z}of Q){let L=n0(z);Z(L-1,G),Z(L,G),Z(L+1,G)}let Y=0,V=void 0;for(let{weight:G,result:z}of X.values())if(G>=$&&(G>Y||V!=null&&G===Y&&z>V))Y=G,V=z;return V}var bI,pI,IL,SL,T8;var _4=G0(()=>{d0();mG();XX();bI=BigInt("1"),pI=BigInt("2");IL={stallTimeout:400,priority:1,weight:1},SL={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};T8=class T8 extends eX{quorum;eventQuorum;eventWorkers;#$;#Q;#X;constructor($,Q,X){super(Q,X);if(this.#$=$.map((Z)=>{if(Z instanceof eX)return Object.assign({provider:Z},IL,SL);else return Object.assign({},IL,Z,SL)}),this.#Q=-2,this.#X=null,X&&X.quorum!=null)this.quorum=X.quorum;else this.quorum=Math.ceil(this.#$.reduce((Z,Y)=>{return Z+=Y.weight,Z},0)/2);this.eventQuorum=1,this.eventWorkers=1,b(this.quorum<=this.#$.reduce((Z,Y)=>Z+Y.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#$.map(($)=>{let Q=Object.assign({},$);for(let X in Q)if(X[0]==="_")delete Q[X];return Q})}async _detectNetwork(){return Y$.from(m0(await this._perform({method:"chainId"})))}async _translatePerform($,Q){switch(Q.method){case"broadcastTransaction":return await $.broadcastTransaction(Q.signedTransaction);case"call":return await $.call(Object.assign({},Q.transaction,{blockTag:Q.blockTag}));case"chainId":return(await $.getNetwork()).chainId;case"estimateGas":return await $.estimateGas(Q.transaction);case"getBalance":return await $.getBalance(Q.address,Q.blockTag);case"getBlock":{let X="blockHash"in Q?Q.blockHash:Q.blockTag;return await $.getBlock(X,Q.includeTransactions)}case"getBlockNumber":return await $.getBlockNumber();case"getCode":return await $.getCode(Q.address,Q.blockTag);case"getGasPrice":return(await $.getFeeData()).gasPrice;case"getPriorityFee":return(await $.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await $.getLogs(Q.filter);case"getStorage":return await $.getStorage(Q.address,Q.position,Q.blockTag);case"getTransaction":return await $.getTransaction(Q.hash);case"getTransactionCount":return await $.getTransactionCount(Q.address,Q.blockTag);case"getTransactionReceipt":return await $.getTransactionReceipt(Q.hash);case"getTransactionResult":return await $.getTransactionResult(Q.hash)}}#Z($){let Q=Array.from($).map((Z)=>Z.config),X=this.#$.slice();mI(X),X.sort((Z,Y)=>Z.priority-Y.priority);for(let Z of X){if(Z._lastFatalError)continue;if(Q.indexOf(Z)===-1)return Z}return null}#Y($,Q){let X=this.#Z($);if(X==null)return null;let Z={config:X,result:null,didBump:!1,perform:null,staller:null},Y=B4();return Z.perform=(async()=>{try{X.requests++;let G=await this._translatePerform(X.provider,Q);Z.result={result:G}}catch(G){X.errorResponses++,Z.result={error:G}}let V=B4()-Y;X._totalTime+=V,X.rollingDuration=0.95*X.rollingDuration+0.05*V,Z.perform=null})(),Z.staller=(async()=>{await cI(X.stallTimeout),Z.staller=null})(),$.add(Z),Z}async#G(){let $=this.#X;if(!$){let Q=[];this.#$.forEach((X)=>{Q.push((async()=>{if(await uI(X,0),!X._lastFatalError)X._network=await X.provider.getNetwork()})())}),this.#X=$=(async()=>{await Promise.all(Q);let X=null;for(let Z of this.#$){if(Z._lastFatalError)continue;let Y=Z._network;if(X==null)X=Y.chainId;else if(Y.chainId!==X)J0(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await $}async#J($,Q){let X=[];for(let Z of $)if(Z.result!=null){let{tag:Y,value:V}=S4(Q.method,Z.result);X.push({tag:Y,value:V,weight:Z.config.weight})}if(X.reduce((Z,Y)=>Z+Y.weight,0)<this.quorum)return;switch(Q.method){case"getBlockNumber":{if(this.#Q===-2)this.#Q=Math.ceil(n0(j4(this.quorum,this.#$.filter((Y)=>!Y._lastFatalError).map((Y)=>({value:Y.blockNumber,tag:n0(Y.blockNumber).toString(),weight:Y.weight})))));let Z=dI(this.quorum,X);if(Z===void 0)return;if(Z>this.#Q)this.#Q=Z;return this.#Q}case"getGasPrice":case"getPriorityFee":case"estimateGas":return j4(this.quorum,X);case"getBlock":if("blockTag"in Q&&Q.blockTag==="pending")return N4(this.quorum,X);return gK(this.quorum,X);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return gK(this.quorum,X);case"broadcastTransaction":return N4(this.quorum,X)}J0(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${I4(Q.method)})`})}async#W($,Q){if($.size===0)throw new Error("no runners?!");let X=[],Z=0;for(let V of $){if(V.perform)X.push(V.perform);if(V.staller){X.push(V.staller);continue}if(V.didBump)continue;V.didBump=!0,Z++}let Y=await this.#J($,Q);if(Y!==void 0){if(Y instanceof Error)throw Y;return Y}for(let V=0;V<Z;V++)this.#Y($,Q);return J0(X.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:Q,results:Array.from($).map((V)=>I4(V.result))}}),await Promise.race(X),await this.#W($,Q)}async _perform($){if($.method==="broadcastTransaction"){let Y=this.#$.map((z)=>null),V=this.#$.map(async({provider:z,weight:L},A)=>{try{let F=await z._perform($);Y[A]=Object.assign(S4($.method,{result:F}),{weight:L})}catch(F){Y[A]=Object.assign(S4($.method,{error:F}),{weight:L})}});while(!0){let z=Y.filter((F)=>F!=null);for(let{value:F}of z)if(!(F instanceof Error))return F;let L=gK(this.quorum,Y.filter((F)=>F!=null));if(q$(L,"INSUFFICIENT_FUNDS"))throw L;let A=V.filter((F,C)=>Y[C]==null);if(A.length===0)break;await Promise.race(A)}let G=N4(this.quorum,Y);if(J0(G!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:$,results:Y.map(I4)}}),G instanceof Error)throw G;return G}await this.#G();let Q=new Set,X=0;while(!0){let Y=this.#Y(Q,$);if(Y==null)break;if(X+=Y.config.weight,X>=this.quorum)break}let Z=await this.#W(Q,$);for(let Y of Q)if(Y.perform&&Y.result==null)Y.config.lateResponses++;return Z}async destroy(){for(let{provider:$}of this.#$)$.destroy();super.destroy()}}});function lI($){return $&&typeof $.send==="function"&&typeof $.close==="function"}function yK($,Q){if(Q==null)Q={};let X=(G)=>{if(Q[G]==="-")return!1;if(typeof Q.exclusive==="string")return G===Q.exclusive;if(Array.isArray(Q.exclusive))return Q.exclusive.indexOf(G)!==-1;return!0};if(typeof $==="string"&&$.match(/^https?:/))return new v$($);if(typeof $==="string"&&$.match(/^wss?:/)||lI($))return new TY($);let Z=null;try{Z=Y$.from($)}catch(G){}let Y=[];if(X("publicPolygon")&&Z){if(Z.name==="matic")Y.push(new v$("https://polygon-rpc.com/",Z,{staticNetwork:Z}));else if(Z.name==="matic-amoy")Y.push(new v$("https://rpc-amoy.polygon.technology/",Z,{staticNetwork:Z}))}if(X("alchemy"))try{Y.push(new AY($,Q.alchemy))}catch(G){}if(X("ankr")&&Q.ankr!=null)try{Y.push(new CY($,Q.ankr))}catch(G){}if(X("chainstack"))try{Y.push(new FY($,Q.chainstack))}catch(G){}if(X("cloudflare"))try{Y.push(new C8($))}catch(G){}if(X("etherscan"))try{Y.push(new A8($,Q.etherscan))}catch(G){}if(X("infura"))try{let G=Q.infura,z=void 0;if(typeof G==="object")z=G.projectSecret,G=G.projectId;Y.push(new bZ($,G,z))}catch(G){}if(X("quicknode"))try{let G=Q.quicknode;Y.push(new RY($,G))}catch(G){}if(J0(Y.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),Y.length===1)return Y[0];let V=Math.floor(Y.length/2);if(V>2)V=2;if(Z&&oI.indexOf(Z.name)!==-1)V=1;if(Q&&Q.quorum)V=Q.quorum;return new T8(Y,void 0,{quorum:V})}var oI;var NL=G0(()=>{d0();C4();A4();F4();T4();R4();P4();E4();_4();xX();XX();fK();oI="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ")});var iG;var BL=G0(()=>{d0();NK();iG=class iG extends $Z{signer;#$;#Q;constructor($){super($.provider);I0(this,{signer:$}),this.#$=null,this.#Q=0}async getAddress(){return this.signer.getAddress()}connect($){return new iG(this.signer.connect($))}async getNonce($){if($==="pending"){if(this.#$==null)this.#$=super.getNonce("pending");let Q=this.#Q;return await this.#$+Q}return super.getNonce($)}increment(){this.#Q++}reset(){this.#Q=0,this.#$=null}async sendTransaction($){let Q=this.getNonce("pending");return this.increment(),$=await this.signer.populateTransaction($),$.nonce=await Q,await this.signer.sendTransaction($)}signTransaction($){return this.signer.signTransaction($)}signMessage($){return this.signer.signMessage($)}signTypedData($,Q,X){return this.signer.signTypedData($,Q,X)}}});var pZ;var jL=G0(()=>{d0();xX();pZ=class pZ extends jK{#$;#Q;constructor($,Q,X){let Z=Object.assign({},X!=null?X:{},{batchMaxCount:1});b($&&$.request,"invalid EIP-1193 provider","ethereum",$);super(Q,Z);if(this.#Q=null,X&&X.providerInfo)this.#Q=X.providerInfo;this.#$=async(Y,V)=>{let G={method:Y,params:V};this.emit("debug",{action:"sendEip1193Request",payload:G});try{let z=await $.request(G);return this.emit("debug",{action:"receiveEip1193Result",result:z}),z}catch(z){let L=new Error(z.message);throw L.code=z.code,L.data=z.data,L.payload=G,this.emit("debug",{action:"receiveEip1193Error",error:L}),L}}}get providerInfo(){return this.#Q}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){b(!Array.isArray($),"EIP-1193 does not support batch request","payload",$);try{let Q=await this.#$($.method,$.params||[]);return[{id:$.id,result:Q}]}catch(Q){return[{id:$.id,error:{code:Q.code,data:Q.data,message:Q.message}}]}}getRpcError($,Q){switch(Q=JSON.parse(JSON.stringify(Q)),Q.error.code||-1){case 4001:Q.error.message=`ethers-user-denied: ${Q.error.message}`;break;case 4200:Q.error.message=`ethers-unsupported: ${Q.error.message}`;break}return super.getRpcError($,Q)}async hasSigner($){if($==null)$=0;let Q=await this.send("eth_accounts",[]);if(typeof $==="number")return Q.length>$;return $=$.toLowerCase(),Q.filter((X)=>X.toLowerCase()===$).length!==0}async getSigner($){if($==null)$=0;if(!await this.hasSigner($))try{await this.#$("eth_requestAccounts",[])}catch(Q){let X=Q.payload;throw this.getRpcError(X,{id:X.id,error:Q})}return await super.getSigner($)}static async discover($){if($==null)$={};if($.provider)return new pZ($.provider);let Q=$.window?$.window:typeof window!=="undefined"?window:null;if(Q==null)return null;let X=$.anyProvider;if(X&&Q.ethereum)return new pZ(Q.ethereum);if(!(("addEventListener"in Q)&&("dispatchEvent"in Q)&&("removeEventListener"in Q)))return null;let Z=$.timeout?$.timeout:300;if(Z===0)return null;return await new Promise((Y,V)=>{let G=[],z=(F)=>{if(G.push(F.detail),X)L()},L=()=>{if(clearTimeout(A),G.length)if($&&$.filter){let F=$.filter(G.map((C)=>Object.assign({},C.info)));if(F==null)Y(null);else if(F instanceof pZ)Y(F);else{let C=null;if(F.uuid)C=G.filter((R)=>F.uuid===R.info.uuid)[0];if(C){let{provider:q,info:R}=C;Y(new pZ(q,void 0,{providerInfo:R}))}else V(V$("filter returned unknown info","UNSUPPORTED_OPERATION",{value:F}))}}else{let{provider:F,info:C}=G[0];Y(new pZ(F,void 0,{providerInfo:C}))}else Y(null);Q.removeEventListener("eip6963:announceProvider",z)},A=setTimeout(()=>{L()},Z);Q.addEventListener("eip6963:announceProvider",z),Q.dispatchEvent(new Event("eip6963:requestProvider"))})}}});function nI($){switch($){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}b(!1,"unsupported network","network",$)}var R8;var _L=G0(()=>{d0();XX();xX();R8=class R8 extends v${apiKey;constructor($,Q){if($==null)$="mainnet";let X=Y$.from($);if(Q==null)Q=null;let Z=R8.getRequest(X);super(Z,X,{staticNetwork:X});I0(this,{apiKey:Q})}_getProvider($){try{return new R8($,this.apiKey)}catch(Q){}return super._getProvider($)}isCommunityResource(){return this.apiKey===null}getRpcRequest($){let Q=super.getRpcRequest($);if(Q&&Q.method==="eth_estimateGas"&&Q.args.length==1)Q.args=Q.args.slice(),Q.args.push("latest");return Q}getRpcError($,Q){let X=Q?Q.error:null;if(X&&X.code===-32015&&!Q$(X.data||"",!0)){let Z={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},Y="";if(X.message==="VM execution error.")Y=Z[X.data]||"";else if(Z[X.message||""])Y=Z[X.message||""];if(Y)X.message+=` (reverted: ${X.data})`,X.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+Y}else if(X&&X.code===-32000){if(X.message==="wrong transaction nonce")X.message+=" (nonce too low)"}return super.getRpcError($,Q)}static getRequest($){let Q=new M$(nI($.name));return Q.allowGzip=!0,Q}}});function sI($){switch($){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}b(!1,"unsupported network","network",$)}var hK="62e1ad51b37b8e00394bda3b",P8;var wL=G0(()=>{d0();MY();XX();xX();P8=class P8 extends v${applicationId;applicationSecret;constructor($,Q,X){if($==null)$="mainnet";let Z=Y$.from($);if(Q==null)Q=hK;if(X==null)X=null;let Y={staticNetwork:Z},V=P8.getRequest(Z,Q,X);super(V,Z,Y);I0(this,{applicationId:Q,applicationSecret:X})}_getProvider($){try{return new P8($,this.applicationId,this.applicationSecret)}catch(Q){}return super._getProvider($)}static getRequest($,Q,X){if(Q==null)Q=hK;let Z=new M$(`https://${sI($.name)}/v1/lb/${Q}`);if(Z.allowGzip=!0,X)Z.setCredentials("",X);if(Q===hK)Z.retryFunc=async(Y,V,G)=>{return BQ("PocketProvider"),!0};return Z}isCommunityResource(){return this.applicationId===hK}}});var bK=void 0;var xL=()=>{};var pK=G0(()=>{mG();NK();MY();NL();Q4();XX();BL();RK();vG();_4();xX();jL();A4();_L();C4();T4();F4();R4();P4();wL();E4();xL();kK();fK();kK()});var mZ;var mK=G0(()=>{r$();hZ();pK();tQ();d0();mZ=class mZ extends $Z{address;#$;constructor($,Q){super(Q);b($&&typeof $.sign==="function","invalid private key","privateKey","[ REDACTED ]"),this.#$=$;let X=nX(this.signingKey.publicKey);I0(this,{address:X})}get signingKey(){return this.#$}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect($){return new mZ(this.#$,$)}async signTransaction($){$=jX($);let{to:Q,from:X}=await _$({to:$.to?k$($.to,this):void 0,from:$.from?k$($.from,this):void 0});if(Q!=null)$.to=Q;if(X!=null)$.from=X;if($.from!=null)b(s0($.from)===this.address,"transaction from address mismatch","tx.from",$.from),delete $.from;let Z=a$.from($);return Z.signature=this.signingKey.sign(Z.unsignedHash),Z.serialized}async signMessage($){return this.signMessageSync($)}signMessageSync($){return this.signingKey.sign(V8($)).serialized}authorizeSync($){b(typeof $.address==="string","invalid address for authorizeSync","auth.address",$);let Q=this.signingKey.sign(J8($));return Object.assign({},{address:s0($.address),nonce:m0($.nonce||0),chainId:m0($.chainId||0)},{signature:Q})}async authorize($){return $=Object.assign({},$,{address:await k$($.address,this)}),this.authorizeSync(await this.populateAuthorization($))}async signTypedData($,Q,X){let Z=await n$.resolveNames($,Q,X,async(Y)=>{J0(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:Y}});let V=await this.provider.resolveName(Y);return J0(V!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:Y}),V});return this.signingKey.sign(n$.hash(Z.domain,Q,Z.value)).serialized}}});function kL($,Q){let X=97;return $.reduce((Z,Y)=>{if(Y===Q)X++;else if(Y.match(iI))Z.push(String.fromCharCode(X)+Y);else X=97,Z.push(Y);return Z},[])}function rI($,Q){for(let Y=cK.length-1;Y>=0;Y--)$=$.split(cK[Y]).join(Q.substring(2*Y,2*Y+2));let X=[],Z=$.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(Y,V,G,z)=>{if(G)for(let L=parseInt(G);L>=0;L--)X.push(";");else X.push(V.toLowerCase());return""});if(Z)throw new Error(`leftovers: ${JSON.stringify(Z)}`);return kL(kL(X,";"),":")}function uK($){return b($[0]==="0","unsupported auwl data","data",$),rI($.substring(1+2*cK.length),$.substring(1,1+2*cK.length))}var cK=" !#$%&'()*+,-./<=>?@[]^_`{|}~",iI;var w4=G0(()=>{d0();iI=/^[a-z]*$/i});class E8{locale;constructor($){I0(this,{locale:$})}split($){return $.toLowerCase().split(/\s+/g)}join($){return $.join(" ")}}var x4=G0(()=>{d0()});var PY;var dK=G0(()=>{hZ();d0();w4();x4();PY=class PY extends E8{#$;#Q;constructor($,Q,X){super($);this.#$=Q,this.#Q=X,this.#X=null}get _data(){return this.#$}_decodeWords(){return uK(this.#$)}#X;#Z(){if(this.#X==null){let $=this._decodeWords();if(NQ($.join(`
`)+`
`)!==this.#Q)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#X=$}return this.#X}getWord($){let Q=this.#Z();return b($>=0&&$<Q.length,`invalid word index: ${$}`,"index",$),Q[$]}getWordIndex($){return this.#Z().indexOf($)}}});var aI="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",tI="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",k4=null,ZX;var WV=G0(()=>{dK();ZX=class ZX extends PY{constructor(){super("en",aI,tI)}static wordlist(){if(k4==null)k4=new ZX;return k4}}});function fL($){return(1<<$)-1<<8-$&255}function eI($){return(1<<$)-1&255}function f4($,Q){if(oY("NFKD"),Q==null)Q=ZX.wordlist();let X=Q.split($);b(X.length%3===0&&X.length>=12&&X.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let Z=new Uint8Array(Math.ceil(11*X.length/8)),Y=0;for(let A=0;A<X.length;A++){let F=Q.getWordIndex(X[A].normalize("NFKD"));b(F>=0,`invalid mnemonic word at index ${A}`,"mnemonic","[ REDACTED ]");for(let C=0;C<11;C++){if(F&1<<10-C)Z[Y>>3]|=1<<7-Y%8;Y++}}let V=32*X.length/3,G=X.length/3,z=fL(G),L=M0(d$(Z.slice(0,V/8)))[0]&z;return b(L===(Z[Z.length-1]&z),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),O0(Z.slice(0,V/8))}function v4($,Q){if(b($.length%4===0&&$.length>=16&&$.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),Q==null)Q=ZX.wordlist();let X=[0],Z=11;for(let G=0;G<$.length;G++)if(Z>8)X[X.length-1]<<=8,X[X.length-1]|=$[G],Z-=8;else X[X.length-1]<<=Z,X[X.length-1]|=$[G]>>8-Z,X.push($[G]&eI(8-Z)),Z+=3;let Y=$.length/4,V=parseInt(d$($).substring(2,4),16)&fL(Y);return X[X.length-1]<<=Y,X[X.length-1]|=V>>8-Y,Q.join(X.map((G)=>Q.getWord(G)))}class QZ{phrase;password;wordlist;entropy;constructor($,Q,X,Z,Y){if(Z==null)Z="";if(Y==null)Y=ZX.wordlist();EQ($,g4,"Mnemonic"),I0(this,{phrase:X,password:Z,wordlist:Y,entropy:Q})}computeSeed(){let $=F$("mnemonic"+this.password,"NFKD");return nQ(F$(this.phrase,"NFKD"),$,2048,64,"sha512")}static fromPhrase($,Q,X){let Z=f4($,X);return $=v4(M0(Z),X),new QZ(g4,Z,$,Q,X)}static fromEntropy($,Q,X){let Z=M0($,"entropy"),Y=v4(Z,X);return new QZ(g4,O0(Z),Y,Q,X)}static entropyToPhrase($,Q){let X=M0($,"entropy");return v4(X,Q)}static phraseToEntropy($,Q){return f4($,Q)}static isValidMnemonic($,Q){try{return f4($,Q),!0}catch(X){}return!1}}var g4;var lK=G0(()=>{QQ();d0();WV();g4={}});function h4($){let Q=[];for(let X=0;X<$.length;X+=4)Q.push($[X]<<24|$[X+1]<<16|$[X+2]<<8|$[X+3]);return Q}class sK{get key(){return gQ(this,nK,"f").slice()}constructor($){if(nK.set(this,void 0),ZZ.set(this,void 0),cZ.set(this,void 0),!(this instanceof sK))throw Error("AES must be instanitated with `new`");y4(this,nK,new Uint8Array($),"f");let Q=$S[this.key.length];if(Q==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");y4(this,cZ,[],"f"),y4(this,ZZ,[],"f");for(let A=0;A<=Q;A++)gQ(this,cZ,"f").push([0,0,0,0]),gQ(this,ZZ,"f").push([0,0,0,0]);let X=(Q+1)*4,Z=this.key.length/4,Y=h4(this.key),V;for(let A=0;A<Z;A++)V=A>>2,gQ(this,cZ,"f")[V][A%4]=Y[A],gQ(this,ZZ,"f")[Q-V][A%4]=Y[A];let G=0,z=Z,L;while(z<X){if(L=Y[Z-1],Y[0]^=XZ[L>>16&255]<<24^XZ[L>>8&255]<<16^XZ[L&255]<<8^XZ[L>>24&255]^QS[G]<<24,G+=1,Z!=8)for(let q=1;q<Z;q++)Y[q]^=Y[q-1];else{for(let q=1;q<Z/2;q++)Y[q]^=Y[q-1];L=Y[Z/2-1],Y[Z/2]^=XZ[L&255]^XZ[L>>8&255]<<8^XZ[L>>16&255]<<16^XZ[L>>24&255]<<24;for(let q=Z/2+1;q<Z;q++)Y[q]^=Y[q-1]}let A=0,F,C;while(A<Z&&z<X)F=z>>2,C=z%4,gQ(this,cZ,"f")[F][C]=Y[A],gQ(this,ZZ,"f")[Q-F][C]=Y[A++],z++}for(let A=1;A<Q;A++)for(let F=0;F<4;F++)L=gQ(this,ZZ,"f")[A][F],gQ(this,ZZ,"f")[A][F]=US[L>>24&255]^OS[L>>16&255]^zS[L>>8&255]^HS[L&255]}encrypt($){if($.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let Q=gQ(this,cZ,"f").length-1,X=[0,0,0,0],Z=h4($);for(let G=0;G<4;G++)Z[G]^=gQ(this,cZ,"f")[0][G];for(let G=1;G<Q;G++){for(let z=0;z<4;z++)X[z]=XS[Z[z]>>24&255]^ZS[Z[(z+1)%4]>>16&255]^YS[Z[(z+2)%4]>>8&255]^JS[Z[(z+3)%4]&255]^gQ(this,cZ,"f")[G][z];Z=X.slice()}let Y=new Uint8Array(16),V=0;for(let G=0;G<4;G++)V=gQ(this,cZ,"f")[Q][G],Y[4*G]=(XZ[Z[G]>>24&255]^V>>24)&255,Y[4*G+1]=(XZ[Z[(G+1)%4]>>16&255]^V>>16)&255,Y[4*G+2]=(XZ[Z[(G+2)%4]>>8&255]^V>>8)&255,Y[4*G+3]=(XZ[Z[(G+3)%4]&255]^V)&255;return Y}decrypt($){if($.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let Q=gQ(this,ZZ,"f").length-1,X=[0,0,0,0],Z=h4($);for(let G=0;G<4;G++)Z[G]^=gQ(this,ZZ,"f")[0][G];for(let G=1;G<Q;G++){for(let z=0;z<4;z++)X[z]=GS[Z[z]>>24&255]^WS[Z[(z+3)%4]>>16&255]^VS[Z[(z+2)%4]>>8&255]^KS[Z[(z+1)%4]&255]^gQ(this,ZZ,"f")[G][z];Z=X.slice()}let Y=new Uint8Array(16),V=0;for(let G=0;G<4;G++)V=gQ(this,ZZ,"f")[Q][G],Y[4*G]=(oK[Z[G]>>24&255]^V>>24)&255,Y[4*G+1]=(oK[Z[(G+3)%4]>>16&255]^V>>16)&255,Y[4*G+2]=(oK[Z[(G+2)%4]>>8&255]^V>>8)&255,Y[4*G+3]=(oK[Z[(G+1)%4]&255]^V)&255;return Y}}var gQ=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},y4=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},nK,ZZ,cZ,$S,QS,XZ,oK,XS,ZS,YS,JS,GS,WS,VS,KS,US,OS,zS,HS;var vL=G0(()=>{/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */$S={16:10,24:12,32:14},QS=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],XZ=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],oK=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],XS=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],ZS=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],YS=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],JS=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],GS=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],WS=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],VS=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239000,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],KS=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998000,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],US=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],OS=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],zS=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239000,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],HS=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998000,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];nK=new WeakMap,ZZ=new WeakMap,cZ=new WeakMap});class VV{constructor($,Q,X){if(X&&!(this instanceof X))throw new Error(`${$} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new sK(Q)},name:{enumerable:!0,value:$}})}}var b4=G0(()=>{vL()});var iK=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},rG=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},KV,EY,UV;var gL=G0(()=>{b4();UV=class UV extends VV{constructor($,Q){super("ECC",$,UV);if(KV.set(this,void 0),EY.set(this,void 0),Q){if(Q.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");iK(this,KV,new Uint8Array(Q),"f")}else iK(this,KV,new Uint8Array(16),"f");iK(this,EY,this.iv,"f")}get iv(){return new Uint8Array(rG(this,KV,"f"))}encrypt($){if($.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let Q=new Uint8Array($.length);for(let X=0;X<$.length;X+=16){for(let Z=0;Z<16;Z++)rG(this,EY,"f")[Z]^=$[X+Z];iK(this,EY,this.aes.encrypt(rG(this,EY,"f")),"f"),Q.set(rG(this,EY,"f"),X)}return Q}decrypt($){if($.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let Q=new Uint8Array($.length);for(let X=0;X<$.length;X+=16){let Z=this.aes.decrypt($.subarray(X,X+16));for(let Y=0;Y<16;Y++)Q[X+Y]=Z[Y]^rG(this,EY,"f")[Y],rG(this,EY,"f")[Y]=$[X+Y]}return Q}};KV=new WeakMap,EY=new WeakMap});var aG=function($,Q,X,Z,Y){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Y)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?$!==Q||!Y:!Q.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Y.call($,X):Y?Y.value=X:Q.set($,X),X},YZ=function($,Q,X,Z){if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?$!==Q||!Z:!Q.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Z:X==="a"?Z.call($):Z?Z.value:Q.get($)},OV,I8,JZ,DJ;var yL=G0(()=>{b4();DJ=class DJ extends VV{constructor($,Q){super("CTR",$,DJ);if(OV.set(this,void 0),I8.set(this,void 0),JZ.set(this,void 0),aG(this,JZ,new Uint8Array(16),"f"),YZ(this,JZ,"f").fill(0),aG(this,OV,YZ(this,JZ,"f"),"f"),aG(this,I8,16,"f"),Q==null)Q=1;if(typeof Q==="number")this.setCounterValue(Q);else this.setCounterBytes(Q)}get counter(){return new Uint8Array(YZ(this,JZ,"f"))}setCounterValue($){if(!Number.isInteger($)||$<0||$>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let Q=15;Q>=0;--Q)YZ(this,JZ,"f")[Q]=$%256,$=Math.floor($/256)}setCounterBytes($){if($.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");YZ(this,JZ,"f").set($)}increment(){for(let $=15;$>=0;$--)if(YZ(this,JZ,"f")[$]===255)YZ(this,JZ,"f")[$]=0;else{YZ(this,JZ,"f")[$]++;break}}encrypt($){var Q,X;let Z=new Uint8Array($);for(let Y=0;Y<Z.length;Y++){if(YZ(this,I8,"f")===16)aG(this,OV,this.aes.encrypt(YZ(this,JZ,"f")),"f"),aG(this,I8,0,"f"),this.increment();Z[Y]^=YZ(this,OV,"f")[aG(this,I8,(X=YZ(this,I8,"f"),Q=X++,X),"f"),Q]}return Z}decrypt($){return this.encrypt($)}};OV=new WeakMap,I8=new WeakMap,JZ=new WeakMap});function p4($){if($.length<16)throw new TypeError("PKCS#7 invalid length");let Q=$[$.length-1];if(Q>16)throw new TypeError("PKCS#7 padding byte out of range");let X=$.length-Q;for(let Z=0;Z<Q;Z++)if($[X+Z]!==Q)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array($.subarray(0,X))}var m4=G0(()=>{gL();yL()});function c4($){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;return x$($)}function tG($,Q){$=String($);while($.length<Q)$="0"+$;return $}function S8($){if(typeof $==="string")return F$($,"NFKC");return x$($)}function h$($,Q){let X=Q.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);b(X!=null,"invalid path","path",Q);let Z=X[1],Y=X[3],V=X[4]==="!",G=$;for(let z of Z.toLowerCase().split(".")){if(Array.isArray(G)){if(!z.match(/^[0-9]+$/))break;G=G[parseInt(z)]}else if(typeof G==="object"){let L=null;for(let A in G)if(A.toLowerCase()===z){L=G[A];break}G=L}else G=null;if(G==null)break}if(b(!V||G!=null,"missing required value","path",Z),Y&&G!=null){if(Y==="int"){if(typeof G==="string"&&G.match(/^-?[0-9]+$/))return parseInt(G);else if(Number.isSafeInteger(G))return G}if(Y==="number"){if(typeof G==="string"&&G.match(/^-?[0-9.]*$/))return parseFloat(G)}if(Y==="data"){if(typeof G==="string")return c4(G)}if(Y==="array"&&Array.isArray(G))return G;if(Y===typeof G)return G;b(!1,`wrong type found for ${Y} `,"path",Z)}return G}var u4=G0(()=>{d0()});function N8($){try{let Q=JSON.parse($);if((Q.version!=null?parseInt(Q.version):0)===3)return!0}catch(Q){}return!1}function DS($,Q,X){if(h$($,"crypto.cipher:string")==="aes-128-ctr"){let Y=h$($,"crypto.cipherparams.iv:data!"),V=new DJ(Q,Y);return O0(V.decrypt(X))}J0(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function rK($,Q){let X=M0(Q),Z=h$($,"crypto.ciphertext:data!"),Y=O0(t0(i0([X.slice(16,32),Z]))).substring(2);b(Y===h$($,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let V=DS($,X.slice(0,16),Z),G=nX(V);if($.address){let A=$.address.toLowerCase();if(!A.startsWith("0x"))A="0x"+A;b(s0(A)===G,"keystore address/privateKey mismatch","address",$.address)}let z={address:G,privateKey:V};if(h$($,"x-ethers.version:string")==="0.1"){let A=X.slice(32,64),F=h$($,"x-ethers.mnemonicCiphertext:data!"),C=h$($,"x-ethers.mnemonicCounter:data!"),q=new DJ(A,C);z.mnemonic={path:h$($,"x-ethers.path:string")||bL,locale:h$($,"x-ethers.locale:string")||"en",entropy:O0(M0(q.decrypt(F)))}}return z}function pL($){let Q=h$($,"crypto.kdf:string");if(Q&&typeof Q==="string"){if(Q.toLowerCase()==="scrypt"){let X=h$($,"crypto.kdfparams.salt:data!"),Z=h$($,"crypto.kdfparams.n:int!"),Y=h$($,"crypto.kdfparams.r:int!"),V=h$($,"crypto.kdfparams.p:int!");b(Z>0&&(Z&Z-1)===0,"invalid kdf.N","kdf.N",Z),b(Y>0&&V>0,"invalid kdf","kdf",Q);let G=h$($,"crypto.kdfparams.dklen:int!");return b(G===32,"invalid kdf.dklen","kdf.dflen",G),{name:"scrypt",salt:X,N:Z,r:Y,p:V,dkLen:64}}else if(Q.toLowerCase()==="pbkdf2"){let X=h$($,"crypto.kdfparams.salt:data!"),Z=h$($,"crypto.kdfparams.prf:string!"),Y=Z.split("-").pop();b(Y==="sha256"||Y==="sha512","invalid kdf.pdf","kdf.pdf",Z);let V=h$($,"crypto.kdfparams.c:int!"),G=h$($,"crypto.kdfparams.dklen:int!");return b(G===32,"invalid kdf.dklen","kdf.dklen",G),{name:"pbkdf2",salt:X,count:V,dkLen:G,algorithm:Y}}}b(!1,"unsupported key-derivation function","kdf",Q)}function eG($,Q){let X=JSON.parse($),Z=S8(Q),Y=pL(X);if(Y.name==="pbkdf2"){let{salt:C,count:q,dkLen:R,algorithm:I}=Y,S=nQ(Z,C,q,R,I);return rK(X,S)}J0(Y.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:Y});let{salt:V,N:G,r:z,p:L,dkLen:A}=Y,F=dX(Z,V,G,z,L,A);return rK(X,F)}function hL($){return new Promise((Q)=>{setTimeout(()=>{Q()},$)})}async function $W($,Q,X){let Z=JSON.parse($),Y=S8(Q),V=pL(Z);if(V.name==="pbkdf2"){if(X)X(0),await hL(0);let{salt:q,count:R,dkLen:I,algorithm:S}=V,N=nQ(Y,q,R,I,S);if(X)X(1),await hL(0);return rK(Z,N)}J0(V.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:V});let{salt:G,N:z,r:L,p:A,dkLen:F}=V,C=await uX(Y,G,z,L,A,F,X);return rK(Z,C)}function mL($){let Q=$.salt!=null?M0($.salt,"options.salt"):fQ(32),X=131072,Z=8,Y=1;if($.scrypt){if($.scrypt.N)X=$.scrypt.N;if($.scrypt.r)Z=$.scrypt.r;if($.scrypt.p)Y=$.scrypt.p}return b(typeof X==="number"&&X>0&&Number.isSafeInteger(X)&&(BigInt(X)&BigInt(X-1))===BigInt(0),"invalid scrypt N parameter","options.N",X),b(typeof Z==="number"&&Z>0&&Number.isSafeInteger(Z),"invalid scrypt r parameter","options.r",Z),b(typeof Y==="number"&&Y>0&&Number.isSafeInteger(Y),"invalid scrypt p parameter","options.p",Y),{name:"scrypt",dkLen:32,salt:Q,N:X,r:Z,p:Y}}function cL($,Q,X,Z){let Y=M0(X.privateKey,"privateKey"),V=Z.iv!=null?M0(Z.iv,"options.iv"):fQ(16);b(V.length===16,"invalid options.iv length","options.iv",Z.iv);let G=Z.uuid!=null?M0(Z.uuid,"options.uuid"):fQ(16);b(G.length===16,"invalid options.uuid length","options.uuid",Z.iv);let z=$.slice(0,16),L=$.slice(16,32),A=new DJ(z,V),F=M0(A.encrypt(Y)),C=t0(i0([L,F])),q={address:X.address.substring(2).toLowerCase(),id:zG(G),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:O0(V).substring(2)},ciphertext:O0(F).substring(2),kdf:"scrypt",kdfparams:{salt:O0(Q.salt).substring(2),n:Q.N,dklen:32,p:Q.p,r:Q.r},mac:C.substring(2)}};if(X.mnemonic){let R=Z.client!=null?Z.client:`ethers/${lJ}`,I=X.mnemonic.path||bL,S=X.mnemonic.locale||"en",N=$.slice(32,64),B=M0(X.mnemonic.entropy,"account.mnemonic.entropy"),_=fQ(16),k=new DJ(N,_),f=M0(k.encrypt(B)),v=new Date,c="UTC--"+(v.getUTCFullYear()+"-"+tG(v.getUTCMonth()+1,2)+"-"+tG(v.getUTCDate(),2)+"T"+tG(v.getUTCHours(),2)+"-"+tG(v.getUTCMinutes(),2)+"-"+tG(v.getUTCSeconds(),2)+".0Z")+"--"+q.address;q["x-ethers"]={client:R,gethFilename:c,path:I,locale:S,mnemonicCounter:O0(_).substring(2),mnemonicCiphertext:O0(f).substring(2),version:"0.1"}}return JSON.stringify(q)}function LJ($,Q,X){if(X==null)X={};let Z=S8(Q),Y=mL(X),V=dX(Z,Y.salt,Y.N,Y.r,Y.p,64);return cL(M0(V),Y,$,X)}async function qJ($,Q,X){if(X==null)X={};let Z=S8(Q),Y=mL(X),V=await uX(Z,Y.salt,Y.N,Y.r,Y.p,64,X.progressCallback);return cL(M0(V),Y,$,X)}var bL="m/44'/60'/0'/0/0";var aK=G0(()=>{m4();r$();QQ();tQ();d0();u4()});function tK($,Q){let X="";while($)X=MS[$%16]+X,$=Math.trunc($/16);while(X.length<Q*2)X="0"+X;return"0x"+X}function d4($){let Q=M0($),X=D$(d$(d$(Q)),0,4),Z=i0([Q,X]);return sY(Z)}function uL($,Q,X,Z){let Y=new Uint8Array(37);if($&dZ)J0(Z!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),Y.set(M0(Z),1);else Y.set(M0(X));for(let G=24;G>=0;G-=8)Y[33+(G>>3)]=$>>24-G&255;let V=M0(mX("sha512",Q,Y));return{IL:V.slice(0,32),IR:V.slice(32)}}function dL($,Q){let X=Q.split("/");if(b(X.length>0,"invalid path","path",Q),X[0]==="m")b($.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${$.depth}`,"path",Q),X.shift();let Z=$;for(let Y=0;Y<X.length;Y++){let V=X[Y];if(V.match(/^[0-9]+'$/)){let G=parseInt(V.substring(0,V.length-1));b(G<dZ,"invalid path index",`path[${Y}]`,V),Z=Z.deriveChild(dZ+G)}else if(V.match(/^[0-9]+$/)){let G=parseInt(V);b(G<dZ,"invalid path index",`path[${Y}]`,V),Z=Z.deriveChild(G)}else b(!1,"invalid path component",`path[${Y}]`,V)}return Z}function eK($){let Q=n0($,"index");return b(Q>=0&&Q<dZ,"invalid account index","index",Q),`m/44'/60'/${Q}'/0/0`}function $U($){let Q=n0($,"index");return b(Q>=0&&Q<dZ,"invalid account index","index",Q),`m/44'/60'/0'/0/${Q}`}var B8="m/44'/60'/0'/0/0",LS,dZ=2147483648,qS,MS="0123456789abcdef",uZ,yQ,IY;var l4=G0(()=>{QQ();pK();tQ();d0();WV();mK();lK();aK();LS=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),qS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");uZ={};yQ=class yQ extends mZ{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor($,Q,X,Z,Y,V,G,z,L){super(Q,L);EQ($,uZ,"HDNodeWallet"),I0(this,{publicKey:Q.compressedPublicKey});let A=D$(cX(d$(this.publicKey)),0,4);I0(this,{parentFingerprint:X,fingerprint:A,chainCode:Z,path:Y,index:V,depth:G}),I0(this,{mnemonic:z})}connect($){return new yQ(uZ,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,$)}#$(){let $={address:this.address,privateKey:this.privateKey},Q=this.mnemonic;if(this.path&&Q&&Q.wordlist.locale==="en"&&Q.password==="")$.mnemonic={path:this.path,locale:"en",entropy:Q.entropy};return $}async encrypt($,Q){return await qJ(this.#$(),$,{progressCallback:Q})}encryptSync($){return LJ(this.#$(),$)}get extendedKey(){return J0(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),d4(i0(["0x0488ADE4",tK(this.depth,1),this.parentFingerprint,tK(this.index,4),this.chainCode,i0(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new IY(uZ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild($){let Q=n0($,"index");b(Q<=4294967295,"invalid index","index",Q);let X=this.path;if(X){if(X+="/"+(Q&~dZ),Q&dZ)X+="'"}let{IR:Z,IL:Y}=uL(Q,this.chainCode,this.publicKey,this.privateKey),V=new o$(CQ((IX(Y)+BigInt(this.privateKey))%qS,32));return new yQ(uZ,V,this.fingerprint,O0(Z),X,Q,this.depth+1,this.mnemonic,this.provider)}derivePath($){return dL(this,$)}static#Q($,Q){b(yX($),"invalid seed","seed","[REDACTED]");let X=M0($,"seed");b(X.length>=16&&X.length<=64,"invalid seed","seed","[REDACTED]");let Z=M0(mX("sha512",LS,X)),Y=new o$(O0(Z.slice(0,32)));return new yQ(uZ,Y,"0x00000000",O0(Z.slice(32)),"m",0,0,Q,null)}static fromExtendedKey($){let Q=L$(JG($));b(Q.length===82||d4(Q.slice(0,78))===$,"invalid extended key","extendedKey","[ REDACTED ]");let X=Q[4],Z=O0(Q.slice(5,9)),Y=parseInt(O0(Q.slice(9,13)).substring(2),16),V=O0(Q.slice(13,45)),G=Q.slice(45,78);switch(O0(Q.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let z=O0(G);return new IY(uZ,nX(z),z,Z,V,null,Y,X,null)}case"0x0488ade4":case"0x04358394 ":if(G[0]!==0)break;return new yQ(uZ,new o$(G.slice(1)),Z,V,null,Y,X,null,null)}b(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom($,Q,X){if($==null)$="";if(Q==null)Q=B8;if(X==null)X=ZX.wordlist();let Z=QZ.fromEntropy(fQ(16),$,X);return yQ.#Q(Z.computeSeed(),Z).derivePath(Q)}static fromMnemonic($,Q){if(!Q)Q=B8;return yQ.#Q($.computeSeed(),$).derivePath(Q)}static fromPhrase($,Q,X,Z){if(Q==null)Q="";if(X==null)X=B8;if(Z==null)Z=ZX.wordlist();let Y=QZ.fromPhrase($,Q,Z);return yQ.#Q(Y.computeSeed(),Y).derivePath(X)}static fromSeed($){return yQ.#Q($,null)}};IY=class IY extends UJ{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor($,Q,X,Z,Y,V,G,z,L){super(Q,L);EQ($,uZ,"HDNodeVoidWallet"),I0(this,{publicKey:X});let A=D$(cX(d$(X)),0,4);I0(this,{publicKey:X,fingerprint:A,parentFingerprint:Z,chainCode:Y,path:V,index:G,depth:z})}connect($){return new IY(uZ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,$)}get extendedKey(){return J0(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),d4(i0(["0x0488B21E",tK(this.depth,1),this.parentFingerprint,tK(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild($){let Q=n0($,"index");b(Q<=4294967295,"invalid index","index",Q);let X=this.path;if(X){if(X+="/"+(Q&~dZ),Q&dZ)X+="'"}let{IR:Z,IL:Y}=uL(Q,this.chainCode,this.publicKey,null),V=o$.addPoints(Y,this.publicKey,!0),G=nX(V);return new IY(uZ,G,V,this.fingerprint,O0(Z),X,Q,this.depth+1,this.provider)}derivePath($){return dL(this,$)}}});function j8($){try{if(JSON.parse($).encseed)return!0}catch(Q){}return!1}function _8($,Q){let X=JSON.parse($),Z=S8(Q),Y=s0(h$(X,"ethaddr:string!")),V=c4(h$(X,"encseed:string!"));b(V&&V.length%16===0,"invalid encseed","json",$);let G=M0(nQ(Z,Z,2000,32,"sha256")).slice(0,16),z=V.slice(0,16),L=V.slice(16),A=new UV(G,z),F=p4(M0(A.decrypt(L))),C="";for(let q=0;q<F.length;q++)C+=String.fromCharCode(F[q]);return{address:Y,privateKey:NQ(C)}}var o4=G0(()=>{m4();r$();QQ();hZ();d0();u4()});function lL($){return new Promise((Q)=>{setTimeout(()=>{Q()},$)})}var SY;var oL=G0(()=>{QQ();d0();mK();l4();o4();aK();lK();SY=class SY extends mZ{constructor($,Q){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;let X=typeof $==="string"?new o$($):$;super(X,Q)}connect($){return new SY(this.signingKey,$)}async encrypt($,Q){let X={address:this.address,privateKey:this.privateKey};return await qJ(X,$,{progressCallback:Q})}encryptSync($){let Q={address:this.address,privateKey:this.privateKey};return LJ(Q,$)}static#$($){if(b($,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in $&&$.mnemonic&&$.mnemonic.locale==="en"){let X=QZ.fromEntropy($.mnemonic.entropy),Z=yQ.fromMnemonic(X,$.mnemonic.path);if(Z.address===$.address&&Z.privateKey===$.privateKey)return Z;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let Q=new SY($.privateKey);return b(Q.address===$.address,"address/privateKey mismatch","json","[ REDACTED ]"),Q}static async fromEncryptedJson($,Q,X){let Z=null;if(N8($))Z=await $W($,Q,X);else if(j8($)){if(X)X(0),await lL(0);if(Z=_8($,Q),X)X(1),await lL(0)}return SY.#$(Z)}static fromEncryptedJsonSync($,Q){let X=null;if(N8($))X=eG($,Q);else if(j8($))X=_8($,Q);else b(!1,"invalid JSON wallet","json","[ REDACTED ]");return SY.#$(X)}static createRandom($){let Q=yQ.createRandom();if($)return Q.connect($);return Q}static fromPhrase($,Q){let X=yQ.fromPhrase($);if(Q)return X.connect(Q);return X}}});var nL=G0(()=>{mK();l4();o4();aK();lK();oL()});function sL($,Q){let X=(1<<$)-1,Z=[],Y=0,V=0,G=0;for(let z=0;z<Q.length;z++){Y=Y<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(Q[z]),V+=6;while(V>=$){let L=Y>>V-$;if(Y&=(1<<V-$)-1,V-=$,L===0)G+=X;else Z.push(L+G),G=0}}return Z}function iL($,Q){let X=uK($).join(",");return Q.split(/,/g).forEach((Z)=>{let Y=Z.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);b(Y!==null,"internal error parsing accents","accents",Q);let V=0,G=sL(parseInt(Y[3]),Y[4]),z=parseInt(Y[2]),L=new RegExp(`([${Y[1]}])`,"g");X=X.replace(L,(A,F)=>{if(--G[V]===0)F=String.fromCharCode(F.charCodeAt(0),z),V++;return F})}),X.split(",")}var rL=G0(()=>{d0();w4()});var zV;var aL=G0(()=>{dK();rL();zV=class zV extends PY{#$;constructor($,Q,X,Z){super($,Q,Z);this.#$=X}get _accent(){return this.#$}_decodeWords(){return iL(this._data,this._accent)}}});var QU;var tL=G0(()=>{WV();QU={en:ZX.wordlist()}});var eL=G0(()=>{x4();WV();dK();aL();tL()});var hQ={};RQ(hQ,{zeroPadValue:()=>u$,zeroPadBytes:()=>wZ,wordlists:()=>QU,version:()=>lJ,verifyTypedData:()=>HK,verifyMessage:()=>KK,verifyAuthorization:()=>$K,uuidV4:()=>zG,toUtf8String:()=>dQ,toUtf8CodePoints:()=>z1,toUtf8Bytes:()=>F$,toTwos:()=>kZ,toQuantity:()=>$Q,toNumber:()=>ZG,toBigInt:()=>IX,toBeHex:()=>CQ,toBeArray:()=>L$,stripZerosLeft:()=>V1,solidityPackedSha256:()=>OK,solidityPackedKeccak256:()=>UK,solidityPacked:()=>jG,showThrottleMessage:()=>BQ,sha512:()=>QJ,sha256:()=>d$,scryptSync:()=>dX,scrypt:()=>uX,ripemd160:()=>cX,resolveProperties:()=>_$,resolveAddress:()=>k$,recoverAddress:()=>sX,randomBytes:()=>fQ,pbkdf2:()=>nQ,parseUnits:()=>nJ,parseEther:()=>C1,namehash:()=>VY,mask:()=>OX,makeError:()=>V$,lock:()=>z9,keccak256:()=>t0,isValidName:()=>VK,isKeystoreJson:()=>N8,isHexString:()=>Q$,isError:()=>q$,isCrowdsaleJson:()=>j8,isCallException:()=>QY,isBytesLike:()=>yX,isAddressable:()=>Z8,isAddress:()=>i1,id:()=>NQ,hexlify:()=>O0,hashMessage:()=>V8,hashAuthorization:()=>J8,getUint:()=>nY,getNumber:()=>n0,getIndexedAccountPath:()=>$U,getIcapAddress:()=>o1,getDefaultProvider:()=>yK,getCreateAddress:()=>YJ,getCreate2Address:()=>s1,getBytesCopy:()=>x$,getBytes:()=>M0,getBigInt:()=>m0,getAddress:()=>s0,getAccountPath:()=>eK,fromTwos:()=>xZ,formatUnits:()=>iY,formatEther:()=>M1,ensNormalize:()=>$V,encryptKeystoreJsonSync:()=>LJ,encryptKeystoreJson:()=>qJ,encodeRlp:()=>lQ,encodeBytes32String:()=>qK,encodeBase64:()=>WG,encodeBase58:()=>sY,dnsEncode:()=>BG,defineProperties:()=>I0,defaultPath:()=>B8,decryptKeystoreJsonSync:()=>eG,decryptKeystoreJson:()=>$W,decryptCrowdsaleJson:()=>_8,decodeRlp:()=>fZ,decodeBytes32String:()=>MK,decodeBase64:()=>GG,decodeBase58:()=>JG,dataSlice:()=>D$,dataLength:()=>rQ,copyRequest:()=>jX,concat:()=>i0,computeHmac:()=>mX,computeAddress:()=>nX,checkResultErrors:()=>mW,authorizationify:()=>JJ,assertPrivate:()=>EQ,assertNormalize:()=>oY,assertArgumentCount:()=>lY,assertArgument:()=>b,assert:()=>J0,accessListify:()=>IQ,ZeroHash:()=>X8,ZeroAddress:()=>oX,WordlistOwlA:()=>zV,WordlistOwl:()=>PY,Wordlist:()=>E8,WeiPerEther:()=>p1,WebSocketProvider:()=>TY,Wallet:()=>SY,VoidSigner:()=>UJ,Utf8ErrorFuncs:()=>hW,UnmanagedSubscriber:()=>TZ,UndecodedEventLog:()=>VJ,TypedDataEncoder:()=>n$,Typed:()=>O$,TransactionResponse:()=>AZ,TransactionReceipt:()=>zY,TransactionDescription:()=>wG,Transaction:()=>a$,StructFragment:()=>MZ,SocketSubscriber:()=>HJ,SocketProvider:()=>F8,SocketPendingSubscriber:()=>lG,SocketEventSubscriber:()=>oG,SocketBlockSubscriber:()=>dG,SigningKey:()=>o$,Signature:()=>S$,Result:()=>aQ,QuickNodeProvider:()=>RY,PocketProvider:()=>P8,ParamType:()=>P$,NonceManager:()=>iG,NetworkPlugin:()=>tX,Network:()=>Y$,NamedFragment:()=>OY,N:()=>b1,MulticoinProviderPlugin:()=>hG,Mnemonic:()=>QZ,MinInt256:()=>c1,MessagePrefix:()=>AG,MaxUint256:()=>m1,MaxInt256:()=>u1,LogDescription:()=>_G,Log:()=>_X,LangEn:()=>ZX,JsonRpcSigner:()=>OJ,JsonRpcProvider:()=>v$,JsonRpcApiProvider:()=>zJ,IpcSocketProvider:()=>bK,Interface:()=>qX,InfuraWebSocketProvider:()=>nG,InfuraProvider:()=>bZ,Indexed:()=>U8,HDNodeWallet:()=>yQ,HDNodeVoidWallet:()=>IY,GasCostPlugin:()=>LY,FunctionFragment:()=>$X,Fragment:()=>rX,FixedNumber:()=>zX,FetchUrlFeeDataNetworkPlugin:()=>L8,FetchResponse:()=>bX,FetchRequest:()=>M$,FetchCancelSignal:()=>VG,FeeDataNetworkPlugin:()=>pG,FeeData:()=>WJ,FallbackProvider:()=>T8,FallbackFragment:()=>BX,EventPayload:()=>XY,EventLog:()=>HY,EventFragment:()=>eQ,EtherscanProvider:()=>A8,EtherscanPlugin:()=>uG,EtherSymbol:()=>d1,ErrorFragment:()=>TQ,ErrorDescription:()=>xG,EnsResolver:()=>FZ,EnsPlugin:()=>qY,ContractUnknownEventPayload:()=>KJ,ContractTransactionResponse:()=>DY,ContractTransactionReceipt:()=>gG,ContractFactory:()=>yG,ContractEventPayload:()=>z8,Contract:()=>MX,ConstructorFragment:()=>HX,CloudflareProvider:()=>C8,ChainstackProvider:()=>FY,BrowserProvider:()=>pZ,BlockscoutProvider:()=>R8,Block:()=>O8,BaseWallet:()=>mZ,BaseContract:()=>aX,AnkrProvider:()=>CY,AlchemyProvider:()=>AY,AbstractSigner:()=>$Z,AbstractProvider:()=>eX,AbiCoder:()=>LX});var n4=G0(()=>{kG();r$();FG();ZV();QQ();hZ();pK();tQ();d0();nL();eL()});var $q={};RQ($q,{zeroPadValue:()=>u$,zeroPadBytes:()=>wZ,wordlists:()=>QU,version:()=>lJ,verifyTypedData:()=>HK,verifyMessage:()=>KK,verifyAuthorization:()=>$K,uuidV4:()=>zG,toUtf8String:()=>dQ,toUtf8CodePoints:()=>z1,toUtf8Bytes:()=>F$,toTwos:()=>kZ,toQuantity:()=>$Q,toNumber:()=>ZG,toBigInt:()=>IX,toBeHex:()=>CQ,toBeArray:()=>L$,stripZerosLeft:()=>V1,solidityPackedSha256:()=>OK,solidityPackedKeccak256:()=>UK,solidityPacked:()=>jG,showThrottleMessage:()=>BQ,sha512:()=>QJ,sha256:()=>d$,scryptSync:()=>dX,scrypt:()=>uX,ripemd160:()=>cX,resolveProperties:()=>_$,resolveAddress:()=>k$,recoverAddress:()=>sX,randomBytes:()=>fQ,pbkdf2:()=>nQ,parseUnits:()=>nJ,parseEther:()=>C1,namehash:()=>VY,mask:()=>OX,makeError:()=>V$,lock:()=>z9,keccak256:()=>t0,isValidName:()=>VK,isKeystoreJson:()=>N8,isHexString:()=>Q$,isError:()=>q$,isCrowdsaleJson:()=>j8,isCallException:()=>QY,isBytesLike:()=>yX,isAddressable:()=>Z8,isAddress:()=>i1,id:()=>NQ,hexlify:()=>O0,hashMessage:()=>V8,hashAuthorization:()=>J8,getUint:()=>nY,getNumber:()=>n0,getIndexedAccountPath:()=>$U,getIcapAddress:()=>o1,getDefaultProvider:()=>yK,getCreateAddress:()=>YJ,getCreate2Address:()=>s1,getBytesCopy:()=>x$,getBytes:()=>M0,getBigInt:()=>m0,getAddress:()=>s0,getAccountPath:()=>eK,fromTwos:()=>xZ,formatUnits:()=>iY,formatEther:()=>M1,ethers:()=>hQ,ensNormalize:()=>$V,encryptKeystoreJsonSync:()=>LJ,encryptKeystoreJson:()=>qJ,encodeRlp:()=>lQ,encodeBytes32String:()=>qK,encodeBase64:()=>WG,encodeBase58:()=>sY,dnsEncode:()=>BG,defineProperties:()=>I0,defaultPath:()=>B8,decryptKeystoreJsonSync:()=>eG,decryptKeystoreJson:()=>$W,decryptCrowdsaleJson:()=>_8,decodeRlp:()=>fZ,decodeBytes32String:()=>MK,decodeBase64:()=>GG,decodeBase58:()=>JG,dataSlice:()=>D$,dataLength:()=>rQ,copyRequest:()=>jX,concat:()=>i0,computeHmac:()=>mX,computeAddress:()=>nX,checkResultErrors:()=>mW,authorizationify:()=>JJ,assertPrivate:()=>EQ,assertNormalize:()=>oY,assertArgumentCount:()=>lY,assertArgument:()=>b,assert:()=>J0,accessListify:()=>IQ,ZeroHash:()=>X8,ZeroAddress:()=>oX,WordlistOwlA:()=>zV,WordlistOwl:()=>PY,Wordlist:()=>E8,WeiPerEther:()=>p1,WebSocketProvider:()=>TY,Wallet:()=>SY,VoidSigner:()=>UJ,Utf8ErrorFuncs:()=>hW,UnmanagedSubscriber:()=>TZ,UndecodedEventLog:()=>VJ,TypedDataEncoder:()=>n$,Typed:()=>O$,TransactionResponse:()=>AZ,TransactionReceipt:()=>zY,TransactionDescription:()=>wG,Transaction:()=>a$,StructFragment:()=>MZ,SocketSubscriber:()=>HJ,SocketProvider:()=>F8,SocketPendingSubscriber:()=>lG,SocketEventSubscriber:()=>oG,SocketBlockSubscriber:()=>dG,SigningKey:()=>o$,Signature:()=>S$,Result:()=>aQ,QuickNodeProvider:()=>RY,PocketProvider:()=>P8,ParamType:()=>P$,NonceManager:()=>iG,NetworkPlugin:()=>tX,Network:()=>Y$,NamedFragment:()=>OY,N:()=>b1,MulticoinProviderPlugin:()=>hG,Mnemonic:()=>QZ,MinInt256:()=>c1,MessagePrefix:()=>AG,MaxUint256:()=>m1,MaxInt256:()=>u1,LogDescription:()=>_G,Log:()=>_X,LangEn:()=>ZX,JsonRpcSigner:()=>OJ,JsonRpcProvider:()=>v$,JsonRpcApiProvider:()=>zJ,IpcSocketProvider:()=>bK,Interface:()=>qX,InfuraWebSocketProvider:()=>nG,InfuraProvider:()=>bZ,Indexed:()=>U8,HDNodeWallet:()=>yQ,HDNodeVoidWallet:()=>IY,GasCostPlugin:()=>LY,FunctionFragment:()=>$X,Fragment:()=>rX,FixedNumber:()=>zX,FetchUrlFeeDataNetworkPlugin:()=>L8,FetchResponse:()=>bX,FetchRequest:()=>M$,FetchCancelSignal:()=>VG,FeeDataNetworkPlugin:()=>pG,FeeData:()=>WJ,FallbackProvider:()=>T8,FallbackFragment:()=>BX,EventPayload:()=>XY,EventLog:()=>HY,EventFragment:()=>eQ,EtherscanProvider:()=>A8,EtherscanPlugin:()=>uG,EtherSymbol:()=>d1,ErrorFragment:()=>TQ,ErrorDescription:()=>xG,EnsResolver:()=>FZ,EnsPlugin:()=>qY,ContractUnknownEventPayload:()=>KJ,ContractTransactionResponse:()=>DY,ContractTransactionReceipt:()=>gG,ContractFactory:()=>yG,ContractEventPayload:()=>z8,Contract:()=>MX,ConstructorFragment:()=>HX,CloudflareProvider:()=>C8,ChainstackProvider:()=>FY,BrowserProvider:()=>pZ,BlockscoutProvider:()=>R8,Block:()=>O8,BaseWallet:()=>mZ,BaseContract:()=>aX,AnkrProvider:()=>CY,AlchemyProvider:()=>AY,AbstractSigner:()=>$Z,AbstractProvider:()=>eX,AbiCoder:()=>LX});var QW=G0(()=>{n4();n4()});function CS($,Q){if(typeof Q==="bigint")return`BigInt(${Q.toString()})`;if(Q instanceof Map)return Object.fromEntries(Q);if(Q instanceof Set)return Array.from(Q);if(Q&&typeof Q==="object"&&Q.type==="Buffer"&&Array.isArray(Q.data))return`Buffer(${Q.data.length} bytes)`;if(typeof Q==="function")return`[Function: ${Q.name||"anonymous"}]`;return Q}function K$($,Q){try{return JSON.stringify($,CS,Q)}catch(X){return`[Error stringifying: ${X.message}]`}}function AS($,Q){if(typeof Q==="string"&&Q.startsWith("BigInt(")&&Q.endsWith(")")){let X=Q.slice(7,-1);return BigInt(X)}return Q}function Qq($){try{return JSON.parse($,AS)}catch(Q){throw new Error(`Failed to parse JSON: ${Q.message}`)}}var Xq={};RQ(Xq,{loadJurisdictions:()=>s4,getCachedJurisdictions:()=>TS,clearJurisdictionsCache:()=>FS});function s4(){if(j$)throw new Error("loadJurisdictions() not available in browser - use evm.ts generateJurisdictions() instead");if(RZ)return RZ;try{let Q=(()=>{throw new Error("Cannot require module "+"fs");})().readFileSync("./jurisdictions.json","utf8");return RZ=JSON.parse(Q),console.log("\uD83D\uDCCB Jurisdictions loaded from file (cached for future use)"),console.log(`   Version: ${RZ?.version}`),console.log(`   Last updated: ${RZ?.lastUpdated}`),console.log(`   Jurisdictions: ${Object.keys(RZ?.jurisdictions||{}).join(", ")}`),RZ}catch($){return console.error(" Failed to load jurisdictions.json:",$),RZ={version:"1.0.0",lastUpdated:new Date().toISOString(),jurisdictions:{},defaults:{timeout:30000,retryAttempts:3,gasLimit:1e6}},RZ}}function FS(){RZ=null,console.log("\uD83D\uDD04 Jurisdictions cache cleared")}function TS(){return RZ}var RZ=null;var i4=G0(()=>{YX()});function RS($){return MJ[$]??!1}function PS($,Q,...X){if(RS($)){let Z=`[${$}]`;switch(Q){case"error":console.error(Z,...X);break;case"warn":console.warn(Z,...X);break;case"info":console.info(Z,...X);break;case"debug":default:console.log(Z,...X);break}}}function l0($,...Q){PS($,"error",...Q)}function ES(){console.log("\uD83D\uDCCA Current Log Configuration:"),Object.entries(MJ).forEach(([$,Q])=>{console.log(`  ${Q?"":""} ${$}`)})}function IS($,Q){MJ[$]=Q,console.log(`\uD83D\uDD27 Log category "${$}" set to ${Q?"ON":"OFF"}`)}function SS(){Object.keys(MJ).forEach(($)=>{MJ[$]=!0}),console.log(" All logs enabled")}function NS(){Object.keys(MJ).forEach(($)=>{MJ[$]=!1}),console.log(" All logs disabled")}var MJ;var XW=G0(()=>{MJ={ENTITY_TX:!0,ACCOUNT_OPEN:!0,SIGNER_LOOKUP:!0,PROCESS_CASCADE:!0,FRAME_CONSENSUS:!1,ENTITY_OUTPUT:!0,ENTITY_INPUT:!0,SERVER_TICK:!1,J_WATCHER:!1,BLOCKCHAIN:!1,GOSSIP:!1,R2R_FLOW:!0,ACCOUNT_STATE:!0};if(typeof window!=="undefined")window.logConfig={show:ES,set:IS,enableAll:SS,disableAll:NS,config:MJ},console.log("\uD83D\uDD27 Log config available at window.logConfig")});var DV={};RQ(DV,{transferNameBetweenEntities:()=>Z5,submitSettle:()=>HV,submitReserveToReserve:()=>J5,submitProcessBatch:()=>t4,submitPrefundAccount:()=>a4,setBrowserVMJurisdiction:()=>_S,registerNumberedEntityOnChain:()=>e4,registerNumberedEntitiesBatchOnChain:()=>jS,getNextEntityNumber:()=>X5,getJurisdictions:()=>Y5,getJurisdictionByAddress:()=>ZW,getEntityInfoFromChain:()=>Q5,getAvailableJurisdictions:()=>NY,generateJurisdictions:()=>Gq,fundEntityReserves:()=>BS,debugFundReserves:()=>r4,connectToEthereum:()=>CX,assignNameOnChain:()=>$5,ENTITY_PROVIDER_ABI:()=>Yq,DEPOSITORY_ABI:()=>Jq,DEFAULT_JURISDICTIONS:()=>w8});var e$=($,Q)=>{if(console.log($,Q),j$&&window.xlnErrorLog)window.xlnErrorLog($,"EVM",Q)},Zq=($,Q)=>{if(l0("BLOCKCHAIN",$,Q),j$&&window.xlnErrorLog)window.xlnErrorLog($,"EVM-ERROR",Q)},Yq,Jq,CX=async($)=>{let{address:Q,entityProviderAddress:X,depositoryAddress:Z}=$;try{if(!Q&&"rpc"in $)console.warn("\uD83D\uDEA8 JURISDICTION-LEGACY: Using deprecated rpc field, should be address");if(!X&&"contracts"in $)console.warn("\uD83D\uDEA8 JURISDICTION-LEGACY: Using deprecated contracts.entityProvider field");if(!Q)throw new Error("Jurisdiction missing RPC URL (address or rpc property)");if(!X||!Z)throw new Error("Jurisdiction missing contract addresses (entityProvider and depository)");if(e$(`\uD83D\uDD0C CONNECTING: jurisdiction=${$.name}, rpcUrl=${Q}`),j$){e$(`   Page Origin: ${window.location.origin}`),e$(`   Page Protocol: ${window.location.protocol}`),e$(`   Page Host: ${window.location.hostname}:${window.location.port}`);let C=new URL(Q,window.location.origin);e$(`   RPC URL: ${C.href}`);let q=window.location.origin!==C.origin;e$(`   CORS issue? ${q?"YES - Different origins!":"No (using proxy)"}`,{corsIssue:q}),e$(`   User Agent: ${navigator.userAgent}`)}e$(`   Contracts: EP=${X.slice(0,10)}, DEP=${Z.slice(0,10)}`);let Y=Q;if(j$&&Q.startsWith("/"))Y=new URL(Q,window.location.origin).href,e$(`   Resolved RPC: ${Y}`);let V=new hQ.JsonRpcProvider(Y);e$(" Provider created");let G="0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80",z=new hQ.Wallet(G,V),L=await z.getAddress();e$(` Signer created: ${L}`);try{let C=await V.getNetwork();e$(` Network connected: chainId=${C.chainId}`)}catch(C){throw Zq(" NETWORK-CONNECT-FAILED",{rpcUrl:Q,errorCode:C?.code,errorMessage:C?.message,errorStack:C?.stack}),C}let A=new hQ.Contract(X,Yq,z),F=new hQ.Contract(Z,Jq,z);return e$(` Contracts created for ${$.name}`),{provider:V,signer:z,entityProvider:A,depository:F}}catch(Y){throw Zq(` CONNECT-FAILED: ${$.name}`,{rpcUrl:Q,errorType:Y?.constructor?.name,errorCode:Y?.code,errorReason:Y?.reason,errorMessage:Y?.message,errorStack:Y?.stack}),Y}},r4=async($,Q,X,Z)=>{try{console.log(`\uD83D\uDCB0 DEBUG: Funding entity ${Q.slice(0,10)} with ${Z} of token ${X}...`);let{depository:Y}=await CX($),V=await Y.debugFundReserves(Q,X,Z);console.log(`\uD83D\uDCE1 Debug funding transaction: ${V.hash}`);let G=await V.wait();console.log(` Debug funding confirmed in block ${G.blockNumber}`);let z=await Y._reserves(Q,X);return console.log(`\uD83D\uDCB0 Entity ${Q.slice(0,10)} now has ${z.toString()} of token ${X}`),{transaction:V,receipt:G,newBalance:z}}catch(Y){throw l0("BLOCKCHAIN"," Failed to fund reserves:",Y),Y}},BS=async($,Q)=>{console.log(`\uD83D\uDCB0 Funding entity ${$.slice(0,10)}... with ${Q.length} assets`);for(let X of Q)console.log(`  \uD83D\uDCB3 Adding ${X.symbol}: ${X.amount} (token ${X.tokenId})`),console.log(`  - Funding ${$.slice(0,10)} with ${X.amount} of token ${X.tokenId}`);console.log(` Entity ${$.slice(0,10)}... funded with all assets`)},a4=async($,Q,X,Z,Y)=>{try{console.log(`\uD83D\uDCB0 Prefunding account between ${Q.slice(0,10)}... and ${X.slice(0,10)}...`),console.log(`\uD83D\uDD0D TOKEN: ${Z}, AMOUNT: ${Y}`);let{depository:V,provider:G}=await CX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${V.target}`),await G.getCode(V.target)==="0x")throw new Error("Contract not deployed at this address");let L=await V._reserves(Q,Z);if(console.log(`\uD83D\uDD0D Current balance: ${L.toString()}`),console.log(`\uD83D\uDD0D Requested amount: ${Y}`),L<BigInt(Y))throw new Error(`Insufficient reserves: have ${L.toString()}, need ${Y}`);console.log(`\uD83D\uDCDE Calling prefundAccount(${X}, ${Z}, ${Y})`);let A=await V.prefundAccount(X,Z,Y);console.log(` Transaction sent: ${A.hash}`);let F=await A.wait();return console.log(` Prefunding confirmed in block ${F.blockNumber}`),{hash:A.hash,receipt:F}}catch(V){throw l0("BLOCKCHAIN"," Failed to prefund account:",V),V}},t4=async($,Q,X)=>{try{if(console.log(`\uD83D\uDCB8 Submitting processBatch to ${$.name} as entity ${Q.slice(0,10)}...`),console.log("\uD83D\uDD0D BATCH DEBUG:",K$(X)),console.log(`\uD83D\uDD0D ENTITY DEBUG: ${Q}`),console.log("\uD83D\uDD0D JURISDICTION DEBUG:",$),console.log("\uD83D\uDD0D JURISDICTION SOURCE: Reading from jurisdictions.json file"),console.log(`\uD83D\uDD0D DEPOSITORY ADDRESS FROM JURISDICTION: ${$.depositoryAddress}`),console.log(`\uD83D\uDD0D ENTITY PROVIDER ADDRESS FROM JURISDICTION: ${$.entityProviderAddress}`),X.reserveToReserve)for(let _=0;_<X.reserveToReserve.length;_++){let k=X.reserveToReserve[_];if(typeof k.amount==="number"){let f=BigInt(Math.floor(k.amount*1000000000000000000)).toString();console.log(`\uD83D\uDD27 Converting amount ${k.amount}  ${f} wei`),k.amount=f}}console.log("\uD83D\uDD0D FIXED BATCH:",K$(X));let{depository:Z,provider:Y}=await CX($);console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${Z.target}`);let V=await Y.getCode(Z.target);if(console.log(`\uD83D\uDD0D CONTRACT CODE LENGTH: ${V.length} characters`),V==="0x")throw new Error("Contract not deployed at this address");try{console.log("\uD83D\uDD0D Testing if contract has debugBulkFundEntities..."),await Z.debugBulkFundEntities?.staticCall?.(),console.log(" This is our NEW contract with debug functions!")}catch(_){console.log(" This is OLD contract - no debug functions:",_.message)}console.log(`\uD83D\uDD0D Checking balance for entity ${Q} token ${X.reserveToReserve[0]?.tokenId||1}...`);try{let _=await Z._reserves(Q,X.reserveToReserve[0]?.tokenId||1);if(console.log(`\uD83D\uDD0D Current balance: ${_.toString()}`),_.toString()==="0")throw console.log(" Entity has no reserves - this suggests old contract without pre-funding"),new Error(`Entity ${Q.slice(0,10)} has no reserves! Contract should be pre-funded.`)}catch(_){throw console.log(" Failed to check balance:",_.message),_}console.log("\uD83D\uDD0D Function signature: processBatch(bytes32,tuple)"),console.log(`\uD83D\uDD0D Entity ID: ${Q}`),console.log("\uD83D\uDD0D Batch structure:",Object.keys(X)),console.log("\uD83D\uDD0D reserveToReserve array:",X.reserveToReserve);let z=Z.interface.fragments.filter((_)=>_.type==="function").map((_)=>{return"name"in _?_.name:"unknown"}),L=z.includes("processBatch");console.log(`\uD83D\uDD0D Contract has processBatch function: ${L}`),console.log("\uD83D\uDD0D Available functions:",z.slice(0,10),"..."),console.log("\uD83D\uDD0D DEEP DEBUG: Contract interface analysis"),console.log(`\uD83D\uDD0D Contract target address: ${Z.target}`);let F=Z.interface.getFunction("processBatch")?.selector||"NOT_FOUND";console.log(`\uD83D\uDD0D Function selector: ${F}`);let C=await Y.getCode(Z.target),q=C.includes(F.slice(2));console.log(`\uD83D\uDD0D Deployed bytecode contains processBatch selector: ${q}`),console.log(`\uD83D\uDD0D Bytecode length: ${C.length} chars`);let R=hQ.keccak256(hQ.toUtf8Bytes(K$(Z.interface.fragments.map((_)=>{return"format"in _&&typeof _.format==="function"?_.format():_.toString()}))));console.log(`\uD83D\uDD0D ABI hash: ${R.slice(0,10)}...`);let I=Z.interface.encodeFunctionData("processBatch",[Q,X]);console.log(`\uD83D\uDD0D Call data length: ${I.length} chars`),console.log(`\uD83D\uDD0D Call data start: ${I.slice(0,20)}...`),console.log("\uD83D\uDD0D Testing with different entity addresses...");try{let _=await Z._reserves("0x0000000000000000000000000000000000000000000000000000000000000000",0);console.log(`\uD83D\uDD0D Entity 0 Token 0 balance: ${_.toString()}`)}catch(_){console.log(` Entity 0 balance check failed: ${_.message}`)}let S={reserveToExternalToken:[],externalTokenToReserve:[],reserveToReserve:[],reserveToCollateral:[],cooperativeUpdate:[],cooperativeDisputeProof:[],initialDisputeProof:[],finalDisputeProof:[],flashloans:[],hub_id:0};console.log("\uD83D\uDD0D Testing empty batch first...");try{let _=await Z.processBatch?.staticCall(Q,S);console.log(` Empty batch works: ${_}`),console.log("\uD83D\uDD0D Now testing our batch...");let k=await Z.processBatch?.staticCall(Q,X);console.log(` Static call successful: ${k}`)}catch(_){l0("BLOCKCHAIN"," Static call failed:",_);let k={};if(_&&typeof _==="object"){let f=_,v=f.code,p=f.data,c=f.reason;if(v!==void 0)k.code=v;if(p!==void 0)k.data=p;if(c!==void 0)k.reason=c}throw console.log("\uD83D\uDD0D Error details:",k),_}console.log("\uD83D\uDD0D Estimating gas for processBatch...");try{let _=await Z.processBatch?.estimateGas(Q,X);console.log(`\uD83D\uDD0D Gas estimate: ${_?.toString()||"N/A"}`)}catch(_){throw l0("BLOCKCHAIN"," Gas estimation failed:",_),_}let N=await Z.processBatch(Q,X);console.log(`\uD83D\uDCE1 Transaction submitted: ${N.hash}`);let B=await N.wait();return console.log(` Transaction confirmed in block ${B.blockNumber}`),{transaction:N,receipt:B}}catch(Z){throw l0("BLOCKCHAIN",` Failed to submit processBatch to ${$.name}:`,Z),Z}},e4=async($,Q)=>{if(!$.jurisdiction)throw new Error("Jurisdiction required for on-chain registration");try{let{entityProvider:X}=await CX($.jurisdiction),Z=x8($),Y=BY(Z);if(u0)console.log(`\uD83C\uDFDB Registering numbered entity "${Q}" on chain`);if(u0)console.log(`   Jurisdiction: ${$.jurisdiction.name}`);if(u0)console.log(`   EntityProvider: ${$.jurisdiction.entityProviderAddress}`);if(u0)console.log(`   Board Hash: ${Y}`);try{let F=await X.nextNumber();if(u0)console.log(`   \uD83D\uDCCA Next entity number will be: ${F}`)}catch(F){throw new Error(`Failed to call nextNumber(): ${F}`)}let V=await X.registerNumberedEntity(Y);if(u0)console.log(`   \uD83D\uDCE4 Transaction sent: ${V.hash}`);let G=await V.wait();if(u0)console.log(`    Transaction confirmed in block ${G.blockNumber}`);if(G.status===0)throw new Error(`Transaction reverted! Hash: ${V.hash}`);if(u0)console.log(`   \uD83D\uDCCB Receipt logs count: ${G.logs.length}`),G.logs.forEach((F,C)=>{try{let q=X.interface.parseLog(F);console.log(`   \uD83D\uDCDD Log ${C}: ${q?.name} - ${K$(q?.args)}`)}catch{console.log(`   \uD83D\uDCDD Log ${C}: Unable to parse log - ${F.topics?.[0]}`)}});let z=G.logs.find((F)=>{try{return X.interface.parseLog(F)?.name==="EntityRegistered"}catch{return!1}});if(!z)throw new Error("EntityRegistered event not found in transaction logs");let L=X.interface.parseLog(z),A=Number(L?.args[1]);if(u0)console.log(" Numbered entity registered!");if(u0)console.log(`   TX: ${V.hash}`);if(u0)console.log(`   Entity Number: ${A}`);return{txHash:V.hash,entityNumber:A}}catch(X){throw l0("BLOCKCHAIN"," Blockchain registration failed:",X),X}},jS=async($,Q)=>{try{let{entityProvider:X}=await CX(Q),Z=$.map((z)=>{let L=x8(z);return BY(L)});console.log(`\uD83C\uDFDB Batch registering ${$.length} entities in ONE transaction...`);let Y=await X.registerNumberedEntitiesBatch(Z);console.log(`\uD83D\uDCE4 Batch tx sent: ${Y.hash}`);let V=await Y.wait();if(console.log(` Batch confirmed in block ${V.blockNumber}`),V.status===0)throw new Error(`Batch registration reverted! Hash: ${Y.hash}`);let G=[];return V.logs.forEach((z)=>{try{let L=X.interface.parseLog(z);if(L?.name==="EntityRegistered")G.push(Number(L.args[1]))}catch{}}),console.log(` Registered ${G.length} entities: ${G[0]}-${G[G.length-1]}`),{txHash:Y.hash,entityNumbers:G}}catch(X){throw l0("BLOCKCHAIN"," Batch registration failed:",X),X}},$5=async($,Q,X)=>{try{let{entityProvider:Z}=await CX(X);if(u0)console.log(`\uD83C\uDFF7  Assigning name "${$}" to entity #${Q}`);let Y=await Z.assignName($,Q);if(u0)console.log(`   \uD83D\uDCE4 Transaction sent: ${Y.hash}`);let V=await Y.wait();if(u0)console.log(`    Transaction confirmed in block ${V.blockNumber}`);if(V.status===0)throw new Error(`Transaction reverted! Hash: ${Y.hash}`);if(u0)console.log(" Name assigned successfully!");if(u0)console.log(`   TX: ${Y.hash}`);return{txHash:Y.hash}}catch(Z){throw l0("BLOCKCHAIN"," Name assignment failed:",Z),Z}},Q5=async($,Q)=>{try{let{entityProvider:X}=await CX(Q);if((await X.entities($)).status===0)return{exists:!1};let Y=k8($),V,G;if(Y==="numbered"){let z=f8($);if(z!==null){V=z;try{G=await X.numberToName(V)||void 0}catch{}}}return{exists:!0,...V!==void 0?{entityNumber:V}:{},...G!==void 0?{name:G}:{}}}catch(X){return l0("BLOCKCHAIN"," Failed to get entity info from chain:",X),{exists:!1}}},X5=async($)=>{try{if(!$)throw new Error("Jurisdiction parameter is required");let Q=$.entityProviderAddress;if(!Q&&"contracts"in $){let G=$.contracts?.entityProvider;if(G)Q=G}if(!$.name||!Q)throw new Error("Jurisdiction object is missing required properties (name, entityProvider address)");let{entityProvider:X}=await CX($);if(u0)console.log(`\uD83D\uDD0D Fetching next entity number from ${Q} (${$.name})`);let Z=await X.nextNumber(),Y=Number(Z);if(u0)console.log(`\uD83D\uDD22 Next entity number: ${Y}`);return Y}catch(Q){throw l0("BLOCKCHAIN"," Failed to get next entity number:",Q),Q}},Z5=async($,Q,X,Z)=>{if(u0)console.log(`\uD83D\uDD04 Transferring name "${$}" from #${Q} to #${X}`);throw new Error("Name transfer not implemented - requires blockchain integration")},Gq=async()=>{let $=new Map;try{let Q;if(!j$&&typeof process!=="undefined")console.log("\uD83D\uDD0D JURISDICTION SOURCE: Using centralized jurisdiction-loader"),Q=s4(),console.log("\uD83D\uDD0D JURISDICTION DEBUG: Loaded config with contracts:",Q.jurisdictions?.ethereum?.contracts),console.log(" Loaded jurisdictions from centralized loader (cached)");else{let Z=await fetch("./jurisdictions.json");if(!Z.ok)throw new Error(`Failed to fetch jurisdictions.json: ${Z.status} ${Z.statusText}`);Q=await Z.json(),console.log("\uD83D\uDD0D JURISDICTION DEBUG: Browser loaded config with contracts:",Q.jurisdictions?.ethereum?.contracts),console.log(" Loaded jurisdictions from runtime")}let X=Q.jurisdictions;for(let[Z,Y]of Object.entries(X)){if(!Y||typeof Y!=="object"){console.warn(`\uD83D\uDEA8 Invalid jurisdiction data for ${Z}:`,Y);continue}let V=Y,G=V.rpc,z=j$&&/OculusBrowser|Quest/i.test(navigator.userAgent),L=j$?localStorage.getItem("xln_rpc_override"):null;if(e$(`\uD83D\uDD0D RPC-TRANSFORM-START: key=${Z}, rpc=${G}`,{isOculusBrowser:z,override:L,userAgent:j$?navigator.userAgent:"N/A"}),z&&!L&&G.startsWith(":")){let A=parseInt(G.slice(1));G=`${window.location.protocol}//${window.location.hostname}:${A}`,e$(`\uD83C\uDFAE OCULUS FIX: Using direct port ${A}  ${G}`)}if(L&&L!=="")if(L.startsWith("/")){let A=Object.keys(Q.jurisdictions).length,F=A===1?L:L.endsWith("/")?L+V.name.toLowerCase():`${L}/${V.name.toLowerCase()}`;G=`${window.location.origin}${F}`,e$(`\uD83D\uDD27 RPC URL (override): ${V.rpc}  ${G} (path proxy, ${A} jurisdictions)`)}else if(L.startsWith(":"))G=`${window.location.protocol}//${window.location.hostname}${L}`,e$(`\uD83D\uDD27 RPC URL (override): ${V.rpc}  ${G} (custom port)`);else G=L,e$(`\uD83D\uDD27 RPC URL (override): ${V.rpc}  ${G} (full URL)`);else if(j$&&G.startsWith("/"))G=`${window.location.origin}${G}`,e$(`\uD83D\uDD27 RPC-TRANSFORM-PROXY: ${V.rpc}  ${G}`,{origin:window.location.origin,proxyPath:V.rpc});else if(j$&&G.startsWith(":")){let A=parseInt(G.slice(1)),F=window.location.hostname.match(/localhost|127\.0\.0\.1/),C=F?A:A+1e4;G=`${window.location.protocol}//${window.location.hostname}:${C}`,e$(`\uD83D\uDD27 RPC-TRANSFORM-DEFAULT: ${V.rpc}  ${G}`,{hostname:window.location.hostname,isLocalhost:!!F,port:A,actualPort:C,portOffset:F?0:1e4})}else if(!j$&&G.startsWith(":"))G=`http://localhost${G}`;e$(`\uD83D\uDCCD FINAL-RPC-URL: ${Z}  ${G}`,{entityProvider:V.contracts.entityProvider,depository:V.contracts.depository}),$.set(Z,{address:G,name:V.name,entityProviderAddress:V.contracts.entityProvider,depositoryAddress:V.contracts.depository,chainId:V.chainId})}}catch(Q){l0("BLOCKCHAIN"," Failed to load jurisdictions:",Q)}return $},w8=null,Y5=async()=>{if(j$&&w8!==null)return console.log("\uD83D\uDD0D JURISDICTIONS: Using cached browser data"),w8;return w8=await Gq(),w8},NY=async()=>{let $=await Y5();return Array.from($.values())},_S=($,Q)=>{console.log("[BrowserVM] Setting jurisdiction override:",{entityProviderAddress:$,depositoryAddress:Q}),w8=new Map,w8.set("arrakis",{name:"Arrakis",chainId:1337,rpc:"http://localhost:8545",entityProviderAddress:$,depositoryAddress:Q}),console.log(" BrowserVM jurisdiction active - numbered entities will register here")},ZW=async($)=>{return(await Y5()).get($)},HV=async($,Q,X,Z)=>{try{console.log(` Submitting settle transaction between ${Q.slice(0,10)}... and ${X.slice(0,10)}...`),console.log("\uD83D\uDD0D DIFFS:",Z.map((A)=>({...A,leftDiff:A.leftDiff.toString(),rightDiff:A.rightDiff.toString(),collateralDiff:A.collateralDiff.toString()})));let{depository:Y,provider:V}=await CX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${Y.target}`),await V.getCode(Y.target)==="0x")throw new Error("Contract not deployed at this address");console.log("\uD83D\uDCE4 Calling settle function...");let z=await Y.settle(Q,X,Z);console.log(`\uD83D\uDCAB Transaction sent: ${z.hash}`);let L=await z.wait();if(console.log(` Settlement confirmed in block ${L.blockNumber}`),L.status===0)throw new Error(`Settlement transaction reverted! Hash: ${z.hash}`);return console.log("\uD83C\uDF89 Settlement successful! Both entities should receive SettlementProcessed events"),{txHash:z.hash,blockNumber:L.blockNumber}}catch(Y){throw l0("BLOCKCHAIN"," Settlement failed:",Y),Y}},J5=async($,Q,X,Z,Y)=>{try{console.log(`\uD83D\uDCB8 DIRECT R2R: ${Q.slice(0,10)}  ${X.slice(0,10)}, token ${Z}, amount ${Y}`);let{depository:V,provider:G}=await CX($);if(console.log(`\uD83D\uDD0D CONTRACT ADDRESS: ${V.target}`),await G.getCode(V.target)==="0x")throw new Error("Contract not deployed at this address");console.log(`\uD83D\uDCE4 Calling reserveToReserve(${Q}, ${X}, ${Z}, ${Y})...`);let L=await V.reserveToReserve(Q,X,Z,Y);console.log(`\uD83D\uDCAB Transaction sent: ${L.hash}`);let A=await L.wait();if(console.log(` R2R confirmed in block ${A.blockNumber}`),A.status===0)throw new Error(`R2R transaction reverted! Hash: ${L.hash}`);return console.log("\uD83C\uDF89 Direct R2R successful!"),{txHash:L.hash,blockNumber:A.blockNumber}}catch(V){throw l0("BLOCKCHAIN"," Direct R2R failed:",V),V}};var lZ=G0(()=>{QW();i4();jY();YX();XW();Yq=["function registerNumberedEntity(bytes32 boardHash) external returns (uint256 entityNumber)","function registerNumberedEntitiesBatch(bytes32[] calldata boardHashes) external returns (uint256[] memory entityNumbers)","function assignName(string memory name, uint256 entityNumber) external","function transferName(string memory name, uint256 newEntityNumber) external","function entities(bytes32 entityId) external view returns (tuple(uint256 boardHash, uint8 status, uint256 activationTime))","function nameToNumber(string memory name) external view returns (uint256)","function numberToName(uint256 entityNumber) external view returns (string memory)","function nextNumber() external view returns (uint256)","function getTokenIds(uint256 entityNumber) external pure returns (uint256 controlTokenId, uint256 dividendTokenId)","function getGovernanceInfo(uint256 entityNumber) external view returns (uint256 controlTokenId, uint256 dividendTokenId, uint256 controlSupply, uint256 dividendSupply, bool hasActiveProposal, bytes32 articlesHash)","function balanceOf(address account, uint256 id) external view returns (uint256)","function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data) external","event EntityRegistered(bytes32 indexed entityId, uint256 indexed entityNumber, bytes32 boardHash)","event NameAssigned(string indexed name, uint256 indexed entityNumber)","event NameTransferred(string indexed name, uint256 indexed oldEntityNumber, uint256 indexed newEntityNumber)","event GovernanceEnabled(bytes32 indexed entityId, uint256 controlTokenId, uint256 dividendTokenId)"],Jq=["function debugFundReserves(bytes32 entity, uint256 tokenId, uint256 amount) external","function debugBulkFundEntities() external","function reserveToReserve(bytes32 fromEntity, bytes32 toEntity, uint256 tokenId, uint256 amount) external returns (bool)","function processBatch(bytes32 entity, tuple(tuple(bytes32 receivingEntity, uint256 tokenId, uint256 amount)[] reserveToExternalToken, tuple(bytes32 entity, bytes32 packedToken, uint256 internalTokenId, uint256 amount)[] externalTokenToReserve, tuple(bytes32 receivingEntity, uint256 tokenId, uint256 amount)[] reserveToReserve, tuple(uint256 tokenId, bytes32 receivingEntity, tuple(bytes32 entity, uint256 amount)[] pairs)[] reserveToCollateral, tuple(bytes32 leftEntity, bytes32 rightEntity, tuple(uint256 tokenId, int256 leftDiff, int256 rightDiff, int256 collateralDiff, int256 ondeltaDiff)[] diffs)[] settlements, tuple(bytes32 counterentity, tuple(uint256 tokenId, int256 peerReserveDiff, int256 collateralDiff, int256 ondeltaDiff)[] diffs, uint256[] forgiveDebtsInTokenIds, bytes sig)[] cooperativeUpdate, tuple(bytes32 counterentity, tuple(int256[] offdeltas, uint256[] tokenIds, tuple(address subcontractProviderAddress, bytes encodedBatch, tuple(uint256 deltaIndex, uint256 rightAllowence, uint256 leftAllowence)[] allowences)[] subcontracts) proofbody, bytes initialArguments, bytes finalArguments, bytes sig)[] cooperativeDisputeProof, tuple(bytes32 counterentity, uint256 cooperativeNonce, uint256 disputeNonce, bytes32 proofbodyHash, bytes sig, bytes initialArguments)[] initialDisputeProof, tuple(bytes32 counterentity, uint256 initialCooperativeNonce, uint256 initialDisputeNonce, uint256 disputeUntilBlock, bytes32 initialProofbodyHash, bytes initialArguments, bool startedByLeft, uint256 finalCooperativeNonce, uint256 finalDisputeNonce, tuple(int256[] offdeltas, uint256[] tokenIds, tuple(address subcontractProviderAddress, bytes encodedBatch, tuple(uint256 deltaIndex, uint256 rightAllowence, uint256 leftAllowence)[] allowences)[] subcontracts) finalProofbody, bytes finalArguments, bytes sig)[] finalDisputeProof, tuple(uint256 tokenId, uint256 amount)[] flashloans, uint256 hub_id) batch) external returns (bool)","function prefundAccount(bytes32 counterpartyEntity, uint256 tokenId, uint256 amount) external returns (bool)","function settle(bytes32 leftEntity, bytes32 rightEntity, tuple(uint256 tokenId, int256 leftDiff, int256 rightDiff, int256 collateralDiff)[] diffs) external returns (bool)","function _reserves(bytes32 entity, uint256 tokenId) external view returns (uint256)","event ReserveUpdated(bytes32 indexed entity, uint256 indexed tokenId, uint256 newBalance)","event ReserveTransferred(bytes32 indexed from, bytes32 indexed to, uint256 indexed tokenId, uint256 amount)","event SettlementProcessed(bytes32 indexed leftEntity, bytes32 indexed rightEntity, uint256 indexed tokenId, uint256 leftReserve, uint256 rightReserve, uint256 collateral, int256 ondelta)"]});var z5={};RQ(z5,{resolveEntityIdentifier:()=>U5,requestNamedEntity:()=>K5,isEntityRegistered:()=>O5,hashBoard:()=>BY,generateNumberedEntityId:()=>GZ,generateNamedEntityId:()=>G5,generateLazyEntityId:()=>XU,extractNumberFromEntityId:()=>f8,encodeBoard:()=>x8,detectEntityType:()=>k8,createNumberedEntity:()=>v8,createNumberedEntitiesBatch:()=>V5,createLazyEntity:()=>W5});var x8=($)=>{let Q=$.validators.map((Z)=>({entityId:Z,votingPower:Number($.shares[Z]||1n)})),X={votingThreshold:Number($.threshold),delegates:Q};return K$(X)},BY=($)=>{return hQ.keccak256(hQ.toUtf8Bytes($))},XU=($,Q)=>{let X;if(typeof $[0]==="string")X=$.map((G)=>({name:G,weight:1}));else X=$;let Y={validators:X.slice().sort((G,z)=>G.name.localeCompare(z.name)),threshold:Q.toString()},V=K$(Y);return BY(V)},GZ=($)=>{return`0x${$.toString(16).padStart(64,"0")}`},G5=($)=>{return BY($)},k8=($)=>{if($.startsWith("0x")&&$.length===66)try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return"numbered";return"lazy"}catch{return"lazy"}if(/^[0-9]+$/.test($))try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return"numbered";return"lazy"}catch{return"lazy"}return"lazy"},f8=($)=>{if(!$||typeof $!=="string")throw new Error(`FINTECH-SAFETY: Invalid entityId type: ${typeof $}`);if($.startsWith("0x")&&$.length===66)try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return Number(Q);let X=$.slice(-8);return parseInt(X,16)%9000000+1e6}catch(Q){throw new Error(`FINTECH-SAFETY: Invalid entityId format: ${$} - ${Q}`)}if(/^[0-9]+$/.test($))try{let Q=BigInt($);if(Q>0n&&Q<1000000n)return Number(Q);return Number(Q%9000000n+1000000n)}catch(Q){throw new Error(`FINTECH-SAFETY: Invalid numeric entityId: ${$} - ${Q}`)}throw new Error(`FINTECH-SAFETY: EntityId must be hex or numeric, got: ${$}`)},W5=($,Q,X,Z)=>{let Y=XU(Q,X);if(u0)console.log(`\uD83D\uDD12 Creating lazy entity: ${$}`);if(u0)console.log(`   EntityID: ${Y} (quorum hash)`);if(u0)console.log(`   Validators: ${Q.join(", ")}`);if(u0)console.log(`   Threshold: ${X}`);if(u0)console.log("   \uD83C\uDD93 FREE - No gas required");let V={};return Q.forEach((z)=>{V[z]=1n}),{mode:"proposer-based",threshold:X,validators:Q,shares:V,...Z&&{jurisdiction:Z}}},v8=async($,Q,X,Z)=>{if(!Z)throw new Error("Jurisdiction required for numbered entity registration");let Y=BY(x8({mode:"proposer-based",threshold:X,validators:Q,shares:Q.reduce((z,L)=>({...z,[L]:1n}),{}),jurisdiction:Z}));if(u0)console.log(`\uD83D\uDD22 Creating numbered entity: ${$}`);if(u0)console.log(`   Board Hash: ${Y}`);if(u0)console.log(`   Jurisdiction: ${Z.name}`);if(u0)console.log("   \uD83D\uDCB8 Gas required for registration");let{getNextEntityNumber:V,registerNumberedEntityOnChain:G}=await Promise.resolve().then(() => (lZ(),DV));try{await V(Z);let{entityNumber:z}=await G({mode:"proposer-based",threshold:X,validators:Q,shares:Q.reduce((C,q)=>({...C,[q]:1n}),{}),jurisdiction:Z},$),L=GZ(z);if(u0)console.log(`    Registered Entity Number: ${z}`);if(u0)console.log(`   EntityID: ${L}`);let A={};return Q.forEach((C)=>{A[C]=1n}),{config:{mode:"proposer-based",threshold:X,validators:Q,shares:A,jurisdiction:Z},entityNumber:z,entityId:L}}catch(z){throw console.error(" Failed to register numbered entity on blockchain:",z),z}},V5=async($,Q)=>{if(!Q)throw new Error("Jurisdiction required for numbered entity registration");console.log(`\uD83D\uDD22 Batch creating ${$.length} numbered entities in ONE transaction`);let X=$.map((V)=>({mode:"proposer-based",threshold:V.threshold,validators:V.validators,shares:V.validators.reduce((G,z)=>({...G,[z]:1n}),{}),jurisdiction:Q})),{registerNumberedEntitiesBatchOnChain:Z}=await Promise.resolve().then(() => (lZ(),DV)),{entityNumbers:Y}=await Z(X,Q);return Y.map((V,G)=>{let z=GZ(V),L=X[G];if(!L)throw new Error(`Missing config for entity ${G}`);return console.log(`   Entity ${G+1}/${$.length}: #${V} (${z.slice(0,10)}...)`),{config:L,entityNumber:V,entityId:z}})},K5=async($,Q,X)=>{if(!X)throw new Error("Jurisdiction required for named entity");if(u0)console.log("\uD83C\uDFF7 Requesting named entity assignment");if(u0)console.log(`   Name: ${$}`);if(u0)console.log(`   Target Entity Number: ${Q}`);if(u0)console.log(`   Jurisdiction: ${X.name}`);if(u0)console.log("   \uD83D\uDC51 Requires admin approval");let Z=`req_${Math.random().toString(16).substring(2,10)}`;if(u0)console.log(`   \uD83D\uDCDD Name assignment request submitted: ${Z}`);if(u0)console.log("    Waiting for admin approval...");return Z},U5=async($)=>{if($.startsWith("#")){let Q=parseInt($.slice(1));return{entityId:GZ(Q),type:"numbered"}}else if(/^\d+$/.test($)){let Q=parseInt($);return{entityId:GZ(Q),type:"numbered"}}else if($.startsWith("0x"))return{entityId:$,type:k8($)};else{if(u0)console.log(`\uD83D\uDD0D Looking up named entity: ${$}`);let Q=$==="coinbase"?42:0;if(Q>0)return{entityId:GZ(Q),type:"named"};else throw new Error(`Named entity "${$}" not found`)}},O5=async($)=>{if(k8($)==="lazy")return!1;if(!/^[0-9]+$/.test($))return!1;try{let X=BigInt($);return X>0n&&X<1000000n}catch{return!1}};var jY=G0(()=>{QW();YX()});var qq={};RQ(qq,{types:()=>pS,promisify:()=>zq,log:()=>Kq,isUndefined:()=>YW,isSymbol:()=>cS,isString:()=>VU,isRegExp:()=>ZU,isPrimitive:()=>uS,isObject:()=>JW,isNumber:()=>Vq,isNullOrUndefined:()=>mS,isNull:()=>WU,isFunction:()=>JU,isError:()=>YU,isDate:()=>q5,isBuffer:()=>dS,isBoolean:()=>C5,isArray:()=>Wq,inspect:()=>g8,inherits:()=>Uq,format:()=>M5,deprecate:()=>xS,default:()=>nS,debuglog:()=>kS,callbackifyOnRejected:()=>T5,callbackify:()=>Hq,_extend:()=>F5,TextEncoder:()=>Dq,TextDecoder:()=>Lq});function M5($,...Q){if(!VU($)){var X=[$];for(var Z=0;Z<Q.length;Z++)X.push(g8(Q[Z]));return X.join(" ")}var Z=0,Y=Q.length,V=String($).replace(wS,function(z){if(z==="%%")return"%";if(Z>=Y)return z;switch(z){case"%s":return String(Q[Z++]);case"%d":return Number(Q[Z++]);case"%j":try{return JSON.stringify(Q[Z++])}catch(L){return"[Circular]"}default:return z}});for(var G=Q[Z];Z<Y;G=Q[++Z])if(WU(G)||!JW(G))V+=" "+G;else V+=" "+g8(G);return V}function xS($,Q){if(typeof process==="undefined"||process?.noDeprecation===!0)return $;var X=!1;function Z(...Y){if(!X){if(process.throwDeprecation)throw new Error(Q);else if(process.traceDeprecation)console.trace(Q);else console.error(Q);X=!0}return $.apply(this,...Y)}return Z}function fS($,Q){var X=g8.styles[Q];if(X)return"\x1B["+g8.colors[X][0]+"m"+$+"\x1B["+g8.colors[X][1]+"m";else return $}function vS($,Q){return $}function gS($){var Q={};return $.forEach(function(X,Z){Q[X]=!0}),Q}function GU($,Q,X){if($.customInspect&&Q&&JU(Q.inspect)&&Q.inspect!==g8&&!(Q.constructor&&Q.constructor.prototype===Q)){var Z=Q.inspect(X,$);if(!VU(Z))Z=GU($,Z,X);return Z}var Y=yS($,Q);if(Y)return Y;var V=Object.keys(Q),G=gS(V);if($.showHidden)V=Object.getOwnPropertyNames(Q);if(YU(Q)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return H5(Q);if(V.length===0){if(JU(Q)){var z=Q.name?": "+Q.name:"";return $.stylize("[Function"+z+"]","special")}if(ZU(Q))return $.stylize(RegExp.prototype.toString.call(Q),"regexp");if(q5(Q))return $.stylize(Date.prototype.toString.call(Q),"date");if(YU(Q))return H5(Q)}var L="",A=!1,F=["{","}"];if(Wq(Q))A=!0,F=["[","]"];if(JU(Q)){var C=Q.name?": "+Q.name:"";L=" [Function"+C+"]"}if(ZU(Q))L=" "+RegExp.prototype.toString.call(Q);if(q5(Q))L=" "+Date.prototype.toUTCString.call(Q);if(YU(Q))L=" "+H5(Q);if(V.length===0&&(!A||Q.length==0))return F[0]+L+F[1];if(X<0)if(ZU(Q))return $.stylize(RegExp.prototype.toString.call(Q),"regexp");else return $.stylize("[Object]","special");$.seen.push(Q);var q;if(A)q=hS($,Q,X,G,V);else q=V.map(function(R){return L5($,Q,X,G,R,A)});return $.seen.pop(),bS(q,L,F)}function yS($,Q){if(YW(Q))return $.stylize("undefined","undefined");if(VU(Q)){var X="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(X,"string")}if(Vq(Q))return $.stylize(""+Q,"number");if(C5(Q))return $.stylize(""+Q,"boolean");if(WU(Q))return $.stylize("null","null")}function H5($){return"["+Error.prototype.toString.call($)+"]"}function hS($,Q,X,Z,Y){var V=[];for(var G=0,z=Q.length;G<z;++G)if(Oq(Q,String(G)))V.push(L5($,Q,X,Z,String(G),!0));else V.push("");return Y.forEach(function(L){if(!L.match(/^\d+$/))V.push(L5($,Q,X,Z,L,!0))}),V}function L5($,Q,X,Z,Y,V){var G,z,L;if(L=Object.getOwnPropertyDescriptor(Q,Y)||{value:Q[Y]},L.get)if(L.set)z=$.stylize("[Getter/Setter]","special");else z=$.stylize("[Getter]","special");else if(L.set)z=$.stylize("[Setter]","special");if(!Oq(Z,Y))G="["+Y+"]";if(!z)if($.seen.indexOf(L.value)<0){if(WU(X))z=GU($,L.value,null);else z=GU($,L.value,X-1);if(z.indexOf(`
`)>-1)if(V)z=z.split(`
`).map(function(A){return"  "+A}).join(`
`).slice(2);else z=`
`+z.split(`
`).map(function(A){return"   "+A}).join(`
`)}else z=$.stylize("[Circular]","special");if(YW(G)){if(V&&Y.match(/^\d+$/))return z;if(G=JSON.stringify(""+Y),G.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))G=G.slice(1,-1),G=$.stylize(G,"name");else G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=$.stylize(G,"string")}return G+": "+z}function bS($,Q,X){var Z=0,Y=$.reduce(function(V,G){if(Z++,G.indexOf(`
`)>=0)Z++;return V+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(Y>60)return X[0]+(Q===""?"":Q+`
 `)+" "+$.join(`,
  `)+" "+X[1];return X[0]+Q+" "+$.join(", ")+" "+X[1]}function Wq($){return Array.isArray($)}function C5($){return typeof $==="boolean"}function WU($){return $===null}function mS($){return $==null}function Vq($){return typeof $==="number"}function VU($){return typeof $==="string"}function cS($){return typeof $==="symbol"}function YW($){return $===void 0}function ZU($){return JW($)&&A5($)==="[object RegExp]"}function JW($){return typeof $==="object"&&$!==null}function q5($){return JW($)&&A5($)==="[object Date]"}function YU($){return JW($)&&(A5($)==="[object Error]"||$ instanceof Error)}function JU($){return typeof $==="function"}function uS($){return $===null||typeof $==="boolean"||typeof $==="number"||typeof $==="string"||typeof $==="symbol"||typeof $==="undefined"}function dS($){return $ instanceof Buffer}function A5($){return Object.prototype.toString.call($)}function D5($){return $<10?"0"+$.toString(10):$.toString(10)}function oS(){var $=new Date,Q=[D5($.getHours()),D5($.getMinutes()),D5($.getSeconds())].join(":");return[$.getDate(),lS[$.getMonth()],Q].join(" ")}function Kq(...$){console.log("%s - %s",oS(),M5.apply(null,$))}function Uq($,Q){if(Q)$.super_=Q,$.prototype=Object.create(Q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}})}function F5($,Q){if(!Q||!JW(Q))return $;var X=Object.keys(Q),Z=X.length;while(Z--)$[X[Z]]=Q[X[Z]];return $}function Oq($,Q){return Object.prototype.hasOwnProperty.call($,Q)}function T5($,Q){if(!$){var X=new Error("Promise was rejected with a falsy value");X.reason=$,$=X}return Q($)}function Hq($){if(typeof $!=="function")throw new TypeError('The "original" argument must be of type Function');function Q(...X){var Z=X.pop();if(typeof Z!=="function")throw new TypeError("The last argument must be of type Function");var Y=this,V=function(...G){return Z.apply(Y,...G)};$.apply(this,X).then(function(G){process.nextTick(V.bind(null,null,G))},function(G){process.nextTick(T5.bind(null,G,V))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf($)),Object.defineProperties(Q,Object.getOwnPropertyDescriptors($)),Q}var wS,kS,g8,pS=()=>{},lS,zq,Dq,Lq,nS;var Mq=G0(()=>{wS=/%[sdj%]/g;kS=(($={},Q={},X)=>((X=typeof process!=="undefined"&&!1)&&(X=X.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),Q=new RegExp("^"+X+"$","i"),(Z)=>{if(Z=Z.toUpperCase(),!$[Z])if(Q.test(Z))$[Z]=function(...Y){console.error("%s: %s",Z,pid,M5.apply(null,...Y))};else $[Z]=function(){};return $[Z]}))(),g8=(($)=>($.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.custom=Symbol.for("nodejs.util.inspect.custom"),$))(function $(Q,X,...Z){var Y={seen:[],stylize:vS};if(Z.length>=1)Y.depth=Z[0];if(Z.length>=2)Y.colors=Z[1];if(C5(X))Y.showHidden=X;else if(X)F5(Y,X);if(YW(Y.showHidden))Y.showHidden=!1;if(YW(Y.depth))Y.depth=2;if(YW(Y.colors))Y.colors=!1;if(Y.colors)Y.stylize=fS;return GU(Y,Q,Y.depth)});lS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];zq=(($)=>($.custom=Symbol.for("nodejs.util.promisify.custom"),$))(function $(Q){if(typeof Q!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&Q[kCustomPromisifiedSymbol]){var X=Q[kCustomPromisifiedSymbol];if(typeof X!=="function")throw new TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,kCustomPromisifiedSymbol,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(...Z){var Y,V,G=new Promise(function(z,L){Y=z,V=L});Z.push(function(z,L){if(z)V(z);else Y(L)});try{Q.apply(this,Z)}catch(z){V(z)}return G}if(Object.setPrototypeOf(X,Object.getPrototypeOf(Q)),kCustomPromisifiedSymbol)Object.defineProperty(X,kCustomPromisifiedSymbol,{value:X,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(X,Object.getOwnPropertyDescriptors(Q))});({TextEncoder:Dq,TextDecoder:Lq}=globalThis),nS={TextEncoder:Dq,TextDecoder:Lq,promisify:zq,log:Kq,inherits:Uq,_extend:F5,callbackifyOnRejected:T5,callbackify:Hq}});var I5=A$((km,Iq)=>{var N$=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),b$=N$(($,Q)=>{class X extends Error{constructor(Z){if(!Array.isArray(Z))throw new TypeError(`Expected input to be an Array, got ${typeof Z}`);let Y="";for(let V=0;V<Z.length;V++)Y+=`    ${Z[V].stack}
`;super(Y);this.name="AggregateError",this.errors=Z}}Q.exports={AggregateError:X,ArrayIsArray(Z){return Array.isArray(Z)},ArrayPrototypeIncludes(Z,Y){return Z.includes(Y)},ArrayPrototypeIndexOf(Z,Y){return Z.indexOf(Y)},ArrayPrototypeJoin(Z,Y){return Z.join(Y)},ArrayPrototypeMap(Z,Y){return Z.map(Y)},ArrayPrototypePop(Z,Y){return Z.pop(Y)},ArrayPrototypePush(Z,Y){return Z.push(Y)},ArrayPrototypeSlice(Z,Y,V){return Z.slice(Y,V)},Error,FunctionPrototypeCall(Z,Y,...V){return Z.call(Y,...V)},FunctionPrototypeSymbolHasInstance(Z,Y){return Function.prototype[Symbol.hasInstance].call(Z,Y)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(Z,Y){return Object.defineProperties(Z,Y)},ObjectDefineProperty(Z,Y,V){return Object.defineProperty(Z,Y,V)},ObjectGetOwnPropertyDescriptor(Z,Y){return Object.getOwnPropertyDescriptor(Z,Y)},ObjectKeys(Z){return Object.keys(Z)},ObjectSetPrototypeOf(Z,Y){return Object.setPrototypeOf(Z,Y)},Promise,PromisePrototypeCatch(Z,Y){return Z.catch(Y)},PromisePrototypeThen(Z,Y,V){return Z.then(Y,V)},PromiseReject(Z){return Promise.reject(Z)},PromiseResolve(Z){return Promise.resolve(Z)},ReflectApply:Reflect.apply,RegExpPrototypeTest(Z,Y){return Z.test(Y)},SafeSet:Set,String,StringPrototypeSlice(Z,Y,V){return Z.slice(Y,V)},StringPrototypeToLowerCase(Z){return Z.toLowerCase()},StringPrototypeToUpperCase(Z){return Z.toUpperCase()},StringPrototypeTrim(Z){return Z.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(Z,Y,V){return Z.set(Y,V)},Boolean,Uint8Array}}),Cq=N$(($,Q)=>{Q.exports={format(X,...Z){return X.replace(/%([sdifj])/g,function(...[Y,V]){let G=Z.shift();if(V==="f")return G.toFixed(6);else if(V==="j")return JSON.stringify(G);else if(V==="s"&&typeof G==="object")return`${G.constructor!==Object?G.constructor.name:""} {}`.trim();else return G.toString()})},inspect(X){switch(typeof X){case"string":if(X.includes("'")){if(!X.includes('"'))return`"${X}"`;else if(!X.includes("`")&&!X.includes("${"))return`\`${X}\``}return`'${X}'`;case"number":if(isNaN(X))return"NaN";else if(Object.is(X,-0))return String(X);return X;case"bigint":return`${String(X)}n`;case"boolean":case"undefined":return String(X);case"object":return"{}"}}}}),JX=N$(($,Q)=>{var{format:X,inspect:Z}=Cq(),{AggregateError:Y}=b$(),V=globalThis.AggregateError||Y,G=Symbol("kIsNodeError"),z=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,A={};function F(B,_){if(!B)throw new A.ERR_INTERNAL_ASSERTION(_)}function C(B){let _="",k=B.length,f=B[0]==="-"?1:0;for(;k>=f+4;k-=3)_=`_${B.slice(k-3,k)}${_}`;return`${B.slice(0,k)}${_}`}function q(B,_,k){if(typeof _==="function")return F(_.length<=k.length,`Code: ${B}; The provided arguments length (${k.length}) does not match the required ones (${_.length}).`),_(...k);let f=(_.match(/%[dfijoOs]/g)||[]).length;if(F(f===k.length,`Code: ${B}; The provided arguments length (${k.length}) does not match the required ones (${f}).`),k.length===0)return _;return X(_,...k)}function R(B,_,k){if(!k)k=Error;class f extends k{constructor(...v){super(q(B,_,v))}toString(){return`${this.name} [${B}]: ${this.message}`}}Object.defineProperties(f.prototype,{name:{value:k.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${B}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),f.prototype.code=B,f.prototype[G]=!0,A[B]=f}function I(B){let _="__node_internal_"+B.name;return Object.defineProperty(B,"name",{value:_}),B}function S(B,_){if(B&&_&&B!==_){if(Array.isArray(_.errors))return _.errors.push(B),_;let k=new V([_,B],_.message);return k.code=_.code,k}return B||_}class N extends Error{constructor(B="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!=="object")throw new A.ERR_INVALID_ARG_TYPE("options","Object",_);super(B,_);this.code="ABORT_ERR",this.name="AbortError"}}R("ERR_ASSERTION","%s",Error),R("ERR_INVALID_ARG_TYPE",(B,_,k)=>{if(F(typeof B==="string","'name' must be a string"),!Array.isArray(_))_=[_];let f="The ";if(B.endsWith(" argument"))f+=`${B} `;else f+=`"${B}" ${B.includes(".")?"property":"argument"} `;f+="must be ";let v=[],p=[],c=[];for(let t of _)if(F(typeof t==="string","All expected entries have to be of type string"),z.includes(t))v.push(t.toLowerCase());else if(L.test(t))p.push(t);else F(t!=="object",'The value "object" should be written as "Object"'),c.push(t);if(p.length>0){let t=v.indexOf("object");if(t!==-1)v.splice(v,t,1),p.push("Object")}if(v.length>0){switch(v.length){case 1:f+=`of type ${v[0]}`;break;case 2:f+=`one of type ${v[0]} or ${v[1]}`;break;default:{let t=v.pop();f+=`one of type ${v.join(", ")}, or ${t}`}}if(p.length>0||c.length>0)f+=" or "}if(p.length>0){switch(p.length){case 1:f+=`an instance of ${p[0]}`;break;case 2:f+=`an instance of ${p[0]} or ${p[1]}`;break;default:{let t=p.pop();f+=`an instance of ${p.join(", ")}, or ${t}`}}if(c.length>0)f+=" or "}switch(c.length){case 0:break;case 1:if(c[0].toLowerCase()!==c[0])f+="an ";f+=`${c[0]}`;break;case 2:f+=`one of ${c[0]} or ${c[1]}`;break;default:{let t=c.pop();f+=`one of ${c.join(", ")}, or ${t}`}}if(k==null)f+=`. Received ${k}`;else if(typeof k==="function"&&k.name)f+=`. Received function ${k.name}`;else if(typeof k==="object"){var X0;if((X0=k.constructor)!==null&&X0!==void 0&&X0.name)f+=`. Received an instance of ${k.constructor.name}`;else{let t=Z(k,{depth:-1});f+=`. Received ${t}`}}else{let t=Z(k,{colors:!1});if(t.length>25)t=`${t.slice(0,25)}...`;f+=`. Received type ${typeof k} (${t})`}return f},TypeError),R("ERR_INVALID_ARG_VALUE",(B,_,k="is invalid")=>{let f=Z(_);if(f.length>128)f=f.slice(0,128)+"...";return`The ${B.includes(".")?"property":"argument"} '${B}' ${k}. Received ${f}`},TypeError),R("ERR_INVALID_RETURN_VALUE",(B,_,k)=>{var f;let v=k!==null&&k!==void 0&&(f=k.constructor)!==null&&f!==void 0&&f.name?`instance of ${k.constructor.name}`:`type ${typeof k}`;return`Expected ${B} to be returned from the "${_}" function but got ${v}.`},TypeError),R("ERR_MISSING_ARGS",(...B)=>{F(B.length>0,"At least one arg needs to be specified");let _,k=B.length;switch(B=(Array.isArray(B)?B:[B]).map((f)=>`"${f}"`).join(" or "),k){case 1:_+=`The ${B[0]} argument`;break;case 2:_+=`The ${B[0]} and ${B[1]} arguments`;break;default:{let f=B.pop();_+=`The ${B.join(", ")}, and ${f} arguments`}break}return`${_} must be specified`},TypeError),R("ERR_OUT_OF_RANGE",(B,_,k)=>{F(_,'Missing "range" argument');let f;if(Number.isInteger(k)&&Math.abs(k)>4294967296)f=C(String(k));else if(typeof k==="bigint"){f=String(k);let v=BigInt(2)**BigInt(32);if(k>v||k<-v)f=C(f);f+="n"}else f=Z(k);return`The value of "${B}" is out of range. It must be ${_}. Received ${f}`},RangeError),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),R("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),R("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),R("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),R("ERR_STREAM_WRITE_AFTER_END","write after end",Error),R("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Q.exports={AbortError:N,aggregateTwoErrors:I(S),hideStackFrames:I,codes:A}}),sS=N$(($,Q)=>{Object.defineProperty($,"__esModule",{value:!0});var X=new WeakMap,Z=new WeakMap;function Y(h){let l=X.get(h);return console.assert(l!=null,"'this' is expected an Event object, but got",h),l}function V(h){if(h.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",h.passiveListener);return}if(!h.event.cancelable)return;if(h.canceled=!0,typeof h.event.preventDefault==="function")h.event.preventDefault()}function G(h,l){X.set(this,{eventTarget:h,event:l,eventPhase:2,currentTarget:h,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:l.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let E=Object.keys(l);for(let J=0;J<E.length;++J){let U=E[J];if(!(U in this))Object.defineProperty(this,U,z(U))}}if(G.prototype={get type(){return Y(this).event.type},get target(){return Y(this).eventTarget},get currentTarget(){return Y(this).currentTarget},composedPath(){let h=Y(this).currentTarget;if(h==null)return[];return[h]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Y(this).eventPhase},stopPropagation(){let h=Y(this);if(h.stopped=!0,typeof h.event.stopPropagation==="function")h.event.stopPropagation()},stopImmediatePropagation(){let h=Y(this);if(h.stopped=!0,h.immediateStopped=!0,typeof h.event.stopImmediatePropagation==="function")h.event.stopImmediatePropagation()},get bubbles(){return Boolean(Y(this).event.bubbles)},get cancelable(){return Boolean(Y(this).event.cancelable)},preventDefault(){V(Y(this))},get defaultPrevented(){return Y(this).canceled},get composed(){return Boolean(Y(this).event.composed)},get timeStamp(){return Y(this).timeStamp},get srcElement(){return Y(this).eventTarget},get cancelBubble(){return Y(this).stopped},set cancelBubble(h){if(!h)return;let l=Y(this);if(l.stopped=!0,typeof l.event.cancelBubble==="boolean")l.event.cancelBubble=!0},get returnValue(){return!Y(this).canceled},set returnValue(h){if(!h)V(Y(this))},initEvent(){}},Object.defineProperty(G.prototype,"constructor",{value:G,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.Event!=="undefined")Object.setPrototypeOf(G.prototype,window.Event.prototype),Z.set(window.Event.prototype,G);function z(h){return{get(){return Y(this).event[h]},set(l){Y(this).event[h]=l},configurable:!0,enumerable:!0}}function L(h){return{value(){let l=Y(this).event;return l[h].apply(l,arguments)},configurable:!0,enumerable:!0}}function A(h,l){let E=Object.keys(l);if(E.length===0)return h;function J(U,O){h.call(this,U,O)}J.prototype=Object.create(h.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let U=0;U<E.length;++U){let O=E[U];if(!(O in h.prototype)){let K=typeof Object.getOwnPropertyDescriptor(l,O).value==="function";Object.defineProperty(J.prototype,O,K?L(O):z(O))}}return J}function F(h){if(h==null||h===Object.prototype)return G;let l=Z.get(h);if(l==null)l=A(F(Object.getPrototypeOf(h)),h),Z.set(h,l);return l}function C(h,l){return new(F(Object.getPrototypeOf(l)))(h,l)}function q(h){return Y(h).immediateStopped}function R(h,l){Y(h).eventPhase=l}function I(h,l){Y(h).currentTarget=l}function S(h,l){Y(h).passiveListener=l}var N=new WeakMap,B=1,_=2,k=3;function f(h){return h!==null&&typeof h==="object"}function v(h){let l=N.get(h);if(l==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return l}function p(h){return{get(){let l=v(this).get(h);while(l!=null){if(l.listenerType===k)return l.listener;l=l.next}return null},set(l){if(typeof l!=="function"&&!f(l))l=null;let E=v(this),J=null,U=E.get(h);while(U!=null){if(U.listenerType===k)if(J!==null)J.next=U.next;else if(U.next!==null)E.set(h,U.next);else E.delete(h);else J=U;U=U.next}if(l!==null){let O={listener:l,listenerType:k,passive:!1,once:!1,next:null};if(J===null)E.set(h,O);else J.next=O}},configurable:!0,enumerable:!0}}function c(h,l){Object.defineProperty(h,`on${l}`,p(l))}function X0(h){function l(){t.call(this)}l.prototype=Object.create(t.prototype,{constructor:{value:l,configurable:!0,writable:!0}});for(let E=0;E<h.length;++E)c(l.prototype,h[E]);return l}function t(){if(this instanceof t){N.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return X0(arguments[0]);if(arguments.length>0){let h=new Array(arguments.length);for(let l=0;l<arguments.length;++l)h[l]=arguments[l];return X0(h)}throw new TypeError("Cannot call a class as a function")}if(t.prototype={addEventListener(h,l,E){if(l==null)return;if(typeof l!=="function"&&!f(l))throw new TypeError("'listener' should be a function or an object.");let J=v(this),U=f(E),O=(U?Boolean(E.capture):Boolean(E))?B:_,K={listener:l,listenerType:O,passive:U&&Boolean(E.passive),once:U&&Boolean(E.once),next:null},H=J.get(h);if(H===void 0){J.set(h,K);return}let T=null;while(H!=null){if(H.listener===l&&H.listenerType===O)return;T=H,H=H.next}T.next=K},removeEventListener(h,l,E){if(l==null)return;let J=v(this),U=(f(E)?Boolean(E.capture):Boolean(E))?B:_,O=null,K=J.get(h);while(K!=null){if(K.listener===l&&K.listenerType===U){if(O!==null)O.next=K.next;else if(K.next!==null)J.set(h,K.next);else J.delete(h);return}O=K,K=K.next}},dispatchEvent(h){if(h==null||typeof h.type!=="string")throw new TypeError('"event.type" should be a string.');let l=v(this),E=h.type,J=l.get(E);if(J==null)return!0;let U=C(this,h),O=null;while(J!=null){if(J.once)if(O!==null)O.next=J.next;else if(J.next!==null)l.set(E,J.next);else l.delete(E);else O=J;if(S(U,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,U)}catch(K){if(typeof console!=="undefined"&&typeof console.error==="function")console.error(K)}else if(J.listenerType!==k&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(U);if(q(U))break;J=J.next}return S(U,null),R(U,0),I(U,null),!U.defaultPrevented}},Object.defineProperty(t.prototype,"constructor",{value:t,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.EventTarget!=="undefined")Object.setPrototypeOf(t.prototype,window.EventTarget.prototype);$.defineEventAttribute=c,$.EventTarget=t,$.default=t,Q.exports=t,Q.exports.EventTarget=Q.exports.default=t,Q.exports.defineEventAttribute=c}),LV=N$(($,Q)=>{Object.defineProperty($,"__esModule",{value:!0});var X=sS();class Z extends X.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let F=G.get(this);if(typeof F!=="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return F}}X.defineEventAttribute(Z.prototype,"abort");function Y(){let F=Object.create(Z.prototype);return X.EventTarget.call(F),G.set(F,!1),F}function V(F){if(G.get(F)!==!1)return;G.set(F,!0),F.dispatchEvent({type:"abort"})}var G=new WeakMap;if(Object.defineProperties(Z.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(Z.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class z{constructor(){L.set(this,Y())}get signal(){return A(this)}abort(){V(A(this))}}var L=new WeakMap;function A(F){let C=L.get(F);if(C==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${F===null?"null":typeof F}`);return C}if(Object.defineProperties(z.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(z.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});$.AbortController=z,$.AbortSignal=Z,$.default=z,Q.exports=z,Q.exports.AbortController=Q.exports.default=z,Q.exports.AbortSignal=Z}),AX=N$(($,Q)=>{var X=(c$(),X$(m$)),{format:Z,inspect:Y}=Cq(),{codes:{ERR_INVALID_ARG_TYPE:V}}=JX(),{kResistStopPropagation:G,AggregateError:z,SymbolDispose:L}=b$(),A=globalThis.AbortSignal||LV().AbortSignal,F=globalThis.AbortController||LV().AbortController,C=Object.getPrototypeOf(async function(){}).constructor,q=globalThis.Blob||X.Blob,R=typeof q!=="undefined"?function N(B){return B instanceof q}:function N(B){return!1},I=(N,B)=>{if(N!==void 0&&(N===null||typeof N!=="object"||!("aborted"in N)))throw new V(B,"AbortSignal",N)},S=(N,B)=>{if(typeof N!=="function")throw new V(B,"Function",N)};Q.exports={AggregateError:z,kEmptyObject:Object.freeze({}),once(N){let B=!1;return function(..._){if(B)return;B=!0,N.apply(this,_)}},createDeferredPromise:function(){let N,B;return{promise:new Promise((_,k)=>{N=_,B=k}),resolve:N,reject:B}},promisify(N){return new Promise((B,_)=>{N((k,...f)=>{if(k)return _(k);return B(...f)})})},debuglog(){return function(){}},format:Z,inspect:Y,types:{isAsyncFunction(N){return N instanceof C},isArrayBufferView(N){return ArrayBuffer.isView(N)}},isBlob:R,deprecate(N,B){return N},addAbortListener:(d8(),X$(u8)).addAbortListener||function N(B,_){if(B===void 0)throw new V("signal","AbortSignal",B);I(B,"signal"),S(_,"listener");let k;if(B.aborted)queueMicrotask(()=>_());else B.addEventListener("abort",_,{__proto__:null,once:!0,[G]:!0}),k=()=>{B.removeEventListener("abort",_)};return{__proto__:null,[L](){var f;(f=k)===null||f===void 0||f()}}},AbortSignalAny:A.any||function N(B){if(B.length===1)return B[0];let _=new F,k=()=>_.abort();return B.forEach((f)=>{I(f,"signals"),f.addEventListener("abort",k,{once:!0})}),_.signal.addEventListener("abort",()=>{B.forEach((f)=>f.removeEventListener("abort",k))},{once:!0}),_.signal}},Q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),qV=N$(($,Q)=>{var{ArrayIsArray:X,ArrayPrototypeIncludes:Z,ArrayPrototypeJoin:Y,ArrayPrototypeMap:V,NumberIsInteger:G,NumberIsNaN:z,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:A,NumberParseInt:F,ObjectPrototypeHasOwnProperty:C,RegExpPrototypeExec:q,String:R,StringPrototypeToUpperCase:I,StringPrototypeTrim:S}=b$(),{hideStackFrames:N,codes:{ERR_SOCKET_BAD_PORT:B,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:k,ERR_OUT_OF_RANGE:f,ERR_UNKNOWN_SIGNAL:v}}=JX(),{normalizeEncoding:p}=AX(),{isAsyncFunction:c,isArrayBufferView:X0}=AX().types,t={};function h(e){return e===(e|0)}function l(e){return e===e>>>0}var E=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function U(e,i,Y0){if(typeof e==="undefined")e=Y0;if(typeof e==="string"){if(q(E,e)===null)throw new k(i,e,J);e=F(e,8)}return H(e,i),e}var O=N((e,i,Y0=A,A0=L)=>{if(typeof e!=="number")throw new _(i,"number",e);if(!G(e))throw new f(i,"an integer",e);if(e<Y0||e>A0)throw new f(i,`>= ${Y0} && <= ${A0}`,e)}),K=N((e,i,Y0=-2147483648,A0=2147483647)=>{if(typeof e!=="number")throw new _(i,"number",e);if(!G(e))throw new f(i,"an integer",e);if(e<Y0||e>A0)throw new f(i,`>= ${Y0} && <= ${A0}`,e)}),H=N((e,i,Y0=!1)=>{if(typeof e!=="number")throw new _(i,"number",e);if(!G(e))throw new f(i,"an integer",e);let A0=Y0?1:0,U0=4294967295;if(e<A0||e>U0)throw new f(i,`>= ${A0} && <= ${U0}`,e)});function T(e,i){if(typeof e!=="string")throw new _(i,"string",e)}function P(e,i,Y0=void 0,A0){if(typeof e!=="number")throw new _(i,"number",e);if(Y0!=null&&e<Y0||A0!=null&&e>A0||(Y0!=null||A0!=null)&&z(e))throw new f(i,`${Y0!=null?`>= ${Y0}`:""}${Y0!=null&&A0!=null?" && ":""}${A0!=null?`<= ${A0}`:""}`,e)}var D=N((e,i,Y0)=>{if(!Z(Y0,e)){let A0="must be one of: "+Y(V(Y0,(U0)=>typeof U0==="string"?`'${U0}'`:R(U0)),", ");throw new k(i,e,A0)}});function W(e,i){if(typeof e!=="boolean")throw new _(i,"boolean",e)}function M(e,i,Y0){return e==null||!C(e,i)?Y0:e[i]}var w=N((e,i,Y0=null)=>{let A0=M(Y0,"allowArray",!1),U0=M(Y0,"allowFunction",!1);if(!M(Y0,"nullable",!1)&&e===null||!A0&&X(e)||typeof e!=="object"&&(!U0||typeof e!=="function"))throw new _(i,"Object",e)}),j=N((e,i)=>{if(e!=null&&typeof e!=="object"&&typeof e!=="function")throw new _(i,"a dictionary",e)}),x=N((e,i,Y0=0)=>{if(!X(e))throw new _(i,"Array",e);if(e.length<Y0){let A0=`must be longer than ${Y0}`;throw new k(i,e,A0)}});function m(e,i){x(e,i);for(let Y0=0;Y0<e.length;Y0++)T(e[Y0],`${i}[${Y0}]`)}function o(e,i){x(e,i);for(let Y0=0;Y0<e.length;Y0++)W(e[Y0],`${i}[${Y0}]`)}function r(e,i){x(e,i);for(let Y0=0;Y0<e.length;Y0++){let A0=e[Y0],U0=`${i}[${Y0}]`;if(A0==null)throw new _(U0,"AbortSignal",A0);W0(A0,U0)}}function z0(e,i="signal"){if(T(e,i),t[e]===void 0){if(t[I(e)]!==void 0)throw new v(e+" (signals must use all capital letters)");throw new v(e)}}var d=N((e,i="buffer")=>{if(!X0(e))throw new _(i,["Buffer","TypedArray","DataView"],e)});function n(e,i){let Y0=p(i),A0=e.length;if(Y0==="hex"&&A0%2!==0)throw new k("encoding",i,`is invalid for data of length ${A0}`)}function R0(e,i="Port",Y0=!0){if(typeof e!=="number"&&typeof e!=="string"||typeof e==="string"&&S(e).length===0||+e!==+e>>>0||e>65535||e===0&&!Y0)throw new B(i,e,Y0);return e|0}var W0=N((e,i)=>{if(e!==void 0&&(e===null||typeof e!=="object"||!("aborted"in e)))throw new _(i,"AbortSignal",e)}),V0=N((e,i)=>{if(typeof e!=="function")throw new _(i,"Function",e)}),a=N((e,i)=>{if(typeof e!=="function"||c(e))throw new _(i,"Function",e)}),u=N((e,i)=>{if(e!==void 0)throw new _(i,"undefined",e)});function s(e,i,Y0){if(!Z(Y0,e))throw new _(i,`('${Y(Y0,"|")}')`,e)}var b0=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Q0(e,i){if(typeof e==="undefined"||!q(b0,e))throw new k(i,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function $0(e){if(typeof e==="string")return Q0(e,"hints"),e;else if(X(e)){let i=e.length,Y0="";if(i===0)return Y0;for(let A0=0;A0<i;A0++){let U0=e[A0];if(Q0(U0,"hints"),Y0+=U0,A0!==i-1)Y0+=", "}return Y0}throw new k("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Q.exports={isInt32:h,isUint32:l,parseFileMode:U,validateArray:x,validateStringArray:m,validateBooleanArray:o,validateAbortSignalArray:r,validateBoolean:W,validateBuffer:d,validateDictionary:j,validateEncoding:n,validateFunction:V0,validateInt32:K,validateInteger:O,validateNumber:P,validateObject:w,validateOneOf:D,validatePlainFunction:a,validatePort:R0,validateSignalName:z0,validateString:T,validateUint32:H,validateUndefined:u,validateUnion:s,validateAbortSignal:W0,validateLinkHeaderValue:$0}}),y8=N$(($,Q)=>{Q.exports=globalThis.process}),wY=N$(($,Q)=>{var{SymbolAsyncIterator:X,SymbolIterator:Z,SymbolFor:Y}=b$(),V=Y("nodejs.stream.destroyed"),G=Y("nodejs.stream.errored"),z=Y("nodejs.stream.readable"),L=Y("nodejs.stream.writable"),A=Y("nodejs.stream.disturbed"),F=Y("nodejs.webstream.isClosedPromise"),C=Y("nodejs.webstream.controllerErrorFunction");function q(M,w=!1){var j;return!!(M&&typeof M.pipe==="function"&&typeof M.on==="function"&&(!w||typeof M.pause==="function"&&typeof M.resume==="function")&&(!M._writableState||((j=M._readableState)===null||j===void 0?void 0:j.readable)!==!1)&&(!M._writableState||M._readableState))}function R(M){var w;return!!(M&&typeof M.write==="function"&&typeof M.on==="function"&&(!M._readableState||((w=M._writableState)===null||w===void 0?void 0:w.writable)!==!1))}function I(M){return!!(M&&typeof M.pipe==="function"&&M._readableState&&typeof M.on==="function"&&typeof M.write==="function")}function S(M){return M&&(M._readableState||M._writableState||typeof M.write==="function"&&typeof M.on==="function"||typeof M.pipe==="function"&&typeof M.on==="function")}function N(M){return!!(M&&!S(M)&&typeof M.pipeThrough==="function"&&typeof M.getReader==="function"&&typeof M.cancel==="function")}function B(M){return!!(M&&!S(M)&&typeof M.getWriter==="function"&&typeof M.abort==="function")}function _(M){return!!(M&&!S(M)&&typeof M.readable==="object"&&typeof M.writable==="object")}function k(M){return N(M)||B(M)||_(M)}function f(M,w){if(M==null)return!1;if(w===!0)return typeof M[X]==="function";if(w===!1)return typeof M[Z]==="function";return typeof M[X]==="function"||typeof M[Z]==="function"}function v(M){if(!S(M))return null;let{_writableState:w,_readableState:j}=M,x=w||j;return!!(M.destroyed||M[V]||x!==null&&x!==void 0&&x.destroyed)}function p(M){if(!R(M))return null;if(M.writableEnded===!0)return!0;let w=M._writableState;if(w!==null&&w!==void 0&&w.errored)return!1;if(typeof(w===null||w===void 0?void 0:w.ended)!=="boolean")return null;return w.ended}function c(M,w){if(!R(M))return null;if(M.writableFinished===!0)return!0;let j=M._writableState;if(j!==null&&j!==void 0&&j.errored)return!1;if(typeof(j===null||j===void 0?void 0:j.finished)!=="boolean")return null;return!!(j.finished||w===!1&&j.ended===!0&&j.length===0)}function X0(M){if(!q(M))return null;if(M.readableEnded===!0)return!0;let w=M._readableState;if(!w||w.errored)return!1;if(typeof(w===null||w===void 0?void 0:w.ended)!=="boolean")return null;return w.ended}function t(M,w){if(!q(M))return null;let j=M._readableState;if(j!==null&&j!==void 0&&j.errored)return!1;if(typeof(j===null||j===void 0?void 0:j.endEmitted)!=="boolean")return null;return!!(j.endEmitted||w===!1&&j.ended===!0&&j.length===0)}function h(M){if(M&&M[z]!=null)return M[z];if(typeof(M===null||M===void 0?void 0:M.readable)!=="boolean")return null;if(v(M))return!1;return q(M)&&M.readable&&!t(M)}function l(M){if(M&&M[L]!=null)return M[L];if(typeof(M===null||M===void 0?void 0:M.writable)!=="boolean")return null;if(v(M))return!1;return R(M)&&M.writable&&!p(M)}function E(M,w){if(!S(M))return null;if(v(M))return!0;if((w===null||w===void 0?void 0:w.readable)!==!1&&h(M))return!1;if((w===null||w===void 0?void 0:w.writable)!==!1&&l(M))return!1;return!0}function J(M){var w,j;if(!S(M))return null;if(M.writableErrored)return M.writableErrored;return(w=(j=M._writableState)===null||j===void 0?void 0:j.errored)!==null&&w!==void 0?w:null}function U(M){var w,j;if(!S(M))return null;if(M.readableErrored)return M.readableErrored;return(w=(j=M._readableState)===null||j===void 0?void 0:j.errored)!==null&&w!==void 0?w:null}function O(M){if(!S(M))return null;if(typeof M.closed==="boolean")return M.closed;let{_writableState:w,_readableState:j}=M;if(typeof(w===null||w===void 0?void 0:w.closed)==="boolean"||typeof(j===null||j===void 0?void 0:j.closed)==="boolean")return(w===null||w===void 0?void 0:w.closed)||(j===null||j===void 0?void 0:j.closed);if(typeof M._closed==="boolean"&&K(M))return M._closed;return null}function K(M){return typeof M._closed==="boolean"&&typeof M._defaultKeepAlive==="boolean"&&typeof M._removedConnection==="boolean"&&typeof M._removedContLen==="boolean"}function H(M){return typeof M._sent100==="boolean"&&K(M)}function T(M){var w;return typeof M._consuming==="boolean"&&typeof M._dumped==="boolean"&&((w=M.req)===null||w===void 0?void 0:w.upgradeOrConnect)===void 0}function P(M){if(!S(M))return null;let{_writableState:w,_readableState:j}=M,x=w||j;return!x&&H(M)||!!(x&&x.autoDestroy&&x.emitClose&&x.closed===!1)}function D(M){var w;return!!(M&&((w=M[A])!==null&&w!==void 0?w:M.readableDidRead||M.readableAborted))}function W(M){var w,j,x,m,o,r,z0,d,n,R0;return!!(M&&((w=(j=(x=(m=(o=(r=M[G])!==null&&r!==void 0?r:M.readableErrored)!==null&&o!==void 0?o:M.writableErrored)!==null&&m!==void 0?m:(z0=M._readableState)===null||z0===void 0?void 0:z0.errorEmitted)!==null&&x!==void 0?x:(d=M._writableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&j!==void 0?j:(n=M._readableState)===null||n===void 0?void 0:n.errored)!==null&&w!==void 0?w:(R0=M._writableState)===null||R0===void 0?void 0:R0.errored))}Q.exports={isDestroyed:v,kIsDestroyed:V,isDisturbed:D,kIsDisturbed:A,isErrored:W,kIsErrored:G,isReadable:h,kIsReadable:z,kIsClosedPromise:F,kControllerErrorFunction:C,kIsWritable:L,isClosed:O,isDuplexNodeStream:I,isFinished:E,isIterable:f,isReadableNodeStream:q,isReadableStream:N,isReadableEnded:X0,isReadableFinished:t,isReadableErrored:U,isNodeStream:S,isWebStream:k,isWritable:l,isWritableNodeStream:R,isWritableStream:B,isWritableEnded:p,isWritableFinished:c,isWritableErrored:J,isServerRequest:T,isServerResponse:H,willEmitClose:P,isTransformStream:_}}),CJ=N$(($,Q)=>{var X=y8(),{AbortError:Z,codes:Y}=JX(),{ERR_INVALID_ARG_TYPE:V,ERR_STREAM_PREMATURE_CLOSE:G}=Y,{kEmptyObject:z,once:L}=AX(),{validateAbortSignal:A,validateFunction:F,validateObject:C,validateBoolean:q}=qV(),{Promise:R,PromisePrototypeThen:I,SymbolDispose:S}=b$(),{isClosed:N,isReadable:B,isReadableNodeStream:_,isReadableStream:k,isReadableFinished:f,isReadableErrored:v,isWritable:p,isWritableNodeStream:c,isWritableStream:X0,isWritableFinished:t,isWritableErrored:h,isNodeStream:l,willEmitClose:E,kIsClosedPromise:J}=wY(),U;function O(D){return D.setHeader&&typeof D.abort==="function"}var K=()=>{};function H(D,W,M){var w,j;if(arguments.length===2)M=W,W=z;else if(W==null)W=z;else C(W,"options");if(F(M,"callback"),A(W.signal,"options.signal"),M=L(M),k(D)||X0(D))return T(D,W,M);if(!l(D))throw new V("stream",["ReadableStream","WritableStream","Stream"],D);let x=(w=W.readable)!==null&&w!==void 0?w:_(D),m=(j=W.writable)!==null&&j!==void 0?j:c(D),o=D._writableState,r=D._readableState,z0=()=>{if(!D.writable)R0()},d=E(D)&&_(D)===x&&c(D)===m,n=t(D,!1),R0=()=>{if(n=!0,D.destroyed)d=!1;if(d&&(!D.readable||x))return;if(!x||W0)M.call(D)},W0=f(D,!1),V0=()=>{if(W0=!0,D.destroyed)d=!1;if(d&&(!D.writable||m))return;if(!m||n)M.call(D)},a=(e)=>{M.call(D,e)},u=N(D),s=()=>{u=!0;let e=h(D)||v(D);if(e&&typeof e!=="boolean")return M.call(D,e);if(x&&!W0&&_(D,!0)){if(!f(D,!1))return M.call(D,new G)}if(m&&!n){if(!t(D,!1))return M.call(D,new G)}M.call(D)},b0=()=>{u=!0;let e=h(D)||v(D);if(e&&typeof e!=="boolean")return M.call(D,e);M.call(D)},Q0=()=>{D.req.on("finish",R0)};if(O(D)){if(D.on("complete",R0),!d)D.on("abort",s);if(D.req)Q0();else D.on("request",Q0)}else if(m&&!o)D.on("end",z0),D.on("close",z0);if(!d&&typeof D.aborted==="boolean")D.on("aborted",s);if(D.on("end",V0),D.on("finish",R0),W.error!==!1)D.on("error",a);if(D.on("close",s),u)X.nextTick(s);else if(o!==null&&o!==void 0&&o.errorEmitted||r!==null&&r!==void 0&&r.errorEmitted){if(!d)X.nextTick(b0)}else if(!x&&(!d||B(D))&&(n||p(D)===!1))X.nextTick(b0);else if(!m&&(!d||p(D))&&(W0||B(D)===!1))X.nextTick(b0);else if(r&&D.req&&D.aborted)X.nextTick(b0);let $0=()=>{if(M=K,D.removeListener("aborted",s),D.removeListener("complete",R0),D.removeListener("abort",s),D.removeListener("request",Q0),D.req)D.req.removeListener("finish",R0);D.removeListener("end",z0),D.removeListener("close",z0),D.removeListener("finish",R0),D.removeListener("end",V0),D.removeListener("error",a),D.removeListener("close",s)};if(W.signal&&!u){let e=()=>{let i=M;$0(),i.call(D,new Z(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)X.nextTick(e);else{U=U||AX().addAbortListener;let i=U(W.signal,e),Y0=M;M=L((...A0)=>{i[S](),Y0.apply(D,A0)})}}return $0}function T(D,W,M){let w=!1,j=K;if(W.signal)if(j=()=>{w=!0,M.call(D,new Z(void 0,{cause:W.signal.reason}))},W.signal.aborted)X.nextTick(j);else{U=U||AX().addAbortListener;let m=U(W.signal,j),o=M;M=L((...r)=>{m[S](),o.apply(D,r)})}let x=(...m)=>{if(!w)X.nextTick(()=>M.apply(D,m))};return I(D[J].promise,x,x),K}function P(D,W){var M;let w=!1;if(W===null)W=z;if((M=W)!==null&&M!==void 0&&M.cleanup)q(W.cleanup,"cleanup"),w=W.cleanup;return new R((j,x)=>{let m=H(D,W,(o)=>{if(w)m();if(o)x(o);else j()})})}Q.exports=H,Q.exports.finished=P}),GW=N$(($,Q)=>{var X=y8(),{aggregateTwoErrors:Z,codes:{ERR_MULTIPLE_CALLBACK:Y},AbortError:V}=JX(),{Symbol:G}=b$(),{kIsDestroyed:z,isDestroyed:L,isFinished:A,isServerRequest:F}=wY(),C=G("kDestroy"),q=G("kConstruct");function R(E,J,U){if(E){if(E.stack,J&&!J.errored)J.errored=E;if(U&&!U.errored)U.errored=E}}function I(E,J){let U=this._readableState,O=this._writableState,K=O||U;if(O!==null&&O!==void 0&&O.destroyed||U!==null&&U!==void 0&&U.destroyed){if(typeof J==="function")J();return this}if(R(E,O,U),O)O.destroyed=!0;if(U)U.destroyed=!0;if(!K.constructed)this.once(C,function(H){S(this,Z(H,E),J)});else S(this,E,J);return this}function S(E,J,U){let O=!1;function K(H){if(O)return;O=!0;let{_readableState:T,_writableState:P}=E;if(R(H,P,T),P)P.closed=!0;if(T)T.closed=!0;if(typeof U==="function")U(H);if(H)X.nextTick(N,E,H);else X.nextTick(B,E)}try{E._destroy(J||null,K)}catch(H){K(H)}}function N(E,J){_(E,J),B(E)}function B(E){let{_readableState:J,_writableState:U}=E;if(U)U.closeEmitted=!0;if(J)J.closeEmitted=!0;if(U!==null&&U!==void 0&&U.emitClose||J!==null&&J!==void 0&&J.emitClose)E.emit("close")}function _(E,J){let{_readableState:U,_writableState:O}=E;if(O!==null&&O!==void 0&&O.errorEmitted||U!==null&&U!==void 0&&U.errorEmitted)return;if(O)O.errorEmitted=!0;if(U)U.errorEmitted=!0;E.emit("error",J)}function k(){let E=this._readableState,J=this._writableState;if(E)E.constructed=!0,E.closed=!1,E.closeEmitted=!1,E.destroyed=!1,E.errored=null,E.errorEmitted=!1,E.reading=!1,E.ended=E.readable===!1,E.endEmitted=E.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function f(E,J,U){let{_readableState:O,_writableState:K}=E;if(K!==null&&K!==void 0&&K.destroyed||O!==null&&O!==void 0&&O.destroyed)return this;if(O!==null&&O!==void 0&&O.autoDestroy||K!==null&&K!==void 0&&K.autoDestroy)E.destroy(J);else if(J){if(J.stack,K&&!K.errored)K.errored=J;if(O&&!O.errored)O.errored=J;if(U)X.nextTick(_,E,J);else _(E,J)}}function v(E,J){if(typeof E._construct!=="function")return;let{_readableState:U,_writableState:O}=E;if(U)U.constructed=!1;if(O)O.constructed=!1;if(E.once(q,J),E.listenerCount(q)>1)return;X.nextTick(p,E)}function p(E){let J=!1;function U(O){if(J){f(E,O!==null&&O!==void 0?O:new Y);return}J=!0;let{_readableState:K,_writableState:H}=E,T=H||K;if(K)K.constructed=!0;if(H)H.constructed=!0;if(T.destroyed)E.emit(C,O);else if(O)f(E,O,!0);else X.nextTick(c,E)}try{E._construct((O)=>{X.nextTick(U,O)})}catch(O){X.nextTick(U,O)}}function c(E){E.emit(q)}function X0(E){return(E===null||E===void 0?void 0:E.setHeader)&&typeof E.abort==="function"}function t(E){E.emit("close")}function h(E,J){E.emit("error",J),X.nextTick(t,E)}function l(E,J){if(!E||L(E))return;if(!J&&!A(E))J=new V;if(F(E))E.socket=null,E.destroy(J);else if(X0(E))E.abort();else if(X0(E.req))E.req.abort();else if(typeof E.destroy==="function")E.destroy(J);else if(typeof E.close==="function")E.close();else if(J)X.nextTick(h,E,J);else X.nextTick(t,E);if(!E.destroyed)E[z]=!0}Q.exports={construct:v,destroyer:l,destroy:I,undestroy:k,errorOrDestroy:f}}),R5=N$(($,Q)=>{var{ArrayIsArray:X,ObjectSetPrototypeOf:Z}=b$(),{EventEmitter:Y}=(d8(),X$(u8));function V(z){Y.call(this,z)}Z(V.prototype,Y.prototype),Z(V,Y),V.prototype.pipe=function(z,L){let A=this;function F(B){if(z.writable&&z.write(B)===!1&&A.pause)A.pause()}A.on("data",F);function C(){if(A.readable&&A.resume)A.resume()}if(z.on("drain",C),!z._isStdio&&(!L||L.end!==!1))A.on("end",R),A.on("close",I);let q=!1;function R(){if(q)return;q=!0,z.end()}function I(){if(q)return;if(q=!0,typeof z.destroy==="function")z.destroy()}function S(B){if(N(),Y.listenerCount(this,"error")===0)this.emit("error",B)}G(A,"error",S),G(z,"error",S);function N(){A.removeListener("data",F),z.removeListener("drain",C),A.removeListener("end",R),A.removeListener("close",I),A.removeListener("error",S),z.removeListener("error",S),A.removeListener("end",N),A.removeListener("close",N),z.removeListener("close",N)}return A.on("end",N),A.on("close",N),z.on("close",N),z.emit("pipe",A),z};function G(z,L,A){if(typeof z.prependListener==="function")return z.prependListener(L,A);if(!z._events||!z._events[L])z.on(L,A);else if(X(z._events[L]))z._events[L].unshift(A);else z._events[L]=[A,z._events[L]]}Q.exports={Stream:V,prependListener:G}}),KU=N$(($,Q)=>{var{SymbolDispose:X}=b$(),{AbortError:Z,codes:Y}=JX(),{isNodeStream:V,isWebStream:G,kControllerErrorFunction:z}=wY(),L=CJ(),{ERR_INVALID_ARG_TYPE:A}=Y,F,C=(q,R)=>{if(typeof q!=="object"||!("aborted"in q))throw new A(R,"AbortSignal",q)};Q.exports.addAbortSignal=function q(R,I){if(C(R,"signal"),!V(I)&&!G(I))throw new A("stream",["ReadableStream","WritableStream","Stream"],I);return Q.exports.addAbortSignalNoValidate(R,I)},Q.exports.addAbortSignalNoValidate=function(q,R){if(typeof q!=="object"||!("aborted"in q))return R;let I=V(R)?()=>{R.destroy(new Z(void 0,{cause:q.reason}))}:()=>{R[z](new Z(void 0,{cause:q.reason}))};if(q.aborted)I();else{F=F||AX().addAbortListener;let S=F(q,I);L(R,S[X])}return R}}),iS=N$(($,Q)=>{var{StringPrototypeSlice:X,SymbolIterator:Z,TypedArrayPrototypeSet:Y,Uint8Array:V}=b$(),{Buffer:G}=(c$(),X$(m$)),{inspect:z}=AX();Q.exports=class L{constructor(){this.head=null,this.tail=null,this.length=0}push(A){let F={data:A,next:null};if(this.length>0)this.tail.next=F;else this.head=F;this.tail=F,++this.length}unshift(A){let F={data:A,next:this.head};if(this.length===0)this.tail=F;this.head=F,++this.length}shift(){if(this.length===0)return;let A=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,A}clear(){this.head=this.tail=null,this.length=0}join(A){if(this.length===0)return"";let F=this.head,C=""+F.data;while((F=F.next)!==null)C+=A+F.data;return C}concat(A){if(this.length===0)return G.alloc(0);let F=G.allocUnsafe(A>>>0),C=this.head,q=0;while(C)Y(F,C.data,q),q+=C.data.length,C=C.next;return F}consume(A,F){let C=this.head.data;if(A<C.length){let q=C.slice(0,A);return this.head.data=C.slice(A),q}if(A===C.length)return this.shift();return F?this._getString(A):this._getBuffer(A)}first(){return this.head.data}*[Z](){for(let A=this.head;A;A=A.next)yield A.data}_getString(A){let F="",C=this.head,q=0;do{let R=C.data;if(A>R.length)F+=R,A-=R.length;else{if(A===R.length)if(F+=R,++q,C.next)this.head=C.next;else this.head=this.tail=null;else F+=X(R,0,A),this.head=C,C.data=X(R,A);break}++q}while((C=C.next)!==null);return this.length-=q,F}_getBuffer(A){let F=G.allocUnsafe(A),C=A,q=this.head,R=0;do{let I=q.data;if(A>I.length)Y(F,I,C-A),A-=I.length;else{if(A===I.length)if(Y(F,I,C-A),++R,q.next)this.head=q.next;else this.head=this.tail=null;else Y(F,new V(I.buffer,I.byteOffset,A),C-A),this.head=q,q.data=I.slice(A);break}++R}while((q=q.next)!==null);return this.length-=R,F}[Symbol.for("nodejs.util.inspect.custom")](A,F){return z(this,{...F,depth:0,customInspect:!1})}}}),UU=N$(($,Q)=>{var{MathFloor:X,NumberIsInteger:Z}=b$(),{validateInteger:Y}=qV(),{ERR_INVALID_ARG_VALUE:V}=JX().codes,G=16384,z=16;function L(q,R,I){return q.highWaterMark!=null?q.highWaterMark:R?q[I]:null}function A(q){return q?z:G}function F(q,R){if(Y(R,"value",0),q)z=R;else G=R}function C(q,R,I,S){let N=L(R,S,I);if(N!=null){if(!Z(N)||N<0){let B=S?`options.${I}`:"options.highWaterMark";throw new V(B,N)}return X(N)}return A(q.objectMode)}Q.exports={getHighWaterMark:C,getDefaultHighWaterMark:A,setDefaultHighWaterMark:F}}),rS=N$(($,Q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var X=(c$(),X$(m$)),Z=X.Buffer;function Y(G,z){for(var L in G)z[L]=G[L]}if(Z.from&&Z.alloc&&Z.allocUnsafe&&Z.allocUnsafeSlow)Q.exports=X;else Y(X,$),$.Buffer=V;function V(G,z,L){return Z(G,z,L)}V.prototype=Object.create(Z.prototype),Y(Z,V),V.from=function(G,z,L){if(typeof G==="number")throw new TypeError("Argument must not be a number");return Z(G,z,L)},V.alloc=function(G,z,L){if(typeof G!=="number")throw new TypeError("Argument must be a number");var A=Z(G);if(z!==void 0)if(typeof L==="string")A.fill(z,L);else A.fill(z);else A.fill(0);return A},V.allocUnsafe=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return Z(G)},V.allocUnsafeSlow=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(G)}}),aS=N$(($)=>{var Q=rS().Buffer,X=Q.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Z(_){if(!_)return"utf8";var k;while(!0)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(k)return;_=(""+_).toLowerCase(),k=!0}}function Y(_){var k=Z(_);if(typeof k!=="string"&&(Q.isEncoding===X||!X(_)))throw new Error("Unknown encoding: "+_);return k||_}$.StringDecoder=V;function V(_){this.encoding=Y(_);var k;switch(this.encoding){case"utf16le":this.text=q,this.end=R,k=4;break;case"utf8":this.fillLast=A,k=4;break;case"base64":this.text=I,this.end=S,k=3;break;default:this.write=N,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q.allocUnsafe(k)}V.prototype.write=function(_){if(_.length===0)return"";var k,f;if(this.lastNeed){if(k=this.fillLast(_),k===void 0)return"";f=this.lastNeed,this.lastNeed=0}else f=0;if(f<_.length)return k?k+this.text(_,f):this.text(_,f);return k||""},V.prototype.end=C,V.prototype.text=F,V.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function G(_){if(_<=127)return 0;else if(_>>5===6)return 2;else if(_>>4===14)return 3;else if(_>>3===30)return 4;return _>>6===2?-1:-2}function z(_,k,f){var v=k.length-1;if(v<f)return 0;var p=G(k[v]);if(p>=0){if(p>0)_.lastNeed=p-1;return p}if(--v<f||p===-2)return 0;if(p=G(k[v]),p>=0){if(p>0)_.lastNeed=p-2;return p}if(--v<f||p===-2)return 0;if(p=G(k[v]),p>=0){if(p>0)if(p===2)p=0;else _.lastNeed=p-3;return p}return 0}function L(_,k,f){if((k[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&k.length>2){if((k[2]&192)!==128)return _.lastNeed=2,""}}}function A(_){var k=this.lastTotal-this.lastNeed,f=L(this,_,k);if(f!==void 0)return f;if(this.lastNeed<=_.length)return _.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,k,0,_.length),this.lastNeed-=_.length}function F(_,k){var f=z(this,_,k);if(!this.lastNeed)return _.toString("utf8",k);this.lastTotal=f;var v=_.length-(f-this.lastNeed);return _.copy(this.lastChar,0,v),_.toString("utf8",k,v)}function C(_){var k=_&&_.length?this.write(_):"";if(this.lastNeed)return k+"";return k}function q(_,k){if((_.length-k)%2===0){var f=_.toString("utf16le",k);if(f){var v=f.charCodeAt(f.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",k,_.length-1)}function R(_){var k=_&&_.length?this.write(_):"";if(this.lastNeed){var f=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,f)}return k}function I(_,k){var f=(_.length-k)%3;if(f===0)return _.toString("base64",k);if(this.lastNeed=3-f,this.lastTotal=3,f===1)this.lastChar[0]=_[_.length-1];else this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1];return _.toString("base64",k,_.length-f)}function S(_){var k=_&&_.length?this.write(_):"";if(this.lastNeed)return k+this.lastChar.toString("base64",0,3-this.lastNeed);return k}function N(_){return _.toString(this.encoding)}function B(_){return _&&_.length?this.write(_):""}}),Aq=N$(($,Q)=>{var X=y8(),{PromisePrototypeThen:Z,SymbolAsyncIterator:Y,SymbolIterator:V}=b$(),{Buffer:G}=(c$(),X$(m$)),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_NULL_VALUES:L}=JX().codes;function A(F,C,q){let R;if(typeof C==="string"||C instanceof G)return new F({objectMode:!0,...q,read(){this.push(C),this.push(null)}});let I;if(C&&C[Y])I=!0,R=C[Y]();else if(C&&C[V])I=!1,R=C[V]();else throw new z("iterable",["Iterable"],C);let S=new F({objectMode:!0,highWaterMark:1,...q}),N=!1;S._read=function(){if(!N)N=!0,_()},S._destroy=function(k,f){Z(B(k),()=>X.nextTick(f,k),(v)=>X.nextTick(f,v||k))};async function B(k){let f=k!==void 0&&k!==null,v=typeof R.throw==="function";if(f&&v){let{value:p,done:c}=await R.throw(k);if(await p,c)return}if(typeof R.return==="function"){let{value:p}=await R.return();await p}}async function _(){for(;;){try{let{value:k,done:f}=I?await R.next():R.next();if(f)S.push(null);else{let v=k&&typeof k.then==="function"?await k:k;if(v===null)throw N=!1,new L;else if(S.push(v))continue;else N=!1}}catch(k){S.destroy(k)}break}}return S}Q.exports=A}),OU=N$(($,Q)=>{var X=y8(),{ArrayPrototypeIndexOf:Z,NumberIsInteger:Y,NumberIsNaN:V,NumberParseInt:G,ObjectDefineProperties:z,ObjectKeys:L,ObjectSetPrototypeOf:A,Promise:F,SafeSet:C,SymbolAsyncDispose:q,SymbolAsyncIterator:R,Symbol:I}=b$();Q.exports=A0,A0.ReadableState=Y0;var{EventEmitter:S}=(d8(),X$(u8)),{Stream:N,prependListener:B}=R5(),{Buffer:_}=(c$(),X$(m$)),{addAbortSignal:k}=KU(),f=CJ(),v=AX().debuglog("stream",(g)=>{v=g}),p=iS(),c=GW(),{getHighWaterMark:X0,getDefaultHighWaterMark:t}=UU(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:l,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:U,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:K}=JX(),{validateObject:H}=qV(),T=I("kPaused"),{StringDecoder:P}=aS(),D=Aq();A(A0.prototype,N.prototype),A(A0,N);var W=()=>{},{errorOrDestroy:M}=c,w=1,j=2,x=4,m=8,o=16,r=32,z0=64,d=128,n=256,R0=512,W0=1024,V0=2048,a=4096,u=8192,s=16384,b0=32768,Q0=65536,$0=131072,e=262144;function i(g){return{enumerable:!1,get(){return(this.state&g)!==0},set(y){if(y)this.state|=g;else this.state&=~g}}}z(Y0.prototype,{objectMode:i(w),ended:i(j),endEmitted:i(x),reading:i(m),constructed:i(o),sync:i(r),needReadable:i(z0),emittedReadable:i(d),readableListening:i(n),resumeScheduled:i(R0),errorEmitted:i(W0),emitClose:i(V0),autoDestroy:i(a),destroyed:i(u),closed:i(s),closeEmitted:i(b0),multiAwaitDrain:i(Q0),readingMore:i($0),dataEmitted:i(e)});function Y0(g,y,p0){if(typeof p0!=="boolean")p0=y instanceof _Y();if(this.state=V0|a|o|r,g&&g.objectMode)this.state|=w;if(p0&&g&&g.readableObjectMode)this.state|=w;if(this.highWaterMark=g?X0(this,g,"readableHighWaterMark",p0):t(!1),this.buffer=new p,this.length=0,this.pipes=[],this.flowing=null,this[T]=null,g&&g.emitClose===!1)this.state&=~V0;if(g&&g.autoDestroy===!1)this.state&=~a;if(this.errored=null,this.defaultEncoding=g&&g.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,g&&g.encoding)this.decoder=new P(g.encoding),this.encoding=g.encoding}function A0(g){if(!(this instanceof A0))return new A0(g);let y=this instanceof _Y();if(this._readableState=new Y0(g,this,y),g){if(typeof g.read==="function")this._read=g.read;if(typeof g.destroy==="function")this._destroy=g.destroy;if(typeof g.construct==="function")this._construct=g.construct;if(g.signal&&!y)k(g.signal,this)}N.call(this,g),c.construct(this,()=>{if(this._readableState.needReadable)i$(this,this._readableState)})}A0.prototype.destroy=c.destroy,A0.prototype._undestroy=c.undestroy,A0.prototype._destroy=function(g,y){y(g)},A0.prototype[S.captureRejectionSymbol]=function(g){this.destroy(g)},A0.prototype[q]=function(){let g;if(!this.destroyed)g=this.readableEnded?null:new K,this.destroy(g);return new F((y,p0)=>f(this,(Z0)=>Z0&&Z0!==g?p0(Z0):y(null)))},A0.prototype.push=function(g,y){return U0(this,g,y,!1)},A0.prototype.unshift=function(g,y){return U0(this,g,y,!0)};function U0(g,y,p0,Z0){v("readableAddChunk",y);let K0=g._readableState,I$;if((K0.state&w)===0){if(typeof y==="string"){if(p0=p0||K0.defaultEncoding,K0.encoding!==p0)if(Z0&&K0.encoding)y=_.from(y,p0).toString(K0.encoding);else y=_.from(y,p0),p0=""}else if(y instanceof _)p0="";else if(N._isUint8Array(y))y=N._uint8ArrayToBuffer(y),p0="";else if(y!=null)I$=new l("chunk",["string","Buffer","Uint8Array"],y)}if(I$)M(g,I$);else if(y===null)K0.state&=~m,E$(g,K0);else if((K0.state&w)!==0||y&&y.length>0)if(Z0)if((K0.state&x)!==0)M(g,new O);else if(K0.destroyed||K0.errored)return!1;else L0(g,K0,y,!0);else if(K0.ended)M(g,new U);else if(K0.destroyed||K0.errored)return!1;else if(K0.state&=~m,K0.decoder&&!p0)if(y=K0.decoder.write(y),K0.objectMode||y.length!==0)L0(g,K0,y,!1);else i$(g,K0);else L0(g,K0,y,!1);else if(!Z0)K0.state&=~m,i$(g,K0);return!K0.ended&&(K0.length<K0.highWaterMark||K0.length===0)}function L0(g,y,p0,Z0){if(y.flowing&&y.length===0&&!y.sync&&g.listenerCount("data")>0){if((y.state&Q0)!==0)y.awaitDrainWriters.clear();else y.awaitDrainWriters=null;y.dataEmitted=!0,g.emit("data",p0)}else{if(y.length+=y.objectMode?1:p0.length,Z0)y.buffer.unshift(p0);else y.buffer.push(p0);if((y.state&z0)!==0)q0(g)}i$(g,y)}A0.prototype.isPaused=function(){let g=this._readableState;return g[T]===!0||g.flowing===!1},A0.prototype.setEncoding=function(g){let y=new P(g);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;let p0=this._readableState.buffer,Z0="";for(let K0 of p0)Z0+=y.write(K0);if(p0.clear(),Z0!=="")p0.push(Z0);return this._readableState.length=Z0.length,this};var e0=1073741824;function H0(g){if(g>e0)throw new J("size","<= 1GiB",g);else g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++;return g}function F0(g,y){if(g<=0||y.length===0&&y.ended)return 0;if((y.state&w)!==0)return 1;if(V(g)){if(y.flowing&&y.length)return y.buffer.first().length;return y.length}if(g<=y.length)return g;return y.ended?y.length:0}A0.prototype.read=function(g){if(v("read",g),g===void 0)g=NaN;else if(!Y(g))g=G(g,10);let y=this._readableState,p0=g;if(g>y.highWaterMark)y.highWaterMark=H0(g);if(g!==0)y.state&=~d;if(g===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended)){if(v("read: emitReadable",y.length,y.ended),y.length===0&&y.ended)S0(this);else q0(this);return null}if(g=F0(g,y),g===0&&y.ended){if(y.length===0)S0(this);return null}let Z0=(y.state&z0)!==0;if(v("need readable",Z0),y.length===0||y.length-g<y.highWaterMark)Z0=!0,v("length less than watermark",Z0);if(y.ended||y.reading||y.destroyed||y.errored||!y.constructed)Z0=!1,v("reading, ended or constructing",Z0);else if(Z0){if(v("do read"),y.state|=m|r,y.length===0)y.state|=z0;try{this._read(y.highWaterMark)}catch(I$){M(this,I$)}if(y.state&=~r,!y.reading)g=F0(p0,y)}let K0;if(g>0)K0=x0(g,y);else K0=null;if(K0===null)y.needReadable=y.length<=y.highWaterMark,g=0;else if(y.length-=g,y.multiAwaitDrain)y.awaitDrainWriters.clear();else y.awaitDrainWriters=null;if(y.length===0){if(!y.ended)y.needReadable=!0;if(p0!==g&&y.ended)S0(this)}if(K0!==null&&!y.errorEmitted&&!y.closeEmitted)y.dataEmitted=!0,this.emit("data",K0);return K0};function E$(g,y){if(v("onEofChunk"),y.ended)return;if(y.decoder){let p0=y.decoder.end();if(p0&&p0.length)y.buffer.push(p0),y.length+=y.objectMode?1:p0.length}if(y.ended=!0,y.sync)q0(g);else y.needReadable=!1,y.emittedReadable=!0,E0(g)}function q0(g){let y=g._readableState;if(v("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,!y.emittedReadable)v("emitReadable",y.flowing),y.emittedReadable=!0,X.nextTick(E0,g)}function E0(g){let y=g._readableState;if(v("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&!y.errored&&(y.length||y.ended))g.emit("readable"),y.emittedReadable=!1;y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,_0(g)}function i$(g,y){if(!y.readingMore&&y.constructed)y.readingMore=!0,X.nextTick(T0,g,y)}function T0(g,y){while(!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0)){let p0=y.length;if(v("maybeReadMore read 0"),g.read(0),p0===y.length)break}y.readingMore=!1}A0.prototype._read=function(g){throw new E("_read()")},A0.prototype.pipe=function(g,y){let p0=this,Z0=this._readableState;if(Z0.pipes.length===1){if(!Z0.multiAwaitDrain)Z0.multiAwaitDrain=!0,Z0.awaitDrainWriters=new C(Z0.awaitDrainWriters?[Z0.awaitDrainWriters]:[])}Z0.pipes.push(g),v("pipe count=%d opts=%j",Z0.pipes.length,y);let K0=(!y||y.end!==!1)&&g!==X.stdout&&g!==X.stderr?C0:$$;if(Z0.endEmitted)X.nextTick(K0);else p0.once("end",K0);g.on("unpipe",I$);function I$(a0,B$){if(v("onunpipe"),a0===p0){if(B$&&B$.hasUnpiped===!1)B$.hasUnpiped=!0,h0()}}function C0(){v("onend"),g.end()}let P0,wQ=!1;function h0(){if(v("cleanup"),g.removeListener("close",j0),g.removeListener("finish",p$),P0)g.removeListener("drain",P0);if(g.removeListener("error",B0),g.removeListener("unpipe",I$),p0.removeListener("end",C0),p0.removeListener("end",$$),p0.removeListener("data",xQ),wQ=!0,P0&&Z0.awaitDrainWriters&&(!g._writableState||g._writableState.needDrain))P0()}function k0(){if(!wQ){if(Z0.pipes.length===1&&Z0.pipes[0]===g)v("false write response, pause",0),Z0.awaitDrainWriters=g,Z0.multiAwaitDrain=!1;else if(Z0.pipes.length>1&&Z0.pipes.includes(g))v("false write response, pause",Z0.awaitDrainWriters.size),Z0.awaitDrainWriters.add(g);p0.pause()}if(!P0)P0=f0(p0,g),g.on("drain",P0)}p0.on("data",xQ);function xQ(a0){v("ondata");let B$=g.write(a0);if(v("dest.write",B$),B$===!1)k0()}function B0(a0){if(v("onerror",a0),$$(),g.removeListener("error",B0),g.listenerCount("error")===0){let B$=g._writableState||g._readableState;if(B$&&!B$.errorEmitted)M(g,a0);else g.emit("error",a0)}}B(g,"error",B0);function j0(){g.removeListener("finish",p$),$$()}g.once("close",j0);function p$(){v("onfinish"),g.removeListener("close",j0),$$()}g.once("finish",p$);function $$(){v("unpipe"),p0.unpipe(g)}if(g.emit("pipe",p0),g.writableNeedDrain===!0)k0();else if(!Z0.flowing)v("pipe resume"),p0.resume();return g};function f0(g,y){return function p0(){let Z0=g._readableState;if(Z0.awaitDrainWriters===y)v("pipeOnDrain",1),Z0.awaitDrainWriters=null;else if(Z0.multiAwaitDrain)v("pipeOnDrain",Z0.awaitDrainWriters.size),Z0.awaitDrainWriters.delete(y);if((!Z0.awaitDrainWriters||Z0.awaitDrainWriters.size===0)&&g.listenerCount("data"))g.resume()}}A0.prototype.unpipe=function(g){let y=this._readableState,p0={hasUnpiped:!1};if(y.pipes.length===0)return this;if(!g){let K0=y.pipes;y.pipes=[],this.pause();for(let I$=0;I$<K0.length;I$++)K0[I$].emit("unpipe",this,{hasUnpiped:!1});return this}let Z0=Z(y.pipes,g);if(Z0===-1)return this;if(y.pipes.splice(Z0,1),y.pipes.length===0)this.pause();return g.emit("unpipe",this,p0),this},A0.prototype.on=function(g,y){let p0=N.prototype.on.call(this,g,y),Z0=this._readableState;if(g==="data"){if(Z0.readableListening=this.listenerCount("readable")>0,Z0.flowing!==!1)this.resume()}else if(g==="readable"){if(!Z0.endEmitted&&!Z0.readableListening){if(Z0.readableListening=Z0.needReadable=!0,Z0.flowing=!1,Z0.emittedReadable=!1,v("on readable",Z0.length,Z0.reading),Z0.length)q0(this);else if(!Z0.reading)X.nextTick(v0,this)}}return p0},A0.prototype.addListener=A0.prototype.on,A0.prototype.removeListener=function(g,y){let p0=N.prototype.removeListener.call(this,g,y);if(g==="readable")X.nextTick(jQ,this);return p0},A0.prototype.off=A0.prototype.removeListener,A0.prototype.removeAllListeners=function(g){let y=N.prototype.removeAllListeners.apply(this,arguments);if(g==="readable"||g===void 0)X.nextTick(jQ,this);return y};function jQ(g){let y=g._readableState;if(y.readableListening=g.listenerCount("readable")>0,y.resumeScheduled&&y[T]===!1)y.flowing=!0;else if(g.listenerCount("data")>0)g.resume();else if(!y.readableListening)y.flowing=null}function v0(g){v("readable nexttick read 0"),g.read(0)}A0.prototype.resume=function(){let g=this._readableState;if(!g.flowing)v("resume"),g.flowing=!g.readableListening,g0(this,g);return g[T]=!1,this};function g0(g,y){if(!y.resumeScheduled)y.resumeScheduled=!0,X.nextTick(pQ,g,y)}function pQ(g,y){if(v("resume",y.reading),!y.reading)g.read(0);if(y.resumeScheduled=!1,g.emit("resume"),_0(g),y.flowing&&!y.reading)g.read(0)}A0.prototype.pause=function(){if(v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)v("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[T]=!0,this};function _0(g){let y=g._readableState;v("flow",y.flowing);while(y.flowing&&g.read()!==null);}A0.prototype.wrap=function(g){let y=!1;g.on("data",(Z0)=>{if(!this.push(Z0)&&g.pause)y=!0,g.pause()}),g.on("end",()=>{this.push(null)}),g.on("error",(Z0)=>{M(this,Z0)}),g.on("close",()=>{this.destroy()}),g.on("destroy",()=>{this.destroy()}),this._read=()=>{if(y&&g.resume)y=!1,g.resume()};let p0=L(g);for(let Z0=1;Z0<p0.length;Z0++){let K0=p0[Z0];if(this[K0]===void 0&&typeof g[K0]==="function")this[K0]=g[K0].bind(g)}return this},A0.prototype[R]=function(){return w0(this)},A0.prototype.iterator=function(g){if(g!==void 0)H(g,"options");return w0(this,g)};function w0(g,y){if(typeof g.read!=="function")g=A0.wrap(g,{objectMode:!0});let p0=mQ(g,y);return p0.stream=g,p0}async function*mQ(g,y){let p0=W;function Z0(C0){if(this===g)p0(),p0=W;else p0=C0}g.on("readable",Z0);let K0,I$=f(g,{writable:!1},(C0)=>{K0=C0?h(K0,C0):null,p0(),p0=W});try{while(!0){let C0=g.destroyed?null:g.read();if(C0!==null)yield C0;else if(K0)throw K0;else if(K0===null)return;else await new F(Z0)}}catch(C0){throw K0=h(K0,C0),K0}finally{if((K0||(y===null||y===void 0?void 0:y.destroyOnReturn)!==!1)&&(K0===void 0||g._readableState.autoDestroy))c.destroyer(g,null);else g.off("readable",Z0),I$()}}z(A0.prototype,{readable:{__proto__:null,get(){let g=this._readableState;return!!g&&g.readable!==!1&&!g.destroyed&&!g.errorEmitted&&!g.endEmitted},set(g){if(this._readableState)this._readableState.readable=!!g}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(g){if(this._readableState)this._readableState.flowing=g}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(g){if(!this._readableState)return;this._readableState.destroyed=g}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),z(Y0.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[T]!==!1},set(g){this[T]=!!g}}}),A0._fromList=x0;function x0(g,y){if(y.length===0)return null;let p0;if(y.objectMode)p0=y.buffer.shift();else if(!g||g>=y.length){if(y.decoder)p0=y.buffer.join("");else if(y.buffer.length===1)p0=y.buffer.first();else p0=y.buffer.concat(y.length);y.buffer.clear()}else p0=y.buffer.consume(g,y.decoder);return p0}function S0(g){let y=g._readableState;if(v("endReadable",y.endEmitted),!y.endEmitted)y.ended=!0,X.nextTick(cQ,y,g)}function cQ(g,y){if(v("endReadableNT",g.endEmitted,g.length),!g.errored&&!g.closeEmitted&&!g.endEmitted&&g.length===0){if(g.endEmitted=!0,y.emit("end"),y.writable&&y.allowHalfOpen===!1)X.nextTick(y0,y);else if(g.autoDestroy){let p0=y._writableState;if(!p0||p0.autoDestroy&&(p0.finished||p0.writable===!1))y.destroy()}}}function y0(g){if(g.writable&&!g.writableEnded&&!g.destroyed)g.end()}A0.from=function(g,y){return D(A0,g,y)};var N0;function _Q(){if(N0===void 0)N0={};return N0}A0.fromWeb=function(g,y){return _Q().newStreamReadableFromReadableStream(g,y)},A0.toWeb=function(g,y){return _Q().newReadableStreamFromStreamReadable(g,y)},A0.wrap=function(g,y){var p0,Z0;return new A0({objectMode:(p0=(Z0=g.readableObjectMode)!==null&&Z0!==void 0?Z0:g.objectMode)!==null&&p0!==void 0?p0:!0,...y,destroy(K0,I$){c.destroyer(g,K0),I$(K0)}}).wrap(g)}}),P5=N$(($,Q)=>{var X=y8(),{ArrayPrototypeSlice:Z,Error:Y,FunctionPrototypeSymbolHasInstance:V,ObjectDefineProperty:G,ObjectDefineProperties:z,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:A,Symbol:F,SymbolHasInstance:C}=b$();Q.exports=H,H.WritableState=O;var{EventEmitter:q}=(d8(),X$(u8)),R=R5().Stream,{Buffer:I}=(c$(),X$(m$)),S=GW(),{addAbortSignal:N}=KU(),{getHighWaterMark:B,getDefaultHighWaterMark:_}=UU(),{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:p,ERR_STREAM_DESTROYED:c,ERR_STREAM_ALREADY_FINISHED:X0,ERR_STREAM_NULL_VALUES:t,ERR_STREAM_WRITE_AFTER_END:h,ERR_UNKNOWN_ENCODING:l}=JX().codes,{errorOrDestroy:E}=S;L(H.prototype,R.prototype),L(H,R);function J(){}var U=F("kOnFinished");function O(a,u,s){if(typeof s!=="boolean")s=u instanceof _Y();if(this.objectMode=!!(a&&a.objectMode),s)this.objectMode=this.objectMode||!!(a&&a.writableObjectMode);this.highWaterMark=a?B(this,a,"writableHighWaterMark",s):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let b0=!!(a&&a.decodeStrings===!1);this.decodeStrings=!b0,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,u),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,K(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!a||a.emitClose!==!1,this.autoDestroy=!a||a.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[U]=[]}function K(a){a.buffered=[],a.bufferedIndex=0,a.allBuffers=!0,a.allNoop=!0}O.prototype.getBuffer=function a(){return Z(this.buffered,this.bufferedIndex)},G(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function H(a){let u=this instanceof _Y();if(!u&&!V(H,this))return new H(a);if(this._writableState=new O(a,this,u),a){if(typeof a.write==="function")this._write=a.write;if(typeof a.writev==="function")this._writev=a.writev;if(typeof a.destroy==="function")this._destroy=a.destroy;if(typeof a.final==="function")this._final=a.final;if(typeof a.construct==="function")this._construct=a.construct;if(a.signal)N(a.signal,this)}R.call(this,a),S.construct(this,()=>{let s=this._writableState;if(!s.writing)m(this,s);d(this,s)})}G(H,C,{__proto__:null,value:function(a){if(V(this,a))return!0;if(this!==H)return!1;return a&&a._writableState instanceof O}}),H.prototype.pipe=function(){E(this,new p)};function T(a,u,s,b0){let Q0=a._writableState;if(typeof s==="function")b0=s,s=Q0.defaultEncoding;else{if(!s)s=Q0.defaultEncoding;else if(s!=="buffer"&&!I.isEncoding(s))throw new l(s);if(typeof b0!=="function")b0=J}if(u===null)throw new t;else if(!Q0.objectMode)if(typeof u==="string"){if(Q0.decodeStrings!==!1)u=I.from(u,s),s="buffer"}else if(u instanceof I)s="buffer";else if(R._isUint8Array(u))u=R._uint8ArrayToBuffer(u),s="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],u);let $0;if(Q0.ending)$0=new h;else if(Q0.destroyed)$0=new c("write");if($0)return X.nextTick(b0,$0),E(a,$0,!0),$0;return Q0.pendingcb++,P(a,Q0,u,s,b0)}H.prototype.write=function(a,u,s){return T(this,a,u,s)===!0},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){let a=this._writableState;if(a.corked){if(a.corked--,!a.writing)m(this,a)}},H.prototype.setDefaultEncoding=function a(u){if(typeof u==="string")u=A(u);if(!I.isEncoding(u))throw new l(u);return this._writableState.defaultEncoding=u,this};function P(a,u,s,b0,Q0){let $0=u.objectMode?1:s.length;u.length+=$0;let e=u.length<u.highWaterMark;if(!e)u.needDrain=!0;if(u.writing||u.corked||u.errored||!u.constructed){if(u.buffered.push({chunk:s,encoding:b0,callback:Q0}),u.allBuffers&&b0!=="buffer")u.allBuffers=!1;if(u.allNoop&&Q0!==J)u.allNoop=!1}else u.writelen=$0,u.writecb=Q0,u.writing=!0,u.sync=!0,a._write(s,b0,u.onwrite),u.sync=!1;return e&&!u.errored&&!u.destroyed}function D(a,u,s,b0,Q0,$0,e){if(u.writelen=b0,u.writecb=e,u.writing=!0,u.sync=!0,u.destroyed)u.onwrite(new c("write"));else if(s)a._writev(Q0,u.onwrite);else a._write(Q0,$0,u.onwrite);u.sync=!1}function W(a,u,s,b0){--u.pendingcb,b0(s),x(u),E(a,s)}function M(a,u){let s=a._writableState,b0=s.sync,Q0=s.writecb;if(typeof Q0!=="function"){E(a,new v);return}if(s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0,u){if(u.stack,!s.errored)s.errored=u;if(a._readableState&&!a._readableState.errored)a._readableState.errored=u;if(b0)X.nextTick(W,a,s,u,Q0);else W(a,s,u,Q0)}else{if(s.buffered.length>s.bufferedIndex)m(a,s);if(b0)if(s.afterWriteTickInfo!==null&&s.afterWriteTickInfo.cb===Q0)s.afterWriteTickInfo.count++;else s.afterWriteTickInfo={count:1,cb:Q0,stream:a,state:s},X.nextTick(w,s.afterWriteTickInfo);else j(a,s,1,Q0)}}function w({stream:a,state:u,count:s,cb:b0}){return u.afterWriteTickInfo=null,j(a,u,s,b0)}function j(a,u,s,b0){if(!u.ending&&!a.destroyed&&u.length===0&&u.needDrain)u.needDrain=!1,a.emit("drain");while(s-- >0)u.pendingcb--,b0();if(u.destroyed)x(u);d(a,u)}function x(a){if(a.writing)return;for(let Q0=a.bufferedIndex;Q0<a.buffered.length;++Q0){var u;let{chunk:$0,callback:e}=a.buffered[Q0],i=a.objectMode?1:$0.length;a.length-=i,e((u=a.errored)!==null&&u!==void 0?u:new c("write"))}let s=a[U].splice(0);for(let Q0=0;Q0<s.length;Q0++){var b0;s[Q0]((b0=a.errored)!==null&&b0!==void 0?b0:new c("end"))}K(a)}function m(a,u){if(u.corked||u.bufferProcessing||u.destroyed||!u.constructed)return;let{buffered:s,bufferedIndex:b0,objectMode:Q0}=u,$0=s.length-b0;if(!$0)return;let e=b0;if(u.bufferProcessing=!0,$0>1&&a._writev){u.pendingcb-=$0-1;let i=u.allNoop?J:(A0)=>{for(let U0=e;U0<s.length;++U0)s[U0].callback(A0)},Y0=u.allNoop&&e===0?s:Z(s,e);Y0.allBuffers=u.allBuffers,D(a,u,!0,u.length,Y0,"",i),K(u)}else{do{let{chunk:i,encoding:Y0,callback:A0}=s[e];s[e++]=null;let U0=Q0?1:i.length;D(a,u,!1,U0,i,Y0,A0)}while(e<s.length&&!u.writing);if(e===s.length)K(u);else if(e>256)s.splice(0,e),u.bufferedIndex=0;else u.bufferedIndex=e}u.bufferProcessing=!1}H.prototype._write=function(a,u,s){if(this._writev)this._writev([{chunk:a,encoding:u}],s);else throw new f("_write()")},H.prototype._writev=null,H.prototype.end=function(a,u,s){let b0=this._writableState;if(typeof a==="function")s=a,a=null,u=null;else if(typeof u==="function")s=u,u=null;let Q0;if(a!==null&&a!==void 0){let $0=T(this,a,u);if($0 instanceof Y)Q0=$0}if(b0.corked)b0.corked=1,this.uncork();if(Q0);else if(!b0.errored&&!b0.ending)b0.ending=!0,d(this,b0,!0),b0.ended=!0;else if(b0.finished)Q0=new X0("end");else if(b0.destroyed)Q0=new c("end");if(typeof s==="function")if(Q0||b0.finished)X.nextTick(s,Q0);else b0[U].push(s);return this};function o(a){return a.ending&&!a.destroyed&&a.constructed&&a.length===0&&!a.errored&&a.buffered.length===0&&!a.finished&&!a.writing&&!a.errorEmitted&&!a.closeEmitted}function r(a,u){let s=!1;function b0(Q0){if(s){E(a,Q0!==null&&Q0!==void 0?Q0:v());return}if(s=!0,u.pendingcb--,Q0){let $0=u[U].splice(0);for(let e=0;e<$0.length;e++)$0[e](Q0);E(a,Q0,u.sync)}else if(o(u))u.prefinished=!0,a.emit("prefinish"),u.pendingcb++,X.nextTick(n,a,u)}u.sync=!0,u.pendingcb++;try{a._final(b0)}catch(Q0){b0(Q0)}u.sync=!1}function z0(a,u){if(!u.prefinished&&!u.finalCalled)if(typeof a._final==="function"&&!u.destroyed)u.finalCalled=!0,r(a,u);else u.prefinished=!0,a.emit("prefinish")}function d(a,u,s){if(o(u)){if(z0(a,u),u.pendingcb===0){if(s)u.pendingcb++,X.nextTick((b0,Q0)=>{if(o(Q0))n(b0,Q0);else Q0.pendingcb--},a,u);else if(o(u))u.pendingcb++,n(a,u)}}}function n(a,u){u.pendingcb--,u.finished=!0;let s=u[U].splice(0);for(let b0=0;b0<s.length;b0++)s[b0]();if(a.emit("finish"),u.autoDestroy){let b0=a._readableState;if(!b0||b0.autoDestroy&&(b0.endEmitted||b0.readable===!1))a.destroy()}}z(H.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(a){if(this._writableState)this._writableState.destroyed=a}},writable:{__proto__:null,get(){let a=this._writableState;return!!a&&a.writable!==!1&&!a.destroyed&&!a.errored&&!a.ending&&!a.ended},set(a){if(this._writableState)this._writableState.writable=!!a}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let a=this._writableState;if(!a)return!1;return!a.destroyed&&!a.ending&&a.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var R0=S.destroy;H.prototype.destroy=function(a,u){let s=this._writableState;if(!s.destroyed&&(s.bufferedIndex<s.buffered.length||s[U].length))X.nextTick(x,s);return R0.call(this,a,u),this},H.prototype._undestroy=S.undestroy,H.prototype._destroy=function(a,u){u(a)},H.prototype[q.captureRejectionSymbol]=function(a){this.destroy(a)};var W0;function V0(){if(W0===void 0)W0={};return W0}H.fromWeb=function(a,u){return V0().newStreamWritableFromWritableStream(a,u)},H.toWeb=function(a){return V0().newWritableStreamFromStreamWritable(a)}}),tS=N$(($,Q)=>{var X=y8(),Z=(c$(),X$(m$)),{isReadable:Y,isWritable:V,isIterable:G,isNodeStream:z,isReadableNodeStream:L,isWritableNodeStream:A,isDuplexNodeStream:F,isReadableStream:C,isWritableStream:q}=wY(),R=CJ(),{AbortError:I,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:N}}=JX(),{destroyer:B}=GW(),_=_Y(),k=OU(),f=P5(),{createDeferredPromise:v}=AX(),p=Aq(),c=globalThis.Blob||Z.Blob,X0=typeof c!=="undefined"?function U(O){return O instanceof c}:function U(O){return!1},t=globalThis.AbortController||LV().AbortController,{FunctionPrototypeCall:h}=b$();class l extends _{constructor(U){super(U);if((U===null||U===void 0?void 0:U.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((U===null||U===void 0?void 0:U.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}Q.exports=function U(O,K){if(F(O))return O;if(L(O))return J({readable:O});if(A(O))return J({writable:O});if(z(O))return J({writable:!1,readable:!1});if(C(O))return J({readable:k.fromWeb(O)});if(q(O))return J({writable:f.fromWeb(O)});if(typeof O==="function"){let{value:T,write:P,final:D,destroy:W}=E(O);if(G(T))return p(l,T,{objectMode:!0,write:P,final:D,destroy:W});let M=T===null||T===void 0?void 0:T.then;if(typeof M==="function"){let w,j=h(M,T,(x)=>{if(x!=null)throw new N("nully","body",x)},(x)=>{B(w,x)});return w=new l({objectMode:!0,readable:!1,write:P,final(x){D(async()=>{try{await j,X.nextTick(x,null)}catch(m){X.nextTick(x,m)}})},destroy:W})}throw new N("Iterable, AsyncIterable or AsyncFunction",K,T)}if(X0(O))return U(O.arrayBuffer());if(G(O))return p(l,O,{objectMode:!0,writable:!1});if(C(O===null||O===void 0?void 0:O.readable)&&q(O===null||O===void 0?void 0:O.writable))return l.fromWeb(O);if(typeof(O===null||O===void 0?void 0:O.writable)==="object"||typeof(O===null||O===void 0?void 0:O.readable)==="object"){let T=O!==null&&O!==void 0&&O.readable?L(O===null||O===void 0?void 0:O.readable)?O===null||O===void 0?void 0:O.readable:U(O.readable):void 0,P=O!==null&&O!==void 0&&O.writable?A(O===null||O===void 0?void 0:O.writable)?O===null||O===void 0?void 0:O.writable:U(O.writable):void 0;return J({readable:T,writable:P})}let H=O===null||O===void 0?void 0:O.then;if(typeof H==="function"){let T;return h(H,O,(P)=>{if(P!=null)T.push(P);T.push(null)},(P)=>{B(T,P)}),T=new l({objectMode:!0,writable:!1,read(){}})}throw new S(K,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],O)};function E(U){let{promise:O,resolve:K}=v(),H=new t,T=H.signal;return{value:U(async function*(){while(!0){let P=O;O=null;let{chunk:D,done:W,cb:M}=await P;if(X.nextTick(M),W)return;if(T.aborted)throw new I(void 0,{cause:T.reason});({promise:O,resolve:K}=v()),yield D}}(),{signal:T}),write(P,D,W){let M=K;K=null,M({chunk:P,done:!1,cb:W})},final(P){let D=K;K=null,D({done:!0,cb:P})},destroy(P,D){H.abort(),D(P)}}}function J(U){let O=U.readable&&typeof U.readable.read!=="function"?k.wrap(U.readable):U.readable,K=U.writable,H=!!Y(O),T=!!V(K),P,D,W,M,w;function j(x){let m=M;if(M=null,m)m(x);else if(x)w.destroy(x)}if(w=new l({readableObjectMode:!!(O!==null&&O!==void 0&&O.readableObjectMode),writableObjectMode:!!(K!==null&&K!==void 0&&K.writableObjectMode),readable:H,writable:T}),T)R(K,(x)=>{if(T=!1,x)B(O,x);j(x)}),w._write=function(x,m,o){if(K.write(x,m))o();else P=o},w._final=function(x){K.end(),D=x},K.on("drain",function(){if(P){let x=P;P=null,x()}}),K.on("finish",function(){if(D){let x=D;D=null,x()}});if(H)R(O,(x)=>{if(H=!1,x)B(O,x);j(x)}),O.on("readable",function(){if(W){let x=W;W=null,x()}}),O.on("end",function(){w.push(null)}),w._read=function(){while(!0){let x=O.read();if(x===null){W=w._read;return}if(!w.push(x))return}};return w._destroy=function(x,m){if(!x&&M!==null)x=new I;if(W=null,P=null,D=null,M===null)m(x);else M=m,B(K,x),B(O,x)},w}}),_Y=N$(($,Q)=>{var{ObjectDefineProperties:X,ObjectGetOwnPropertyDescriptor:Z,ObjectKeys:Y,ObjectSetPrototypeOf:V}=b$();Q.exports=L;var G=OU(),z=P5();V(L.prototype,G.prototype),V(L,G);{let q=Y(z.prototype);for(let R=0;R<q.length;R++){let I=q[R];if(!L.prototype[I])L.prototype[I]=z.prototype[I]}}function L(q){if(!(this instanceof L))return new L(q);if(G.call(this,q),z.call(this,q),q){if(this.allowHalfOpen=q.allowHalfOpen!==!1,q.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(q.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}X(L.prototype,{writable:{__proto__:null,...Z(z.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Z(z.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Z(z.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Z(z.prototype,"writableBuffer")},writableLength:{__proto__:null,...Z(z.prototype,"writableLength")},writableFinished:{__proto__:null,...Z(z.prototype,"writableFinished")},writableCorked:{__proto__:null,...Z(z.prototype,"writableCorked")},writableEnded:{__proto__:null,...Z(z.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Z(z.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(q){if(this._readableState&&this._writableState)this._readableState.destroyed=q,this._writableState.destroyed=q}}});var A;function F(){if(A===void 0)A={};return A}L.fromWeb=function(q,R){return F().newStreamDuplexFromReadableWritablePair(q,R)},L.toWeb=function(q){return F().newReadableWritablePairFromDuplex(q)};var C;L.from=function(q){if(!C)C=tS();return C(q,"body")}}),Fq=N$(($,Q)=>{var{ObjectSetPrototypeOf:X,Symbol:Z}=b$();Q.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:Y}=JX().codes,V=_Y(),{getHighWaterMark:G}=UU();X(L.prototype,V.prototype),X(L,V);var z=Z("kCallback");function L(C){if(!(this instanceof L))return new L(C);let q=C?G(this,C,"readableHighWaterMark",!0):null;if(q===0)C={...C,highWaterMark:null,readableHighWaterMark:q,writableHighWaterMark:C.writableHighWaterMark||0};if(V.call(this,C),this._readableState.sync=!1,this[z]=null,C){if(typeof C.transform==="function")this._transform=C.transform;if(typeof C.flush==="function")this._flush=C.flush}this.on("prefinish",F)}function A(C){if(typeof this._flush==="function"&&!this.destroyed)this._flush((q,R)=>{if(q){if(C)C(q);else this.destroy(q);return}if(R!=null)this.push(R);if(this.push(null),C)C()});else if(this.push(null),C)C()}function F(){if(this._final!==A)A.call(this)}L.prototype._final=A,L.prototype._transform=function(C,q,R){throw new Y("_transform()")},L.prototype._write=function(C,q,R){let I=this._readableState,S=this._writableState,N=I.length;this._transform(C,q,(B,_)=>{if(B){R(B);return}if(_!=null)this.push(_);if(S.ended||N===I.length||I.length<I.highWaterMark)R();else this[z]=R})},L.prototype._read=function(){if(this[z]){let C=this[z];this[z]=null,C()}}}),Tq=N$(($,Q)=>{var{ObjectSetPrototypeOf:X}=b$();Q.exports=Y;var Z=Fq();X(Y.prototype,Z.prototype),X(Y,Z);function Y(V){if(!(this instanceof Y))return new Y(V);Z.call(this,V)}Y.prototype._transform=function(V,G,z){z(null,V)}}),E5=N$(($,Q)=>{var X=y8(),{ArrayIsArray:Z,Promise:Y,SymbolAsyncIterator:V,SymbolDispose:G}=b$(),z=CJ(),{once:L}=AX(),A=GW(),F=_Y(),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:R,ERR_MISSING_ARGS:I,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:N},AbortError:B}=JX(),{validateFunction:_,validateAbortSignal:k}=qV(),{isIterable:f,isReadable:v,isReadableNodeStream:p,isNodeStream:c,isTransformStream:X0,isWebStream:t,isReadableStream:h,isReadableFinished:l}=wY(),E=globalThis.AbortController||LV().AbortController,J,U,O;function K(x,m,o){let r=!1;x.on("close",()=>{r=!0});let z0=z(x,{readable:m,writable:o},(d)=>{r=!d});return{destroy:(d)=>{if(r)return;r=!0,A.destroyer(x,d||new S("pipe"))},cleanup:z0}}function H(x){return _(x[x.length-1],"streams[stream.length - 1]"),x.pop()}function T(x){if(f(x))return x;else if(p(x))return P(x);throw new q("val",["Readable","Iterable","AsyncIterable"],x)}async function*P(x){if(!U)U=OU();yield*U.prototype[V].call(x)}async function D(x,m,o,{end:r}){let z0,d=null,n=(V0)=>{if(V0)z0=V0;if(d){let a=d;d=null,a()}},R0=()=>new Y((V0,a)=>{if(z0)a(z0);else d=()=>{if(z0)a(z0);else V0()}});m.on("drain",n);let W0=z(m,{readable:!1},n);try{if(m.writableNeedDrain)await R0();for await(let V0 of x)if(!m.write(V0))await R0();if(r)m.end(),await R0();o()}catch(V0){o(z0!==V0?C(z0,V0):V0)}finally{W0(),m.off("drain",n)}}async function W(x,m,o,{end:r}){if(X0(m))m=m.writable;let z0=m.getWriter();try{for await(let d of x)await z0.ready,z0.write(d).catch(()=>{});if(await z0.ready,r)await z0.close();o()}catch(d){try{await z0.abort(d),o(d)}catch(n){o(n)}}}function M(...x){return w(x,L(H(x)))}function w(x,m,o){if(x.length===1&&Z(x[0]))x=x[0];if(x.length<2)throw new I("streams");let r=new E,z0=r.signal,d=o===null||o===void 0?void 0:o.signal,n=[];k(d,"options.signal");function R0(){Q0(new B)}O=O||AX().addAbortListener;let W0;if(d)W0=O(d,R0);let V0,a,u=[],s=0;function b0(A0){Q0(A0,--s===0)}function Q0(A0,U0){var L0;if(A0&&(!V0||V0.code==="ERR_STREAM_PREMATURE_CLOSE"))V0=A0;if(!V0&&!U0)return;while(u.length)u.shift()(V0);if((L0=W0)===null||L0===void 0||L0[G](),r.abort(),U0){if(!V0)n.forEach((e0)=>e0());X.nextTick(m,V0,a)}}let $0;for(let A0=0;A0<x.length;A0++){let U0=x[A0],L0=A0<x.length-1,e0=A0>0,H0=L0||(o===null||o===void 0?void 0:o.end)!==!1,F0=A0===x.length-1;if(c(U0)){let E$=function(q0){if(q0&&q0.name!=="AbortError"&&q0.code!=="ERR_STREAM_PREMATURE_CLOSE")b0(q0)};var e=E$;if(H0){let{destroy:q0,cleanup:E0}=K(U0,L0,e0);if(u.push(q0),v(U0)&&F0)n.push(E0)}if(U0.on("error",E$),v(U0)&&F0)n.push(()=>{U0.removeListener("error",E$)})}if(A0===0)if(typeof U0==="function"){if($0=U0({signal:z0}),!f($0))throw new R("Iterable, AsyncIterable or Stream","source",$0)}else if(f(U0)||p(U0)||X0(U0))$0=U0;else $0=F.from(U0);else if(typeof U0==="function"){if(X0($0)){var i;$0=T((i=$0)===null||i===void 0?void 0:i.readable)}else $0=T($0);if($0=U0($0,{signal:z0}),L0){if(!f($0,!0))throw new R("AsyncIterable",`transform[${A0-1}]`,$0)}else{var Y0;if(!J)J=Tq();let E$=new J({objectMode:!0}),q0=(Y0=$0)===null||Y0===void 0?void 0:Y0.then;if(typeof q0==="function")s++,q0.call($0,(T0)=>{if(a=T0,T0!=null)E$.write(T0);if(H0)E$.end();X.nextTick(b0)},(T0)=>{E$.destroy(T0),X.nextTick(b0,T0)});else if(f($0,!0))s++,D($0,E$,b0,{end:H0});else if(h($0)||X0($0)){let T0=$0.readable||$0;s++,D(T0,E$,b0,{end:H0})}else throw new R("AsyncIterable or Promise","destination",$0);$0=E$;let{destroy:E0,cleanup:i$}=K($0,!1,!0);if(u.push(E0),F0)n.push(i$)}}else if(c(U0)){if(p($0)){s+=2;let E$=j($0,U0,b0,{end:H0});if(v(U0)&&F0)n.push(E$)}else if(X0($0)||h($0)){let E$=$0.readable||$0;s++,D(E$,U0,b0,{end:H0})}else if(f($0))s++,D($0,U0,b0,{end:H0});else throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$0);$0=U0}else if(t(U0)){if(p($0))s++,W(T($0),U0,b0,{end:H0});else if(h($0)||f($0))s++,W($0,U0,b0,{end:H0});else if(X0($0))s++,W($0.readable,U0,b0,{end:H0});else throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$0);$0=U0}else $0=F.from(U0)}if(z0!==null&&z0!==void 0&&z0.aborted||d!==null&&d!==void 0&&d.aborted)X.nextTick(R0);return $0}function j(x,m,o,{end:r}){let z0=!1;if(m.on("close",()=>{if(!z0)o(new N)}),x.pipe(m,{end:!1}),r){let n=function(){z0=!0,m.end()};var d=n;if(l(x))X.nextTick(n);else x.once("end",n)}else o();return z(x,{readable:!0,writable:!1},(n)=>{let R0=x._readableState;if(n&&n.code==="ERR_STREAM_PREMATURE_CLOSE"&&R0&&R0.ended&&!R0.errored&&!R0.errorEmitted)x.once("end",o).once("error",o);else o(n)}),z(m,{readable:!1,writable:!0},o)}Q.exports={pipelineImpl:w,pipeline:M}}),Rq=N$(($,Q)=>{var{pipeline:X}=E5(),Z=_Y(),{destroyer:Y}=GW(),{isNodeStream:V,isReadable:G,isWritable:z,isWebStream:L,isTransformStream:A,isWritableStream:F,isReadableStream:C}=wY(),{AbortError:q,codes:{ERR_INVALID_ARG_VALUE:R,ERR_MISSING_ARGS:I}}=JX(),S=CJ();Q.exports=function N(...B){if(B.length===0)throw new I("streams");if(B.length===1)return Z.from(B[0]);let _=[...B];if(typeof B[0]==="function")B[0]=Z.from(B[0]);if(typeof B[B.length-1]==="function"){let J=B.length-1;B[J]=Z.from(B[J])}for(let J=0;J<B.length;++J){if(!V(B[J])&&!L(B[J]))continue;if(J<B.length-1&&!(G(B[J])||C(B[J])||A(B[J])))throw new R(`streams[${J}]`,_[J],"must be readable");if(J>0&&!(z(B[J])||F(B[J])||A(B[J])))throw new R(`streams[${J}]`,_[J],"must be writable")}let k,f,v,p,c;function X0(J){let U=p;if(p=null,U)U(J);else if(J)c.destroy(J);else if(!E&&!l)c.destroy()}let t=B[0],h=X(B,X0),l=!!(z(t)||F(t)||A(t)),E=!!(G(h)||C(h)||A(h));if(c=new Z({writableObjectMode:!!(t!==null&&t!==void 0&&t.writableObjectMode),readableObjectMode:!!(h!==null&&h!==void 0&&h.readableObjectMode),writable:l,readable:E}),l){if(V(t))c._write=function(U,O,K){if(t.write(U,O))K();else k=K},c._final=function(U){t.end(),f=U},t.on("drain",function(){if(k){let U=k;k=null,U()}});else if(L(t)){let U=(A(t)?t.writable:t).getWriter();c._write=async function(O,K,H){try{await U.ready,U.write(O).catch(()=>{}),H()}catch(T){H(T)}},c._final=async function(O){try{await U.ready,U.close().catch(()=>{}),f=O}catch(K){O(K)}}}let J=A(h)?h.readable:h;S(J,()=>{if(f){let U=f;f=null,U()}})}if(E){if(V(h))h.on("readable",function(){if(v){let J=v;v=null,J()}}),h.on("end",function(){c.push(null)}),c._read=function(){while(!0){let J=h.read();if(J===null){v=c._read;return}if(!c.push(J))return}};else if(L(h)){let J=(A(h)?h.readable:h).getReader();c._read=async function(){while(!0)try{let{value:U,done:O}=await J.read();if(!c.push(U))return;if(O){c.push(null);return}}catch{return}}}}return c._destroy=function(J,U){if(!J&&p!==null)J=new q;if(v=null,k=null,f=null,p===null)U(J);else if(p=U,V(h))Y(h,J)},c}}),eS=N$(($,Q)=>{var X=globalThis.AbortController||LV().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Z,ERR_INVALID_ARG_TYPE:Y,ERR_MISSING_ARGS:V,ERR_OUT_OF_RANGE:G},AbortError:z}=JX(),{validateAbortSignal:L,validateInteger:A,validateObject:F}=qV(),C=b$().Symbol("kWeak"),q=b$().Symbol("kResistStopPropagation"),{finished:R}=CJ(),I=Rq(),{addAbortSignalNoValidate:S}=KU(),{isWritable:N,isNodeStream:B}=wY(),{deprecate:_}=AX(),{ArrayPrototypePush:k,Boolean:f,MathFloor:v,Number:p,NumberIsNaN:c,Promise:X0,PromiseReject:t,PromiseResolve:h,PromisePrototypeThen:l,Symbol:E}=b$(),J=E("kEmpty"),U=E("kEof");function O(d,n){if(n!=null)F(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)L(n.signal,"options.signal");if(B(d)&&!N(d))throw new Z("stream",d,"must be writable");let R0=I(this,d);if(n!==null&&n!==void 0&&n.signal)S(n.signal,R0);return R0}function K(d,n){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);if(n!=null)F(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)L(n.signal,"options.signal");let R0=1;if((n===null||n===void 0?void 0:n.concurrency)!=null)R0=v(n.concurrency);let W0=R0-1;if((n===null||n===void 0?void 0:n.highWaterMark)!=null)W0=v(n.highWaterMark);return A(R0,"options.concurrency",1),A(W0,"options.highWaterMark",0),W0+=R0,async function*V0(){let a=AX().AbortSignalAny([n===null||n===void 0?void 0:n.signal].filter(f)),u=this,s=[],b0={signal:a},Q0,$0,e=!1,i=0;function Y0(){e=!0,A0()}function A0(){i-=1,U0()}function U0(){if($0&&!e&&i<R0&&s.length<W0)$0(),$0=null}async function L0(){try{for await(let e0 of u){if(e)return;if(a.aborted)throw new z;try{if(e0=d(e0,b0),e0===J)continue;e0=h(e0)}catch(H0){e0=t(H0)}if(i+=1,l(e0,A0,Y0),s.push(e0),Q0)Q0(),Q0=null;if(!e&&(s.length>=W0||i>=R0))await new X0((H0)=>{$0=H0})}s.push(U)}catch(e0){let H0=t(e0);l(H0,A0,Y0),s.push(H0)}finally{if(e=!0,Q0)Q0(),Q0=null}}L0();try{while(!0){while(s.length>0){let e0=await s[0];if(e0===U)return;if(a.aborted)throw new z;if(e0!==J)yield e0;s.shift(),U0()}await new X0((e0)=>{Q0=e0})}}finally{if(e=!0,$0)$0(),$0=null}}.call(this)}function H(d=void 0){if(d!=null)F(d,"options");if((d===null||d===void 0?void 0:d.signal)!=null)L(d.signal,"options.signal");return async function*n(){let R0=0;for await(let V0 of this){var W0;if(d!==null&&d!==void 0&&(W0=d.signal)!==null&&W0!==void 0&&W0.aborted)throw new z({cause:d.signal.reason});yield[R0++,V0]}}.call(this)}async function T(d,n=void 0){for await(let R0 of M.call(this,d,n))return!0;return!1}async function P(d,n=void 0){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);return!await T.call(this,async(...R0)=>{return!await d(...R0)},n)}async function D(d,n){for await(let R0 of M.call(this,d,n))return R0;return}async function W(d,n){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);async function R0(W0,V0){return await d(W0,V0),J}for await(let W0 of K.call(this,R0,n));}function M(d,n){if(typeof d!=="function")throw new Y("fn",["Function","AsyncFunction"],d);async function R0(W0,V0){if(await d(W0,V0))return W0;return J}return K.call(this,R0,n)}class w extends V{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function j(d,n,R0){var W0;if(typeof d!=="function")throw new Y("reducer",["Function","AsyncFunction"],d);if(R0!=null)F(R0,"options");if((R0===null||R0===void 0?void 0:R0.signal)!=null)L(R0.signal,"options.signal");let V0=arguments.length>1;if(R0!==null&&R0!==void 0&&(W0=R0.signal)!==null&&W0!==void 0&&W0.aborted){let Q0=new z(void 0,{cause:R0.signal.reason});throw this.once("error",()=>{}),await R(this.destroy(Q0)),Q0}let a=new X,u=a.signal;if(R0!==null&&R0!==void 0&&R0.signal){let Q0={once:!0,[C]:this,[q]:!0};R0.signal.addEventListener("abort",()=>a.abort(),Q0)}let s=!1;try{for await(let Q0 of this){var b0;if(s=!0,R0!==null&&R0!==void 0&&(b0=R0.signal)!==null&&b0!==void 0&&b0.aborted)throw new z;if(!V0)n=Q0,V0=!0;else n=await d(n,Q0,{signal:u})}if(!s&&!V0)throw new w}finally{a.abort()}return n}async function x(d){if(d!=null)F(d,"options");if((d===null||d===void 0?void 0:d.signal)!=null)L(d.signal,"options.signal");let n=[];for await(let W0 of this){var R0;if(d!==null&&d!==void 0&&(R0=d.signal)!==null&&R0!==void 0&&R0.aborted)throw new z(void 0,{cause:d.signal.reason});k(n,W0)}return n}function m(d,n){let R0=K.call(this,d,n);return async function*W0(){for await(let V0 of R0)yield*V0}.call(this)}function o(d){if(d=p(d),c(d))return 0;if(d<0)throw new G("number",">= 0",d);return d}function r(d,n=void 0){if(n!=null)F(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)L(n.signal,"options.signal");return d=o(d),async function*R0(){var W0;if(n!==null&&n!==void 0&&(W0=n.signal)!==null&&W0!==void 0&&W0.aborted)throw new z;for await(let a of this){var V0;if(n!==null&&n!==void 0&&(V0=n.signal)!==null&&V0!==void 0&&V0.aborted)throw new z;if(d--<=0)yield a}}.call(this)}function z0(d,n=void 0){if(n!=null)F(n,"options");if((n===null||n===void 0?void 0:n.signal)!=null)L(n.signal,"options.signal");return d=o(d),async function*R0(){var W0;if(n!==null&&n!==void 0&&(W0=n.signal)!==null&&W0!==void 0&&W0.aborted)throw new z;for await(let a of this){var V0;if(n!==null&&n!==void 0&&(V0=n.signal)!==null&&V0!==void 0&&V0.aborted)throw new z;if(d-- >0)yield a;if(d<=0)return}}.call(this)}Q.exports.streamReturningOperators={asIndexedPairs:_(H,"readable.asIndexedPairs will be removed in a future version."),drop:r,filter:M,flatMap:m,map:K,take:z0,compose:O},Q.exports.promiseReturningOperators={every:P,forEach:W,reduce:j,toArray:x,some:T,find:D}}),Pq=N$(($,Q)=>{var{ArrayPrototypePop:X,Promise:Z}=b$(),{isIterable:Y,isNodeStream:V,isWebStream:G}=wY(),{pipelineImpl:z}=E5(),{finished:L}=CJ();Eq();function A(...F){return new Z((C,q)=>{let R,I,S=F[F.length-1];if(S&&typeof S==="object"&&!V(S)&&!Y(S)&&!G(S)){let N=X(F);R=N.signal,I=N.end}z(F,(N,B)=>{if(N)q(N);else C(B)},{signal:R,end:I})})}Q.exports={finished:L,pipeline:A}}),Eq=N$(($,Q)=>{var{Buffer:X}=(c$(),X$(m$)),{ObjectDefineProperty:Z,ObjectKeys:Y,ReflectApply:V}=b$(),{promisify:{custom:G}}=AX(),{streamReturningOperators:z,promiseReturningOperators:L}=eS(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:A}}=JX(),F=Rq(),{setDefaultHighWaterMark:C,getDefaultHighWaterMark:q}=UU(),{pipeline:R}=E5(),{destroyer:I}=GW(),S=CJ(),N=Pq(),B=wY(),_=Q.exports=R5().Stream;_.isDestroyed=B.isDestroyed,_.isDisturbed=B.isDisturbed,_.isErrored=B.isErrored,_.isReadable=B.isReadable,_.isWritable=B.isWritable,_.Readable=OU();for(let f of Y(z)){let v=function(...c){if(new.target)throw A();return _.Readable.from(V(p,this,c))},p=z[f];Z(v,"name",{__proto__:null,value:p.name}),Z(v,"length",{__proto__:null,value:p.length}),Z(_.Readable.prototype,f,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let f of Y(L)){let v=function(...c){if(new.target)throw A();return V(p,this,c)},p=L[f];Z(v,"name",{__proto__:null,value:p.name}),Z(v,"length",{__proto__:null,value:p.length}),Z(_.Readable.prototype,f,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}_.Writable=P5(),_.Duplex=_Y(),_.Transform=Fq(),_.PassThrough=Tq(),_.pipeline=R;var{addAbortSignal:k}=KU();_.addAbortSignal=k,_.finished=S,_.destroy=I,_.compose=F,_.setDefaultHighWaterMark=C,_.getDefaultHighWaterMark=q,Z(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return N}}),Z(R,G,{__proto__:null,enumerable:!0,get(){return N.pipeline}}),Z(S,G,{__proto__:null,enumerable:!0,get(){return N.finished}}),_.Stream=_,_._isUint8Array=function f(v){return v instanceof Uint8Array},_._uint8ArrayToBuffer=function f(v){return X.from(v.buffer,v.byteOffset,v.byteLength)}}),$3=N$(($,Q)=>{var X=I5();{let Z=Eq(),Y=Pq(),V=Z.Readable.destroy;Q.exports=Z.Readable,Q.exports._uint8ArrayToBuffer=Z._uint8ArrayToBuffer,Q.exports._isUint8Array=Z._isUint8Array,Q.exports.isDisturbed=Z.isDisturbed,Q.exports.isErrored=Z.isErrored,Q.exports.isReadable=Z.isReadable,Q.exports.Readable=Z.Readable,Q.exports.Writable=Z.Writable,Q.exports.Duplex=Z.Duplex,Q.exports.Transform=Z.Transform,Q.exports.PassThrough=Z.PassThrough,Q.exports.addAbortSignal=Z.addAbortSignal,Q.exports.finished=Z.finished,Q.exports.destroy=Z.destroy,Q.exports.destroy=V,Q.exports.pipeline=Z.pipeline,Q.exports.compose=Z.compose,Object.defineProperty(Z,"promises",{configurable:!0,enumerable:!0,get(){return Y}}),Q.exports.Stream=Z.Stream}Q.exports.default=Q.exports});Iq.exports=$3()});var GX={};RQ(GX,{webcrypto:()=>nN,rng:()=>JN,randomUUID:()=>dN,randomFillSync:()=>bN,randomFill:()=>hN,randomBytes:()=>GN,publicEncrypt:()=>fN,publicDecrypt:()=>gN,pseudoRandomBytes:()=>YN,prng:()=>ZN,privateEncrypt:()=>vN,privateDecrypt:()=>yN,pbkdf2Sync:()=>HN,pbkdf2:()=>zN,listCiphers:()=>PN,getRandomValues:()=>uN,getHashes:()=>ON,getDiffieHellman:()=>SN,getCurves:()=>oN,getCiphers:()=>RN,default:()=>sN,createVerify:()=>wN,createSign:()=>jN,createHmac:()=>UN,createHash:()=>VN,createECDH:()=>kN,createDiffieHellmanGroup:()=>IN,createDiffieHellman:()=>NN,createDecipheriv:()=>TN,createDecipher:()=>AN,createCredentials:()=>pN,createCipheriv:()=>MN,createCipher:()=>LN,constants:()=>mN,Verify:()=>xN,Sign:()=>_N,Hmac:()=>KN,Hash:()=>WN,DiffieHellmanGroup:()=>EN,DiffieHellman:()=>BN,Decipheriv:()=>FN,Decipher:()=>CN,DEFAULT_ENCODING:()=>cN,Cipheriv:()=>qN,Cipher:()=>DN});function oN(){return lN}var Q3,X3,Sq,Z3,Y3,J3=($,Q,X)=>{X=$!=null?Q3(X3($)):{};let Z=Q||!$||!$.__esModule?Sq(X,"default",{value:$,enumerable:!0}):X;for(let Y of Z3($))if(!Y3.call(Z,Y))Sq(Z,Y,{get:()=>$[Y],enumerable:!0});return Z},c0=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports),zU,HU,Bq,G3,N5,B5,FX,j5,jq,W3,_q,V3,K3,U3,O3,xY,AJ,wq,WZ,xq,DU,z3,kX,H3,D3,L3,kq,oZ,CV,fq,q3,vq,M3,gq,C3,A3,F3,T3,_5,R3,w5,P3,E3,I3,S3,N3,B3,j3,_3,w3,x3,k3,f3,v3,g3,Nq,y3,MV,h3,yq,hq,b3,p3,bq,m3,c3,AV,u3,d3,l3,o3,n3,s3,pq,i3,mq,cq,uq,x5,dq,r3,lq,a3,t3,S5,e3,$N,QN,XN,W$,ZN,YN,JN,GN,WN,VN,KN,UN,ON,zN,HN,DN,LN,qN,MN,CN,AN,FN,TN,RN,PN,EN,IN,SN,NN,BN,jN,_N,wN,xN,kN,fN,vN,gN,yN,hN,bN,pN,mN,cN="buffer",uN=($)=>{return crypto.getRandomValues($)},dN=()=>{return crypto.randomUUID()},lN,nN,sN;var WX=G0(()=>{Q3=Object.create,{getPrototypeOf:X3,defineProperty:Sq,getOwnPropertyNames:Z3}=Object,Y3=Object.prototype.hasOwnProperty,zU=c0(($,Q)=>{Q.exports=(WX(),X$(GX)).randomBytes}),HU=c0(($,Q)=>{Q.exports=(WX(),X$(GX)).createHash}),Bq=c0(($,Q)=>{Q.exports=(WX(),X$(GX)).createHmac}),G3=c0(($,Q)=>{Q.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),N5=c0(($,Q)=>{var X=Math.pow(2,30)-1;Q.exports=function(Z,Y){if(typeof Z!=="number")throw new TypeError("Iterations not a number");if(Z<0)throw new TypeError("Bad iterations");if(typeof Y!=="number")throw new TypeError("Key length not a number");if(Y<0||Y>X||Y!==Y)throw new TypeError("Bad key length")}}),B5=c0(($,Q)=>{var X;if(globalThis.process&&globalThis.process.browser)X="utf-8";else if(globalThis.process&&globalThis.process.version)Z=parseInt(process.version.split(".")[0].slice(1),10),X=Z>=6?"utf-8":"binary";else X="utf-8";var Z;Q.exports=X}),FX=c0(($,Q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var X=(c$(),X$(m$)),Z=X.Buffer;function Y(G,z){for(var L in G)z[L]=G[L]}if(Z.from&&Z.alloc&&Z.allocUnsafe&&Z.allocUnsafeSlow)Q.exports=X;else Y(X,$),$.Buffer=V;function V(G,z,L){return Z(G,z,L)}V.prototype=Object.create(Z.prototype),Y(Z,V),V.from=function(G,z,L){if(typeof G==="number")throw new TypeError("Argument must not be a number");return Z(G,z,L)},V.alloc=function(G,z,L){if(typeof G!=="number")throw new TypeError("Argument must be a number");var A=Z(G);if(z!==void 0)if(typeof L==="string")A.fill(z,L);else A.fill(z);else A.fill(0);return A},V.allocUnsafe=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return Z(G)},V.allocUnsafeSlow=function(G){if(typeof G!=="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(G)}}),j5=c0(($,Q)=>{var X=FX().Buffer;Q.exports=function(Z,Y,V){if(X.isBuffer(Z))return Z;else if(typeof Z==="string")return X.from(Z,Y);else if(ArrayBuffer.isView(Z))return X.from(Z.buffer);else throw new TypeError(V+" must be a string, a Buffer, a typed array or a DataView")}}),jq=c0(($,Q)=>{var X={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},Z=Bq(),Y=FX().Buffer,V=N5(),G=B5(),z=j5();function L(A,F,C,q,R){V(C,q),A=z(A,G,"Password"),F=z(F,G,"Salt"),R=R||"sha1";var I=Y.allocUnsafe(q),S=Y.allocUnsafe(F.length+4);F.copy(S,0,0,F.length);var N=0,B=X[R],_=Math.ceil(q/B);for(var k=1;k<=_;k++){S.writeUInt32BE(k,F.length);var f=Z(R,A).update(S).digest(),v=f;for(var p=1;p<C;p++){v=Z(R,A).update(v).digest();for(var c=0;c<B;c++)f[c]^=v[c]}f.copy(I,N),N+=B}return I}Q.exports=L}),W3=c0(($,Q)=>{var X=FX().Buffer,Z=N5(),Y=B5(),V=jq(),G=j5(),z,L=globalThis.crypto&&globalThis.crypto.subtle,A={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},F=[];function C(N){if(globalThis.process&&!globalThis.process.browser)return Promise.resolve(!1);if(!L||!L.importKey||!L.deriveBits)return Promise.resolve(!1);if(F[N]!==void 0)return F[N];z=z||X.alloc(8);var B=I(z,z,10,128,N).then(function(){return!0}).catch(function(){return!1});return F[N]=B,B}var q;function R(){if(q)return q;if(globalThis.process&&globalThis.process.nextTick)q=globalThis.process.nextTick;else if(globalThis.queueMicrotask)q=globalThis.queueMicrotask;else if(globalThis.setImmediate)q=globalThis.setImmediate;else q=globalThis.setTimeout;return q}function I(N,B,_,k,f){return L.importKey("raw",N,{name:"PBKDF2"},!1,["deriveBits"]).then(function(v){return L.deriveBits({name:"PBKDF2",salt:B,iterations:_,hash:{name:f}},v,k<<3)}).then(function(v){return X.from(v)})}function S(N,B){N.then(function(_){R()(function(){B(null,_)})},function(_){R()(function(){B(_)})})}Q.exports=function(N,B,_,k,f,v){if(typeof f==="function")v=f,f=void 0;f=f||"sha1";var p=A[f.toLowerCase()];if(!p||typeof globalThis.Promise!=="function"){R()(function(){var c;try{c=V(N,B,_,k,f)}catch(X0){return v(X0)}v(null,c)});return}if(Z(_,k),N=G(N,Y,"Password"),B=G(B,Y,"Salt"),typeof v!=="function")throw new Error("No callback provided to pbkdf2");S(C(p).then(function(c){if(c)return I(N,B,_,k,p);return V(N,B,_,k,f)}),v)}}),_q=c0(($)=>{var Q=(WX(),X$(GX)),X=N5(),Z=B5(),Y=j5();function V(z,L,A,F,C,q){if(X(A,F),z=Y(z,Z,"Password"),L=Y(L,Z,"Salt"),typeof C==="function")q=C,C="sha1";if(typeof q!=="function")throw new Error("No callback provided to pbkdf2");return Q.pbkdf2(z,L,A,F,C,q)}function G(z,L,A,F,C){return X(A,F),z=Y(z,Z,"Password"),L=Y(L,Z,"Salt"),C=C||"sha1",Q.pbkdf2Sync(z,L,A,F,C)}if(!Q.pbkdf2Sync||Q.pbkdf2Sync.toString().indexOf("keylen, digest")===-1)$.pbkdf2Sync=jq(),$.pbkdf2=W3();else $.pbkdf2Sync=G,$.pbkdf2=V}),V3=c0(($)=>{var Q=(WX(),X$(GX));$.createCipher=$.Cipher=Q.createCipher,$.createCipheriv=$.Cipheriv=Q.createCipheriv,$.createDecipher=$.Decipher=Q.createDecipher,$.createDecipheriv=$.Decipheriv=Q.createDecipheriv,$.listCiphers=$.getCiphers=Q.getCiphers}),K3=c0(($)=>{var Q=(WX(),X$(GX));$.DiffieHellmanGroup=Q.DiffieHellmanGroup,$.createDiffieHellmanGroup=Q.createDiffieHellmanGroup,$.getDiffieHellman=Q.getDiffieHellman,$.createDiffieHellman=Q.createDiffieHellman,$.DiffieHellman=Q.DiffieHellman}),U3=c0(($)=>{var Q=(WX(),X$(GX));$.createSign=Q.createSign,$.Sign=Q.Sign,$.createVerify=Q.createVerify,$.Verify=Q.Verify}),O3=c0(($,Q)=>{Q.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),xY=c0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var U=function(){};U.prototype=J.prototype,E.prototype=new U,E.prototype.constructor=E}function G(E,J,U){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")U=J,J=10;this._init(E||0,J||10,U||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var z;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")z=window.Buffer;else z=(c$(),X$(m$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,U){if(J.cmp(U)>0)return J;return U},G.min=function E(J,U){if(J.cmp(U)<0)return J;return U},G.prototype._init=function E(J,U,O){if(typeof J==="number")return this._initNumber(J,U,O);if(typeof J==="object")return this._initArray(J,U,O);if(U==="hex")U=16;Y(U===(U|0)&&U>=2&&U<=36),J=J.toString().replace(/\s+/g,"");var K=0;if(J[0]==="-")K++,this.negative=1;if(K<J.length){if(U===16)this._parseHex(J,K,O);else if(this._parseBase(J,U,K),O==="le")this._initArray(this.toArray(),U,O)}},G.prototype._initNumber=function E(J,U,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),U,O)},G.prototype._initArray=function E(J,U,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H,T,P=0;if(O==="be"){for(K=J.length-1,H=0;K>=0;K-=3)if(T=J[K]|J[K-1]<<8|J[K-2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}else if(O==="le"){for(K=0,H=0;K<J.length;K+=3)if(T=J[K]|J[K+1]<<8|J[K+2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}return this.strip()};function L(E,J){var U=E.charCodeAt(J);if(U>=65&&U<=70)return U-55;else if(U>=97&&U<=102)return U-87;else return U-48&15}function A(E,J,U){var O=L(E,U);if(U-1>=J)O|=L(E,U-1)<<4;return O}G.prototype._parseHex=function E(J,U,O){this.length=Math.ceil((J.length-U)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H=0,T=0,P;if(O==="be")for(K=J.length-1;K>=U;K-=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8;else{var D=J.length-U;for(K=D%2===0?U+1:U;K<J.length;K+=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8}this.strip()};function F(E,J,U,O){var K=0,H=Math.min(E.length,U);for(var T=J;T<H;T++){var P=E.charCodeAt(T)-48;if(K*=O,P>=49)K+=P-49+10;else if(P>=17)K+=P-17+10;else K+=P}return K}G.prototype._parseBase=function E(J,U,O){this.words=[0],this.length=1;for(var K=0,H=1;H<=67108863;H*=U)K++;K--,H=H/U|0;var T=J.length-O,P=T%K,D=Math.min(T,T-P)+O,W=0;for(var M=O;M<D;M+=K)if(W=F(J,M,M+K,U),this.imuln(H),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(P!==0){var w=1;W=F(J,M,J.length,U);for(M=0;M<P;M++)w*=U;if(this.imuln(w),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var U=0;U<this.length;U++)J.words[U]=this.words[U];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,U){J=J||10,U=U|0||1;var O;if(J===16||J==="hex"){O="";var K=0,H=0;for(var T=0;T<this.length;T++){var P=this.words[T],D=((P<<K|H)&16777215).toString(16);if(H=P>>>24-K&16777215,K+=2,K>=26)K-=26,T--;if(H!==0||T!==this.length-1)O=C[6-D.length]+D+O;else O=D+O}if(H!==0)O=H.toString(16)+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=q[J],M=R[J];O="";var w=this.clone();w.negative=0;while(!w.isZero()){var j=w.modn(M).toString(J);if(w=w.idivn(M),!w.isZero())O=C[W-j.length]+j+O;else O=j+O}if(this.isZero())O="0"+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,U){return Y(typeof z!=="undefined"),this.toArrayLike(z,J,U)},G.prototype.toArray=function E(J,U){return this.toArrayLike(Array,J,U)},G.prototype.toArrayLike=function E(J,U,O){var K=this.byteLength(),H=O||Math.max(1,K);Y(K<=H,"byte array longer than desired length"),Y(H>0,"Requested array length <= 0"),this.strip();var T=U==="le",P=new J(H),D,W,M=this.clone();if(!T){for(W=0;W<H-K;W++)P[W]=0;for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[H-W-1]=D}else{for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[W]=D;for(;W<H;W++)P[W]=0}return P},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var U=J,O=0;if(U>=4096)O+=13,U>>>=13;if(U>=64)O+=7,U>>>=7;if(U>=8)O+=4,U>>>=4;if(U>=2)O+=2,U>>>=2;return O+U};G.prototype._zeroBits=function E(J){if(J===0)return 26;var U=J,O=0;if((U&8191)===0)O+=13,U>>>=13;if((U&127)===0)O+=7,U>>>=7;if((U&15)===0)O+=4,U>>>=4;if((U&3)===0)O+=2,U>>>=2;if((U&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],U=this._countBits(J);return(this.length-1)*26+U};function I(E){var J=new Array(E.bitLength());for(var U=0;U<J.length;U++){var O=U/26|0,K=U%26;J[U]=(E.words[O]&1<<K)>>>K}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var U=0;U<this.length;U++){var O=this._zeroBits(this.words[U]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var U=0;U<J.length;U++)this.words[U]=this.words[U]|J.words[U];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var U;if(this.length>J.length)U=J;else U=this;for(var O=0;O<U.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=U.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var U,O;if(this.length>J.length)U=this,O=J;else U=J,O=this;for(var K=0;K<O.length;K++)this.words[K]=U.words[K]^O.words[K];if(this!==U)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=U.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var U=Math.ceil(J/26)|0,O=J%26;if(this._expand(U),O>0)U--;for(var K=0;K<U;K++)this.words[K]=~this.words[K]&67108863;if(O>0)this.words[K]=~this.words[K]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,U){Y(typeof J==="number"&&J>=0);var O=J/26|0,K=J%26;if(this._expand(O+1),U)this.words[O]=this.words[O]|1<<K;else this.words[O]=this.words[O]&~(1<<K);return this.strip()},G.prototype.iadd=function E(J){var U;if(this.negative!==0&&J.negative===0)return this.negative=0,U=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,U=this.isub(J),J.negative=1,U._normSign();var O,K;if(this.length>J.length)O=this,K=J;else O=J,K=this;var H=0;for(var T=0;T<K.length;T++)U=(O.words[T]|0)+(K.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;for(;H!==0&&T<O.length;T++)U=(O.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;if(this.length=O.length,H!==0)this.words[this.length]=H,this.length++;else if(O!==this)for(;T<O.length;T++)this.words[T]=O.words[T];return this},G.prototype.add=function E(J){var U;if(J.negative!==0&&this.negative===0)return J.negative=0,U=this.sub(J),J.negative^=1,U;else if(J.negative===0&&this.negative!==0)return this.negative=0,U=J.sub(this),this.negative=1,U;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var U=this.iadd(J);return J.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,H;if(O>0)K=this,H=J;else K=J,H=this;var T=0;for(var P=0;P<H.length;P++)U=(K.words[P]|0)-(H.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;for(;T!==0&&P<K.length;P++)U=(K.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;if(T===0&&P<K.length&&K!==this)for(;P<K.length;P++)this.words[P]=K.words[P];if(this.length=Math.max(this.length,P),K!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,U){U.negative=J.negative^E.negative;var O=E.length+J.length|0;U.length=O,O=O-1|0;var K=E.words[0]|0,H=J.words[0]|0,T=K*H,P=T&67108863,D=T/67108864|0;U.words[0]=P;for(var W=1;W<O;W++){var M=D>>>26,w=D&67108863,j=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=j;x++){var m=W-x|0;K=E.words[m]|0,H=J.words[x]|0,T=K*H+w,M+=T/67108864|0,w=T&67108863}U.words[W]=w|0,D=M|0}if(D!==0)U.words[W]=D|0;else U.length--;return U.strip()}var N=function E(J,U,O){var K=J.words,H=U.words,T=O.words,P=0,D,W,M,w=K[0]|0,j=w&8191,x=w>>>13,m=K[1]|0,o=m&8191,r=m>>>13,z0=K[2]|0,d=z0&8191,n=z0>>>13,R0=K[3]|0,W0=R0&8191,V0=R0>>>13,a=K[4]|0,u=a&8191,s=a>>>13,b0=K[5]|0,Q0=b0&8191,$0=b0>>>13,e=K[6]|0,i=e&8191,Y0=e>>>13,A0=K[7]|0,U0=A0&8191,L0=A0>>>13,e0=K[8]|0,H0=e0&8191,F0=e0>>>13,E$=K[9]|0,q0=E$&8191,E0=E$>>>13,i$=H[0]|0,T0=i$&8191,f0=i$>>>13,jQ=H[1]|0,v0=jQ&8191,g0=jQ>>>13,pQ=H[2]|0,_0=pQ&8191,w0=pQ>>>13,mQ=H[3]|0,x0=mQ&8191,S0=mQ>>>13,cQ=H[4]|0,y0=cQ&8191,N0=cQ>>>13,_Q=H[5]|0,g=_Q&8191,y=_Q>>>13,p0=H[6]|0,Z0=p0&8191,K0=p0>>>13,I$=H[7]|0,C0=I$&8191,P0=I$>>>13,wQ=H[8]|0,h0=wQ&8191,k0=wQ>>>13,xQ=H[9]|0,B0=xQ&8191,j0=xQ>>>13;O.negative=J.negative^U.negative,O.length=19,D=Math.imul(j,T0),W=Math.imul(j,f0),W=W+Math.imul(x,T0)|0,M=Math.imul(x,f0);var p$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(p$>>>26)|0,p$&=67108863,D=Math.imul(o,T0),W=Math.imul(o,f0),W=W+Math.imul(r,T0)|0,M=Math.imul(r,f0),D=D+Math.imul(j,v0)|0,W=W+Math.imul(j,g0)|0,W=W+Math.imul(x,v0)|0,M=M+Math.imul(x,g0)|0;var $$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+($$>>>26)|0,$$&=67108863,D=Math.imul(d,T0),W=Math.imul(d,f0),W=W+Math.imul(n,T0)|0,M=Math.imul(n,f0),D=D+Math.imul(o,v0)|0,W=W+Math.imul(o,g0)|0,W=W+Math.imul(r,v0)|0,M=M+Math.imul(r,g0)|0,D=D+Math.imul(j,_0)|0,W=W+Math.imul(j,w0)|0,W=W+Math.imul(x,_0)|0,M=M+Math.imul(x,w0)|0;var a0=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(a0>>>26)|0,a0&=67108863,D=Math.imul(W0,T0),W=Math.imul(W0,f0),W=W+Math.imul(V0,T0)|0,M=Math.imul(V0,f0),D=D+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(n,v0)|0,M=M+Math.imul(n,g0)|0,D=D+Math.imul(o,_0)|0,W=W+Math.imul(o,w0)|0,W=W+Math.imul(r,_0)|0,M=M+Math.imul(r,w0)|0,D=D+Math.imul(j,x0)|0,W=W+Math.imul(j,S0)|0,W=W+Math.imul(x,x0)|0,M=M+Math.imul(x,S0)|0;var B$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(B$>>>26)|0,B$&=67108863,D=Math.imul(u,T0),W=Math.imul(u,f0),W=W+Math.imul(s,T0)|0,M=Math.imul(s,f0),D=D+Math.imul(W0,v0)|0,W=W+Math.imul(W0,g0)|0,W=W+Math.imul(V0,v0)|0,M=M+Math.imul(V0,g0)|0,D=D+Math.imul(d,_0)|0,W=W+Math.imul(d,w0)|0,W=W+Math.imul(n,_0)|0,M=M+Math.imul(n,w0)|0,D=D+Math.imul(o,x0)|0,W=W+Math.imul(o,S0)|0,W=W+Math.imul(r,x0)|0,M=M+Math.imul(r,S0)|0,D=D+Math.imul(j,y0)|0,W=W+Math.imul(j,N0)|0,W=W+Math.imul(x,y0)|0,M=M+Math.imul(x,N0)|0;var XQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,D=Math.imul(Q0,T0),W=Math.imul(Q0,f0),W=W+Math.imul($0,T0)|0,M=Math.imul($0,f0),D=D+Math.imul(u,v0)|0,W=W+Math.imul(u,g0)|0,W=W+Math.imul(s,v0)|0,M=M+Math.imul(s,g0)|0,D=D+Math.imul(W0,_0)|0,W=W+Math.imul(W0,w0)|0,W=W+Math.imul(V0,_0)|0,M=M+Math.imul(V0,w0)|0,D=D+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(n,x0)|0,M=M+Math.imul(n,S0)|0,D=D+Math.imul(o,y0)|0,W=W+Math.imul(o,N0)|0,W=W+Math.imul(r,y0)|0,M=M+Math.imul(r,N0)|0,D=D+Math.imul(j,g)|0,W=W+Math.imul(j,y)|0,W=W+Math.imul(x,g)|0,M=M+Math.imul(x,y)|0;var ZQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,D=Math.imul(i,T0),W=Math.imul(i,f0),W=W+Math.imul(Y0,T0)|0,M=Math.imul(Y0,f0),D=D+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,M=M+Math.imul($0,g0)|0,D=D+Math.imul(u,_0)|0,W=W+Math.imul(u,w0)|0,W=W+Math.imul(s,_0)|0,M=M+Math.imul(s,w0)|0,D=D+Math.imul(W0,x0)|0,W=W+Math.imul(W0,S0)|0,W=W+Math.imul(V0,x0)|0,M=M+Math.imul(V0,S0)|0,D=D+Math.imul(d,y0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(n,y0)|0,M=M+Math.imul(n,N0)|0,D=D+Math.imul(o,g)|0,W=W+Math.imul(o,y)|0,W=W+Math.imul(r,g)|0,M=M+Math.imul(r,y)|0,D=D+Math.imul(j,Z0)|0,W=W+Math.imul(j,K0)|0,W=W+Math.imul(x,Z0)|0,M=M+Math.imul(x,K0)|0;var YQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,D=Math.imul(U0,T0),W=Math.imul(U0,f0),W=W+Math.imul(L0,T0)|0,M=Math.imul(L0,f0),D=D+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,M=M+Math.imul(Y0,g0)|0,D=D+Math.imul(Q0,_0)|0,W=W+Math.imul(Q0,w0)|0,W=W+Math.imul($0,_0)|0,M=M+Math.imul($0,w0)|0,D=D+Math.imul(u,x0)|0,W=W+Math.imul(u,S0)|0,W=W+Math.imul(s,x0)|0,M=M+Math.imul(s,S0)|0,D=D+Math.imul(W0,y0)|0,W=W+Math.imul(W0,N0)|0,W=W+Math.imul(V0,y0)|0,M=M+Math.imul(V0,N0)|0,D=D+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(n,g)|0,M=M+Math.imul(n,y)|0,D=D+Math.imul(o,Z0)|0,W=W+Math.imul(o,K0)|0,W=W+Math.imul(r,Z0)|0,M=M+Math.imul(r,K0)|0,D=D+Math.imul(j,C0)|0,W=W+Math.imul(j,P0)|0,W=W+Math.imul(x,C0)|0,M=M+Math.imul(x,P0)|0;var JQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,D=Math.imul(H0,T0),W=Math.imul(H0,f0),W=W+Math.imul(F0,T0)|0,M=Math.imul(F0,f0),D=D+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(L0,v0)|0,M=M+Math.imul(L0,g0)|0,D=D+Math.imul(i,_0)|0,W=W+Math.imul(i,w0)|0,W=W+Math.imul(Y0,_0)|0,M=M+Math.imul(Y0,w0)|0,D=D+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,M=M+Math.imul($0,S0)|0,D=D+Math.imul(u,y0)|0,W=W+Math.imul(u,N0)|0,W=W+Math.imul(s,y0)|0,M=M+Math.imul(s,N0)|0,D=D+Math.imul(W0,g)|0,W=W+Math.imul(W0,y)|0,W=W+Math.imul(V0,g)|0,M=M+Math.imul(V0,y)|0,D=D+Math.imul(d,Z0)|0,W=W+Math.imul(d,K0)|0,W=W+Math.imul(n,Z0)|0,M=M+Math.imul(n,K0)|0,D=D+Math.imul(o,C0)|0,W=W+Math.imul(o,P0)|0,W=W+Math.imul(r,C0)|0,M=M+Math.imul(r,P0)|0,D=D+Math.imul(j,h0)|0,W=W+Math.imul(j,k0)|0,W=W+Math.imul(x,h0)|0,M=M+Math.imul(x,k0)|0;var GQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,D=Math.imul(q0,T0),W=Math.imul(q0,f0),W=W+Math.imul(E0,T0)|0,M=Math.imul(E0,f0),D=D+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(F0,v0)|0,M=M+Math.imul(F0,g0)|0,D=D+Math.imul(U0,_0)|0,W=W+Math.imul(U0,w0)|0,W=W+Math.imul(L0,_0)|0,M=M+Math.imul(L0,w0)|0,D=D+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,M=M+Math.imul(Y0,S0)|0,D=D+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,y0)|0,M=M+Math.imul($0,N0)|0,D=D+Math.imul(u,g)|0,W=W+Math.imul(u,y)|0,W=W+Math.imul(s,g)|0,M=M+Math.imul(s,y)|0,D=D+Math.imul(W0,Z0)|0,W=W+Math.imul(W0,K0)|0,W=W+Math.imul(V0,Z0)|0,M=M+Math.imul(V0,K0)|0,D=D+Math.imul(d,C0)|0,W=W+Math.imul(d,P0)|0,W=W+Math.imul(n,C0)|0,M=M+Math.imul(n,P0)|0,D=D+Math.imul(o,h0)|0,W=W+Math.imul(o,k0)|0,W=W+Math.imul(r,h0)|0,M=M+Math.imul(r,k0)|0,D=D+Math.imul(j,B0)|0,W=W+Math.imul(j,j0)|0,W=W+Math.imul(x,B0)|0,M=M+Math.imul(x,j0)|0;var WQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,D=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(E0,v0)|0,M=Math.imul(E0,g0),D=D+Math.imul(H0,_0)|0,W=W+Math.imul(H0,w0)|0,W=W+Math.imul(F0,_0)|0,M=M+Math.imul(F0,w0)|0,D=D+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(L0,x0)|0,M=M+Math.imul(L0,S0)|0,D=D+Math.imul(i,y0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,y0)|0,M=M+Math.imul(Y0,N0)|0,D=D+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,M=M+Math.imul($0,y)|0,D=D+Math.imul(u,Z0)|0,W=W+Math.imul(u,K0)|0,W=W+Math.imul(s,Z0)|0,M=M+Math.imul(s,K0)|0,D=D+Math.imul(W0,C0)|0,W=W+Math.imul(W0,P0)|0,W=W+Math.imul(V0,C0)|0,M=M+Math.imul(V0,P0)|0,D=D+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(n,h0)|0,M=M+Math.imul(n,k0)|0,D=D+Math.imul(o,B0)|0,W=W+Math.imul(o,j0)|0,W=W+Math.imul(r,B0)|0,M=M+Math.imul(r,j0)|0;var VQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,D=Math.imul(q0,_0),W=Math.imul(q0,w0),W=W+Math.imul(E0,_0)|0,M=Math.imul(E0,w0),D=D+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(F0,x0)|0,M=M+Math.imul(F0,S0)|0,D=D+Math.imul(U0,y0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(L0,y0)|0,M=M+Math.imul(L0,N0)|0,D=D+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,M=M+Math.imul(Y0,y)|0,D=D+Math.imul(Q0,Z0)|0,W=W+Math.imul(Q0,K0)|0,W=W+Math.imul($0,Z0)|0,M=M+Math.imul($0,K0)|0,D=D+Math.imul(u,C0)|0,W=W+Math.imul(u,P0)|0,W=W+Math.imul(s,C0)|0,M=M+Math.imul(s,P0)|0,D=D+Math.imul(W0,h0)|0,W=W+Math.imul(W0,k0)|0,W=W+Math.imul(V0,h0)|0,M=M+Math.imul(V0,k0)|0,D=D+Math.imul(d,B0)|0,W=W+Math.imul(d,j0)|0,W=W+Math.imul(n,B0)|0,M=M+Math.imul(n,j0)|0;var KQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(KQ>>>26)|0,KQ&=67108863,D=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(E0,x0)|0,M=Math.imul(E0,S0),D=D+Math.imul(H0,y0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(F0,y0)|0,M=M+Math.imul(F0,N0)|0,D=D+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(L0,g)|0,M=M+Math.imul(L0,y)|0,D=D+Math.imul(i,Z0)|0,W=W+Math.imul(i,K0)|0,W=W+Math.imul(Y0,Z0)|0,M=M+Math.imul(Y0,K0)|0,D=D+Math.imul(Q0,C0)|0,W=W+Math.imul(Q0,P0)|0,W=W+Math.imul($0,C0)|0,M=M+Math.imul($0,P0)|0,D=D+Math.imul(u,h0)|0,W=W+Math.imul(u,k0)|0,W=W+Math.imul(s,h0)|0,M=M+Math.imul(s,k0)|0,D=D+Math.imul(W0,B0)|0,W=W+Math.imul(W0,j0)|0,W=W+Math.imul(V0,B0)|0,M=M+Math.imul(V0,j0)|0;var UQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,D=Math.imul(q0,y0),W=Math.imul(q0,N0),W=W+Math.imul(E0,y0)|0,M=Math.imul(E0,N0),D=D+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(F0,g)|0,M=M+Math.imul(F0,y)|0,D=D+Math.imul(U0,Z0)|0,W=W+Math.imul(U0,K0)|0,W=W+Math.imul(L0,Z0)|0,M=M+Math.imul(L0,K0)|0,D=D+Math.imul(i,C0)|0,W=W+Math.imul(i,P0)|0,W=W+Math.imul(Y0,C0)|0,M=M+Math.imul(Y0,P0)|0,D=D+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,M=M+Math.imul($0,k0)|0,D=D+Math.imul(u,B0)|0,W=W+Math.imul(u,j0)|0,W=W+Math.imul(s,B0)|0,M=M+Math.imul(s,j0)|0;var OQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(OQ>>>26)|0,OQ&=67108863,D=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(E0,g)|0,M=Math.imul(E0,y),D=D+Math.imul(H0,Z0)|0,W=W+Math.imul(H0,K0)|0,W=W+Math.imul(F0,Z0)|0,M=M+Math.imul(F0,K0)|0,D=D+Math.imul(U0,C0)|0,W=W+Math.imul(U0,P0)|0,W=W+Math.imul(L0,C0)|0,M=M+Math.imul(L0,P0)|0,D=D+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,M=M+Math.imul(Y0,k0)|0,D=D+Math.imul(Q0,B0)|0,W=W+Math.imul(Q0,j0)|0,W=W+Math.imul($0,B0)|0,M=M+Math.imul($0,j0)|0;var zQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(zQ>>>26)|0,zQ&=67108863,D=Math.imul(q0,Z0),W=Math.imul(q0,K0),W=W+Math.imul(E0,Z0)|0,M=Math.imul(E0,K0),D=D+Math.imul(H0,C0)|0,W=W+Math.imul(H0,P0)|0,W=W+Math.imul(F0,C0)|0,M=M+Math.imul(F0,P0)|0,D=D+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(L0,h0)|0,M=M+Math.imul(L0,k0)|0,D=D+Math.imul(i,B0)|0,W=W+Math.imul(i,j0)|0,W=W+Math.imul(Y0,B0)|0,M=M+Math.imul(Y0,j0)|0;var HQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,D=Math.imul(q0,C0),W=Math.imul(q0,P0),W=W+Math.imul(E0,C0)|0,M=Math.imul(E0,P0),D=D+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(F0,h0)|0,M=M+Math.imul(F0,k0)|0,D=D+Math.imul(U0,B0)|0,W=W+Math.imul(U0,j0)|0,W=W+Math.imul(L0,B0)|0,M=M+Math.imul(L0,j0)|0;var DQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,D=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(E0,h0)|0,M=Math.imul(E0,k0),D=D+Math.imul(H0,B0)|0,W=W+Math.imul(H0,j0)|0,W=W+Math.imul(F0,B0)|0,M=M+Math.imul(F0,j0)|0;var LQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(LQ>>>26)|0,LQ&=67108863,D=Math.imul(q0,B0),W=Math.imul(q0,j0),W=W+Math.imul(E0,B0)|0,M=Math.imul(E0,j0);var qQ=(P+D|0)+((W&8191)<<13)|0;if(P=(M+(W>>>13)|0)+(qQ>>>26)|0,qQ&=67108863,T[0]=p$,T[1]=$$,T[2]=a0,T[3]=B$,T[4]=XQ,T[5]=ZQ,T[6]=YQ,T[7]=JQ,T[8]=GQ,T[9]=WQ,T[10]=VQ,T[11]=KQ,T[12]=UQ,T[13]=OQ,T[14]=zQ,T[15]=HQ,T[16]=DQ,T[17]=LQ,T[18]=qQ,P!==0)T[19]=P,O.length++;return O};if(!Math.imul)N=S;function B(E,J,U){U.negative=J.negative^E.negative,U.length=E.length+J.length;var O=0,K=0;for(var H=0;H<U.length-1;H++){var T=K;K=0;var P=O&67108863,D=Math.min(H,J.length-1);for(var W=Math.max(0,H-E.length+1);W<=D;W++){var M=H-W,w=E.words[M]|0,j=J.words[W]|0,x=w*j,m=x&67108863;T=T+(x/67108864|0)|0,m=m+P|0,P=m&67108863,T=T+(m>>>26)|0,K+=T>>>26,T&=67108863}U.words[H]=P,O=T,T=K}if(O!==0)U.words[H]=O;else U.length--;return U.strip()}function _(E,J,U){var O=new k;return O.mulp(E,J,U)}G.prototype.mulTo=function E(J,U){var O,K=this.length+J.length;if(this.length===10&&J.length===10)O=N(this,J,U);else if(K<63)O=S(this,J,U);else if(K<1024)O=B(this,J,U);else O=_(this,J,U);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var U=new Array(J),O=G.prototype._countBits(J)-1;for(var K=0;K<J;K++)U[K]=this.revBin(K,O,J);return U},k.prototype.revBin=function E(J,U,O){if(J===0||J===O-1)return J;var K=0;for(var H=0;H<U;H++)K|=(J&1)<<U-H-1,J>>=1;return K},k.prototype.permute=function E(J,U,O,K,H,T){for(var P=0;P<T;P++)K[P]=U[J[P]],H[P]=O[J[P]]},k.prototype.transform=function E(J,U,O,K,H,T){this.permute(T,J,U,O,K,H);for(var P=1;P<H;P<<=1){var D=P<<1,W=Math.cos(2*Math.PI/D),M=Math.sin(2*Math.PI/D);for(var w=0;w<H;w+=D){var j=W,x=M;for(var m=0;m<P;m++){var o=O[w+m],r=K[w+m],z0=O[w+m+P],d=K[w+m+P],n=j*z0-x*d;if(d=j*d+x*z0,z0=n,O[w+m]=o+z0,K[w+m]=r+d,O[w+m+P]=o-z0,K[w+m+P]=r-d,m!==D)n=W*j-M*x,x=W*x+M*j,j=n}}}},k.prototype.guessLen13b=function E(J,U){var O=Math.max(U,J)|1,K=O&1,H=0;for(O=O/2|0;O;O=O>>>1)H++;return 1<<H+1+K},k.prototype.conjugate=function E(J,U,O){if(O<=1)return;for(var K=0;K<O/2;K++){var H=J[K];J[K]=J[O-K-1],J[O-K-1]=H,H=U[K],U[K]=-U[O-K-1],U[O-K-1]=-H}},k.prototype.normalize13b=function E(J,U){var O=0;for(var K=0;K<U/2;K++){var H=Math.round(J[2*K+1]/U)*8192+Math.round(J[2*K]/U)+O;if(J[K]=H&67108863,H<67108864)O=0;else O=H/67108864|0}return J},k.prototype.convert13b=function E(J,U,O,K){var H=0;for(var T=0;T<U;T++)H=H+(J[T]|0),O[2*T]=H&8191,H=H>>>13,O[2*T+1]=H&8191,H=H>>>13;for(T=2*U;T<K;++T)O[T]=0;Y(H===0),Y((H&-8192)===0)},k.prototype.stub=function E(J){var U=new Array(J);for(var O=0;O<J;O++)U[O]=0;return U},k.prototype.mulp=function E(J,U,O){var K=2*this.guessLen13b(J.length,U.length),H=this.makeRBT(K),T=this.stub(K),P=new Array(K),D=new Array(K),W=new Array(K),M=new Array(K),w=new Array(K),j=new Array(K),x=O.words;x.length=K,this.convert13b(J.words,J.length,P,K),this.convert13b(U.words,U.length,M,K),this.transform(P,T,D,W,K,H),this.transform(M,T,w,j,K,H);for(var m=0;m<K;m++){var o=D[m]*w[m]-W[m]*j[m];W[m]=D[m]*j[m]+W[m]*w[m],D[m]=o}return this.conjugate(D,W,K),this.transform(D,W,x,T,K,H),this.conjugate(x,T,K),this.normalize13b(x,K),O.negative=J.negative^U.negative,O.length=J.length+U.length,O.strip()},G.prototype.mul=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),this.mulTo(J,U)},G.prototype.mulf=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),_(this,J,U)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var U=0;for(var O=0;O<this.length;O++){var K=(this.words[O]|0)*J,H=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=H>>>26,this.words[O]=H&67108863}if(U!==0)this.words[O]=U,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var U=I(J);if(U.length===0)return new G(1);var O=this;for(var K=0;K<U.length;K++,O=O.sqr())if(U[K]!==0)break;if(++K<U.length)for(var H=O.sqr();K<U.length;K++,H=H.sqr()){if(U[K]===0)continue;O=O.mul(H)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=67108863>>>26-U<<26-U,H;if(U!==0){var T=0;for(H=0;H<this.length;H++){var P=this.words[H]&K,D=(this.words[H]|0)-P<<U;this.words[H]=D|T,T=P>>>26-U}if(T)this.words[H]=T,this.length++}if(O!==0){for(H=this.length-1;H>=0;H--)this.words[H+O]=this.words[H];for(H=0;H<O;H++)this.words[H]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,U,O){Y(typeof J==="number"&&J>=0);var K;if(U)K=(U-U%26)/26;else K=0;var H=J%26,T=Math.min((J-H)/26,this.length),P=67108863^67108863>>>H<<H,D=O;if(K-=T,K=Math.max(0,K),D){for(var W=0;W<T;W++)D.words[W]=this.words[W];D.length=T}if(T===0);else if(this.length>T){this.length-=T;for(W=0;W<this.length;W++)this.words[W]=this.words[W+T]}else this.words[0]=0,this.length=1;var M=0;for(W=this.length-1;W>=0&&(M!==0||W>=K);W--){var w=this.words[W]|0;this.words[W]=M<<26-H|w>>>H,M=w&P}if(D&&M!==0)D.words[D.length++]=M;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,U,O){return Y(this.negative===0),this.iushrn(J,U,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return!1;var H=this.words[O];return!!(H&K)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(U!==0)O++;if(this.length=Math.min(O,this.length),U!==0){var K=67108863^67108863>>>U<<U;this.words[this.length-1]&=K}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)if(this.words[U]-=67108864,U===this.length-1)this.words[U+1]=1;else this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,U,O){var K=J.length+O,H;this._expand(K);var T,P=0;for(H=0;H<J.length;H++){T=(this.words[H+O]|0)+P;var D=(J.words[H]|0)*U;T-=D&67108863,P=(T>>26)-(D/67108864|0),this.words[H+O]=T&67108863}for(;H<this.length-O;H++)T=(this.words[H+O]|0)+P,P=T>>26,this.words[H+O]=T&67108863;if(P===0)return this.strip();Y(P===-1),P=0;for(H=0;H<this.length;H++)T=-(this.words[H]|0)+P,P=T>>26,this.words[H]=T&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,U){var O=this.length-J.length,K=this.clone(),H=J,T=H.words[H.length-1]|0,P=this._countBits(T);if(O=26-P,O!==0)H=H.ushln(O),K.iushln(O),T=H.words[H.length-1]|0;var D=K.length-H.length,W;if(U!=="mod"){W=new G(null),W.length=D+1,W.words=new Array(W.length);for(var M=0;M<W.length;M++)W.words[M]=0}var w=K.clone()._ishlnsubmul(H,1,D);if(w.negative===0){if(K=w,W)W.words[D]=1}for(var j=D-1;j>=0;j--){var x=(K.words[H.length+j]|0)*67108864+(K.words[H.length+j-1]|0);x=Math.min(x/T|0,67108863),K._ishlnsubmul(H,x,j);while(K.negative!==0)if(x--,K.negative=0,K._ishlnsubmul(H,1,j),!K.isZero())K.negative^=1;if(W)W.words[j]=x}if(W)W.strip();if(K.strip(),U!=="div"&&O!==0)K.iushrn(O);return{div:W||null,mod:K}},G.prototype.divmod=function E(J,U,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var K,H,T;if(this.negative!==0&&J.negative===0){if(T=this.neg().divmod(J,U),U!=="mod")K=T.div.neg();if(U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.iadd(J)}return{div:K,mod:H}}if(this.negative===0&&J.negative!==0){if(T=this.divmod(J.neg(),U),U!=="mod")K=T.div.neg();return{div:K,mod:T.mod}}if((this.negative&J.negative)!==0){if(T=this.neg().divmod(J.neg(),U),U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.isub(J)}return{div:T.div,mod:H}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(U==="div")return{div:this.divn(J.words[0]),mod:null};if(U==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,U)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var U=this.divmod(J);if(U.mod.isZero())return U.div;var O=U.div.negative!==0?U.mod.isub(J):U.mod,K=J.ushrn(1),H=J.andln(1),T=O.cmp(K);if(T<0||H===1&&T===0)return U.div;return U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var U=67108864%J,O=0;for(var K=this.length-1;K>=0;K--)O=(U*O+(this.words[K]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var U=0;for(var O=this.length-1;O>=0;O--){var K=(this.words[O]|0)+U*67108864;this.words[O]=K/J|0,U=K%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=new G(0),P=new G(1),D=0;while(U.isEven()&&O.isEven())U.iushrn(1),O.iushrn(1),++D;var W=O.clone(),M=U.clone();while(!U.isZero()){for(var w=0,j=1;(U.words[0]&j)===0&&w<26;++w,j<<=1);if(w>0){U.iushrn(w);while(w-- >0){if(K.isOdd()||H.isOdd())K.iadd(W),H.isub(M);K.iushrn(1),H.iushrn(1)}}for(var x=0,m=1;(O.words[0]&m)===0&&x<26;++x,m<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(T.isOdd()||P.isOdd())T.iadd(W),P.isub(M);T.iushrn(1),P.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(T),H.isub(P);else O.isub(U),T.isub(K),P.isub(H)}return{a:T,b:P,gcd:O.iushln(D)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=O.clone();while(U.cmpn(1)>0&&O.cmpn(1)>0){for(var P=0,D=1;(U.words[0]&D)===0&&P<26;++P,D<<=1);if(P>0){U.iushrn(P);while(P-- >0){if(K.isOdd())K.iadd(T);K.iushrn(1)}}for(var W=0,M=1;(O.words[0]&M)===0&&W<26;++W,M<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(H.isOdd())H.iadd(T);H.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(H);else O.isub(U),H.isub(K)}var w;if(U.cmpn(1)===0)w=K;else w=H;if(w.cmpn(0)<0)w.iadd(J);return w},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var U=this.clone(),O=J.clone();U.negative=0,O.negative=0;for(var K=0;U.isEven()&&O.isEven();K++)U.iushrn(1),O.iushrn(1);do{while(U.isEven())U.iushrn(1);while(O.isEven())O.iushrn(1);var H=U.cmp(O);if(H<0){var T=U;U=O,O=T}else if(H===0||O.cmpn(1)===0)break;U.isub(O)}while(!0);return O.iushln(K)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return this._expand(O+1),this.words[O]|=K,this;var H=K;for(var T=O;H!==0&&T<this.length;T++){var P=this.words[T]|0;P+=H,H=P>>>26,P&=67108863,this.words[T]=P}if(H!==0)this.words[T]=H,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var U=J<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var O;if(this.length>1)O=1;else{if(U)J=-J;Y(J<=67108863,"Number is too big");var K=this.words[0]|0;O=K===J?0:K<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var U=this.ucmp(J);if(this.negative!==0)return-U|0;return U},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var U=0;for(var O=this.length-1;O>=0;O--){var K=this.words[O]|0,H=J.words[O]|0;if(K===H)continue;if(K<H)U=-1;else if(K>H)U=1;break}return U},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new h(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var U=J,O;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),O=U.bitLength();while(O>this.n);var K=O<this.n?-1:U.ucmp(this.p);if(K===0)U.words[0]=0,U.length=1;else if(K>0)U.isub(this.p);else if(U.strip!==void 0)U.strip();else U._strip();return U},v.prototype.split=function E(J,U){J.iushrn(this.n,0,U)},v.prototype.imulK=function E(J){return J.imul(this.k)};function p(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(p,v),p.prototype.split=function E(J,U){var O=4194303,K=Math.min(J.length,9);for(var H=0;H<K;H++)U.words[H]=J.words[H];if(U.length=K,J.length<=9){J.words[0]=0,J.length=1;return}var T=J.words[9];U.words[U.length++]=T&O;for(H=10;H<J.length;H++){var P=J.words[H]|0;J.words[H-10]=(P&O)<<4|T>>>22,T=P}if(T>>>=22,J.words[H-10]=T,T===0&&J.length>10)J.length-=10;else J.length-=9},p.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var U=0;for(var O=0;O<J.length;O++){var K=J.words[O]|0;U+=K*977,J.words[O]=U&67108863,U=K*64+(U/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(c,v);function X0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(X0,v);function t(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(t,v),t.prototype.imulK=function E(J){var U=0;for(var O=0;O<J.length;O++){var K=(J.words[O]|0)*19+U,H=K&67108863;K>>>=26,J.words[O]=H,U=K}if(U!==0)J.words[J.length++]=U;return J},G._prime=function E(J){if(f[J])return f[J];var U;if(J==="k256")U=new p;else if(J==="p224")U=new c;else if(J==="p192")U=new X0;else if(J==="p25519")U=new t;else throw new Error("Unknown prime "+J);return f[J]=U,U};function h(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}h.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},h.prototype._verify2=function E(J,U){Y((J.negative|U.negative)===0,"red works only with positives"),Y(J.red&&J.red===U.red,"red works only with red numbers")},h.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},h.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},h.prototype.add=function E(J,U){this._verify2(J,U);var O=J.add(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},h.prototype.iadd=function E(J,U){this._verify2(J,U);var O=J.iadd(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O},h.prototype.sub=function E(J,U){this._verify2(J,U);var O=J.sub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},h.prototype.isub=function E(J,U){this._verify2(J,U);var O=J.isub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O},h.prototype.shl=function E(J,U){return this._verify1(J),this.imod(J.ushln(U))},h.prototype.imul=function E(J,U){return this._verify2(J,U),this.imod(J.imul(U))},h.prototype.mul=function E(J,U){return this._verify2(J,U),this.imod(J.mul(U))},h.prototype.isqr=function E(J){return this.imul(J,J.clone())},h.prototype.sqr=function E(J){return this.mul(J,J)},h.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var U=this.m.andln(3);if(Y(U%2===1),U===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var K=this.m.subn(1),H=0;while(!K.isZero()&&K.andln(1)===0)H++,K.iushrn(1);Y(!K.isZero());var T=new G(1).toRed(this),P=T.redNeg(),D=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,D).cmp(P)!==0)W.redIAdd(P);var M=this.pow(W,K),w=this.pow(J,K.addn(1).iushrn(1)),j=this.pow(J,K),x=H;while(j.cmp(T)!==0){var m=j;for(var o=0;m.cmp(T)!==0;o++)m=m.redSqr();Y(o<x);var r=this.pow(M,new G(1).iushln(x-o-1));w=w.redMul(r),M=r.redSqr(),j=j.redMul(M),x=o}return w},h.prototype.invm=function E(J){var U=J._invmp(this.m);if(U.negative!==0)return U.negative=0,this.imod(U).redNeg();else return this.imod(U)},h.prototype.pow=function E(J,U){if(U.isZero())return new G(1).toRed(this);if(U.cmpn(1)===0)return J.clone();var O=4,K=new Array(1<<O);K[0]=new G(1).toRed(this),K[1]=J;for(var H=2;H<K.length;H++)K[H]=this.mul(K[H-1],J);var T=K[0],P=0,D=0,W=U.bitLength()%26;if(W===0)W=26;for(H=U.length-1;H>=0;H--){var M=U.words[H];for(var w=W-1;w>=0;w--){var j=M>>w&1;if(T!==K[0])T=this.sqr(T);if(j===0&&P===0){D=0;continue}if(P<<=1,P|=j,D++,D!==O&&(H!==0||w!==0))continue;T=this.mul(T,K[P]),D=0,P=0}W=26}return T},h.prototype.convertTo=function E(J){var U=J.umod(this.m);return U===J?U.clone():U},h.prototype.convertFrom=function E(J){var U=J.clone();return U.red=null,U},G.mont=function E(J){return new l(J)};function l(E){if(h.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(l,h),l.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},l.prototype.convertFrom=function E(J){var U=this.imod(J.mul(this.rinv));return U.red=null,U},l.prototype.imul=function E(J,U){if(J.isZero()||U.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.mul=function E(J,U){if(J.isZero()||U.isZero())return new G(0)._forceRed(this);var O=J.mul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.invm=function E(J){var U=this.imod(J._invmp(this.m).mul(this.r2));return U._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),AJ=c0(($,Q)=>{Q.exports=X;function X(Z,Y){if(!Z)throw new Error(Y||"Assertion failed")}X.equal=function Z(Y,V,G){if(Y!=V)throw new Error(G||"Assertion failed: "+Y+" != "+V)}}),wq=c0(($)=>{var Q=$;function X(V,G){if(Array.isArray(V))return V.slice();if(!V)return[];var z=[];if(typeof V!=="string"){for(var L=0;L<V.length;L++)z[L]=V[L]|0;return z}if(G==="hex"){if(V=V.replace(/[^a-z0-9]+/ig,""),V.length%2!==0)V="0"+V;for(var L=0;L<V.length;L+=2)z.push(parseInt(V[L]+V[L+1],16))}else for(var L=0;L<V.length;L++){var A=V.charCodeAt(L),F=A>>8,C=A&255;if(F)z.push(F,C);else z.push(C)}return z}Q.toArray=X;function Z(V){if(V.length===1)return"0"+V;else return V}Q.zero2=Z;function Y(V){var G="";for(var z=0;z<V.length;z++)G+=Z(V[z].toString(16));return G}Q.toHex=Y,Q.encode=function V(G,z){if(z==="hex")return Y(G);else return G}}),WZ=c0(($)=>{var Q=$,X=xY(),Z=AJ(),Y=wq();Q.assert=Z,Q.toArray=Y.toArray,Q.zero2=Y.zero2,Q.toHex=Y.toHex,Q.encode=Y.encode;function V(F,C,q){var R=new Array(Math.max(F.bitLength(),q)+1),I;for(I=0;I<R.length;I+=1)R[I]=0;var S=1<<C+1,N=F.clone();for(I=0;I<R.length;I++){var B,_=N.andln(S-1);if(N.isOdd()){if(_>(S>>1)-1)B=(S>>1)-_;else B=_;N.isubn(B)}else B=0;R[I]=B,N.iushrn(1)}return R}Q.getNAF=V;function G(F,C){var q=[[],[]];F=F.clone(),C=C.clone();var R=0,I=0,S;while(F.cmpn(-R)>0||C.cmpn(-I)>0){var N=F.andln(3)+R&3,B=C.andln(3)+I&3;if(N===3)N=-1;if(B===3)B=-1;var _;if((N&1)===0)_=0;else if(S=F.andln(7)+R&7,(S===3||S===5)&&B===2)_=-N;else _=N;q[0].push(_);var k;if((B&1)===0)k=0;else if(S=C.andln(7)+I&7,(S===3||S===5)&&N===2)k=-B;else k=B;if(q[1].push(k),2*R===_+1)R=1-R;if(2*I===k+1)I=1-I;F.iushrn(1),C.iushrn(1)}return q}Q.getJSF=G;function z(F,C,q){var R="_"+C;F.prototype[C]=function I(){return this[R]!==void 0?this[R]:this[R]=q.call(this)}}Q.cachedProperty=z;function L(F){return typeof F==="string"?Q.toArray(F,"hex"):F}Q.parseBytes=L;function A(F){return new X(F,"hex","le")}Q.intFromLE=A}),xq=c0(($,Q)=>{var X;Q.exports=function V(G){if(!X)X=new Z(null);return X.generate(G)};function Z(V){this.rand=V}if(Q.exports.Rand=Z,Z.prototype.generate=function V(G){return this._rand(G)},Z.prototype._rand=function V(G){if(this.rand.getBytes)return this.rand.getBytes(G);var z=new Uint8Array(G);for(var L=0;L<z.length;L++)z[L]=this.rand.getByte();return z},typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues)Z.prototype._rand=function V(G){var z=new Uint8Array(G);return self.crypto.getRandomValues(z),z};else if(self.msCrypto&&self.msCrypto.getRandomValues)Z.prototype._rand=function V(G){var z=new Uint8Array(G);return self.msCrypto.getRandomValues(z),z};else if(typeof window==="object")Z.prototype._rand=function(){throw new Error("Not implemented yet")}}else try{if(Y=(WX(),X$(GX)),typeof Y.randomBytes!=="function")throw new Error("Not supported");Z.prototype._rand=function V(G){return Y.randomBytes(G)}}catch(V){}var Y}),DU=c0(($,Q)=>{var X=xY(),Z=WZ(),Y=Z.getNAF,V=Z.getJSF,G=Z.assert;function z(A,F){this.type=A,this.p=new X(F.p,16),this.red=F.prime?X.red(F.prime):X.mont(this.p),this.zero=new X(0).toRed(this.red),this.one=new X(1).toRed(this.red),this.two=new X(2).toRed(this.red),this.n=F.n&&new X(F.n,16),this.g=F.g&&this.pointFromJSON(F.g,F.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var C=this.n&&this.p.div(this.n);if(!C||C.cmpn(100)>0)this.redN=null;else this._maxwellTrick=!0,this.redN=this.n.toRed(this.red)}Q.exports=z,z.prototype.point=function A(){throw new Error("Not implemented")},z.prototype.validate=function A(){throw new Error("Not implemented")},z.prototype._fixedNafMul=function A(F,C){G(F.precomputed);var q=F._getDoubles(),R=Y(C,1,this._bitLength),I=(1<<q.step+1)-(q.step%2===0?2:1);I/=3;var S=[],N,B;for(N=0;N<R.length;N+=q.step){B=0;for(var _=N+q.step-1;_>=N;_--)B=(B<<1)+R[_];S.push(B)}var k=this.jpoint(null,null,null),f=this.jpoint(null,null,null);for(var v=I;v>0;v--){for(N=0;N<S.length;N++)if(B=S[N],B===v)f=f.mixedAdd(q.points[N]);else if(B===-v)f=f.mixedAdd(q.points[N].neg());k=k.add(f)}return k.toP()},z.prototype._wnafMul=function A(F,C){var q=4,R=F._getNAFPoints(q);q=R.wnd;var I=R.points,S=Y(C,q,this._bitLength),N=this.jpoint(null,null,null);for(var B=S.length-1;B>=0;B--){for(var _=0;B>=0&&S[B]===0;B--)_++;if(B>=0)_++;if(N=N.dblp(_),B<0)break;var k=S[B];if(G(k!==0),F.type==="affine")if(k>0)N=N.mixedAdd(I[k-1>>1]);else N=N.mixedAdd(I[-k-1>>1].neg());else if(k>0)N=N.add(I[k-1>>1]);else N=N.add(I[-k-1>>1].neg())}return F.type==="affine"?N.toP():N},z.prototype._wnafMulAdd=function A(F,C,q,R,I){var S=this._wnafT1,N=this._wnafT2,B=this._wnafT3,_=0,k,f,v;for(k=0;k<R;k++){v=C[k];var p=v._getNAFPoints(F);S[k]=p.wnd,N[k]=p.points}for(k=R-1;k>=1;k-=2){var c=k-1,X0=k;if(S[c]!==1||S[X0]!==1){B[c]=Y(q[c],S[c],this._bitLength),B[X0]=Y(q[X0],S[X0],this._bitLength),_=Math.max(B[c].length,_),_=Math.max(B[X0].length,_);continue}var t=[C[c],null,null,C[X0]];if(C[c].y.cmp(C[X0].y)===0)t[1]=C[c].add(C[X0]),t[2]=C[c].toJ().mixedAdd(C[X0].neg());else if(C[c].y.cmp(C[X0].y.redNeg())===0)t[1]=C[c].toJ().mixedAdd(C[X0]),t[2]=C[c].add(C[X0].neg());else t[1]=C[c].toJ().mixedAdd(C[X0]),t[2]=C[c].toJ().mixedAdd(C[X0].neg());var h=[-3,-1,-5,-7,0,7,5,1,3],l=V(q[c],q[X0]);_=Math.max(l[0].length,_),B[c]=new Array(_),B[X0]=new Array(_);for(f=0;f<_;f++){var E=l[0][f]|0,J=l[1][f]|0;B[c][f]=h[(E+1)*3+(J+1)],B[X0][f]=0,N[c]=t}}var U=this.jpoint(null,null,null),O=this._wnafT4;for(k=_;k>=0;k--){var K=0;while(k>=0){var H=!0;for(f=0;f<R;f++)if(O[f]=B[f][k]|0,O[f]!==0)H=!1;if(!H)break;K++,k--}if(k>=0)K++;if(U=U.dblp(K),k<0)break;for(f=0;f<R;f++){var T=O[f];if(T===0)continue;else if(T>0)v=N[f][T-1>>1];else if(T<0)v=N[f][-T-1>>1].neg();if(v.type==="affine")U=U.mixedAdd(v);else U=U.add(v)}}for(k=0;k<R;k++)N[k]=null;if(I)return U;else return U.toP()};function L(A,F){this.curve=A,this.type=F,this.precomputed=null}z.BasePoint=L,L.prototype.eq=function A(){throw new Error("Not implemented")},L.prototype.validate=function A(){return this.curve.validate(this)},z.prototype.decodePoint=function A(F,C){F=Z.toArray(F,C);var q=this.p.byteLength();if((F[0]===4||F[0]===6||F[0]===7)&&F.length-1===2*q){if(F[0]===6)G(F[F.length-1]%2===0);else if(F[0]===7)G(F[F.length-1]%2===1);var R=this.point(F.slice(1,1+q),F.slice(1+q,1+2*q));return R}else if((F[0]===2||F[0]===3)&&F.length-1===q)return this.pointFromX(F.slice(1,1+q),F[0]===3);throw new Error("Unknown point format")},L.prototype.encodeCompressed=function A(F){return this.encode(F,!0)},L.prototype._encode=function A(F){var C=this.curve.p.byteLength(),q=this.getX().toArray("be",C);if(F)return[this.getY().isEven()?2:3].concat(q);return[4].concat(q,this.getY().toArray("be",C))},L.prototype.encode=function A(F,C){return Z.encode(this._encode(C),F)},L.prototype.precompute=function A(F){if(this.precomputed)return this;var C={doubles:null,naf:null,beta:null};return C.naf=this._getNAFPoints(8),C.doubles=this._getDoubles(4,F),C.beta=this._getBeta(),this.precomputed=C,this},L.prototype._hasDoubles=function A(F){if(!this.precomputed)return!1;var C=this.precomputed.doubles;if(!C)return!1;return C.points.length>=Math.ceil((F.bitLength()+1)/C.step)},L.prototype._getDoubles=function A(F,C){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var q=[this],R=this;for(var I=0;I<C;I+=F){for(var S=0;S<F;S++)R=R.dbl();q.push(R)}return{step:F,points:q}},L.prototype._getNAFPoints=function A(F){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var C=[this],q=(1<<F)-1,R=q===1?null:this.dbl();for(var I=1;I<q;I++)C[I]=C[I-1].add(R);return{wnd:F,points:C}},L.prototype._getBeta=function A(){return null},L.prototype.dblp=function A(F){var C=this;for(var q=0;q<F;q++)C=C.dbl();return C}}),z3=c0(($,Q)=>{if(typeof Object.create==="function")Q.exports=function X(Z,Y){if(Y)Z.super_=Y,Z.prototype=Object.create(Y.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}})};else Q.exports=function X(Z,Y){if(Y){Z.super_=Y;var V=function(){};V.prototype=Y.prototype,Z.prototype=new V,Z.prototype.constructor=Z}}}),kX=c0(($,Q)=>{try{if(X=(Mq(),X$(qq)),typeof X.inherits!=="function")throw"";Q.exports=X.inherits}catch(Z){Q.exports=z3()}var X}),H3=c0(($,Q)=>{var X=WZ(),Z=xY(),Y=kX(),V=DU(),G=X.assert;function z(F){V.call(this,"short",F),this.a=new Z(F.a,16).toRed(this.red),this.b=new Z(F.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(F),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Y(z,V),Q.exports=z,z.prototype._getEndomorphism=function F(C){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var q,R;if(C.beta)q=new Z(C.beta,16).toRed(this.red);else{var I=this._getEndoRoots(this.p);q=I[0].cmp(I[1])<0?I[0]:I[1],q=q.toRed(this.red)}if(C.lambda)R=new Z(C.lambda,16);else{var S=this._getEndoRoots(this.n);if(this.g.mul(S[0]).x.cmp(this.g.x.redMul(q))===0)R=S[0];else R=S[1],G(this.g.mul(R).x.cmp(this.g.x.redMul(q))===0)}var N;if(C.basis)N=C.basis.map(function(B){return{a:new Z(B.a,16),b:new Z(B.b,16)}});else N=this._getEndoBasis(R);return{beta:q,lambda:R,basis:N}},z.prototype._getEndoRoots=function F(C){var q=C===this.p?this.red:Z.mont(C),R=new Z(2).toRed(q).redInvm(),I=R.redNeg(),S=new Z(3).toRed(q).redNeg().redSqrt().redMul(R),N=I.redAdd(S).fromRed(),B=I.redSub(S).fromRed();return[N,B]},z.prototype._getEndoBasis=function F(C){var q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),R=C,I=this.n.clone(),S=new Z(1),N=new Z(0),B=new Z(0),_=new Z(1),k,f,v,p,c,X0,t,h=0,l,E;while(R.cmpn(0)!==0){var J=I.div(R);l=I.sub(J.mul(R)),E=B.sub(J.mul(S));var U=_.sub(J.mul(N));if(!v&&l.cmp(q)<0)k=t.neg(),f=S,v=l.neg(),p=E;else if(v&&++h===2)break;t=l,I=R,R=l,B=S,S=E,_=N,N=U}c=l.neg(),X0=E;var O=v.sqr().add(p.sqr()),K=c.sqr().add(X0.sqr());if(K.cmp(O)>=0)c=k,X0=f;if(v.negative)v=v.neg(),p=p.neg();if(c.negative)c=c.neg(),X0=X0.neg();return[{a:v,b:p},{a:c,b:X0}]},z.prototype._endoSplit=function F(C){var q=this.endo.basis,R=q[0],I=q[1],S=I.b.mul(C).divRound(this.n),N=R.b.neg().mul(C).divRound(this.n),B=S.mul(R.a),_=N.mul(I.a),k=S.mul(R.b),f=N.mul(I.b),v=C.sub(B).sub(_),p=k.add(f).neg();return{k1:v,k2:p}},z.prototype.pointFromX=function F(C,q){if(C=new Z(C,16),!C.red)C=C.toRed(this.red);var R=C.redSqr().redMul(C).redIAdd(C.redMul(this.a)).redIAdd(this.b),I=R.redSqrt();if(I.redSqr().redSub(R).cmp(this.zero)!==0)throw new Error("invalid point");var S=I.fromRed().isOdd();if(q&&!S||!q&&S)I=I.redNeg();return this.point(C,I)},z.prototype.validate=function F(C){if(C.inf)return!0;var{x:q,y:R}=C,I=this.a.redMul(q),S=q.redSqr().redMul(q).redIAdd(I).redIAdd(this.b);return R.redSqr().redISub(S).cmpn(0)===0},z.prototype._endoWnafMulAdd=function F(C,q,R){var I=this._endoWnafT1,S=this._endoWnafT2;for(var N=0;N<C.length;N++){var B=this._endoSplit(q[N]),_=C[N],k=_._getBeta();if(B.k1.negative)B.k1.ineg(),_=_.neg(!0);if(B.k2.negative)B.k2.ineg(),k=k.neg(!0);I[N*2]=_,I[N*2+1]=k,S[N*2]=B.k1,S[N*2+1]=B.k2}var f=this._wnafMulAdd(1,I,S,N*2,R);for(var v=0;v<N*2;v++)I[v]=null,S[v]=null;return f};function L(F,C,q,R){if(V.BasePoint.call(this,F,"affine"),C===null&&q===null)this.x=null,this.y=null,this.inf=!0;else{if(this.x=new Z(C,16),this.y=new Z(q,16),R)this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=!1}}Y(L,V.BasePoint),z.prototype.point=function F(C,q,R){return new L(this,C,q,R)},z.prototype.pointFromJSON=function F(C,q){return L.fromJSON(this,C,q)},L.prototype._getBeta=function F(){if(!this.curve.endo)return;var C=this.precomputed;if(C&&C.beta)return C.beta;var q=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(C){var R=this.curve,I=function(S){return R.point(S.x.redMul(R.endo.beta),S.y)};C.beta=q,q.precomputed={beta:null,naf:C.naf&&{wnd:C.naf.wnd,points:C.naf.points.map(I)},doubles:C.doubles&&{step:C.doubles.step,points:C.doubles.points.map(I)}}}return q},L.prototype.toJSON=function F(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]},L.fromJSON=function F(C,q,R){if(typeof q==="string")q=JSON.parse(q);var I=C.point(q[0],q[1],R);if(!q[2])return I;function S(B){return C.point(B[0],B[1],R)}var N=q[2];return I.precomputed={beta:null,doubles:N.doubles&&{step:N.doubles.step,points:[I].concat(N.doubles.points.map(S))},naf:N.naf&&{wnd:N.naf.wnd,points:[I].concat(N.naf.points.map(S))}},I},L.prototype.inspect=function F(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function F(){return this.inf},L.prototype.add=function F(C){if(this.inf)return C;if(C.inf)return this;if(this.eq(C))return this.dbl();if(this.neg().eq(C))return this.curve.point(null,null);if(this.x.cmp(C.x)===0)return this.curve.point(null,null);var q=this.y.redSub(C.y);if(q.cmpn(0)!==0)q=q.redMul(this.x.redSub(C.x).redInvm());var R=q.redSqr().redISub(this.x).redISub(C.x),I=q.redMul(this.x.redSub(R)).redISub(this.y);return this.curve.point(R,I)},L.prototype.dbl=function F(){if(this.inf)return this;var C=this.y.redAdd(this.y);if(C.cmpn(0)===0)return this.curve.point(null,null);var q=this.curve.a,R=this.x.redSqr(),I=C.redInvm(),S=R.redAdd(R).redIAdd(R).redIAdd(q).redMul(I),N=S.redSqr().redISub(this.x.redAdd(this.x)),B=S.redMul(this.x.redSub(N)).redISub(this.y);return this.curve.point(N,B)},L.prototype.getX=function F(){return this.x.fromRed()},L.prototype.getY=function F(){return this.y.fromRed()},L.prototype.mul=function F(C){if(C=new Z(C,16),this.isInfinity())return this;else if(this._hasDoubles(C))return this.curve._fixedNafMul(this,C);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[C]);else return this.curve._wnafMul(this,C)},L.prototype.mulAdd=function F(C,q,R){var I=[this,q],S=[C,R];if(this.curve.endo)return this.curve._endoWnafMulAdd(I,S);else return this.curve._wnafMulAdd(1,I,S,2)},L.prototype.jmulAdd=function F(C,q,R){var I=[this,q],S=[C,R];if(this.curve.endo)return this.curve._endoWnafMulAdd(I,S,!0);else return this.curve._wnafMulAdd(1,I,S,2,!0)},L.prototype.eq=function F(C){return this===C||this.inf===C.inf&&(this.inf||this.x.cmp(C.x)===0&&this.y.cmp(C.y)===0)},L.prototype.neg=function F(C){if(this.inf)return this;var q=this.curve.point(this.x,this.y.redNeg());if(C&&this.precomputed){var R=this.precomputed,I=function(S){return S.neg()};q.precomputed={naf:R.naf&&{wnd:R.naf.wnd,points:R.naf.points.map(I)},doubles:R.doubles&&{step:R.doubles.step,points:R.doubles.points.map(I)}}}return q},L.prototype.toJ=function F(){if(this.inf)return this.curve.jpoint(null,null,null);var C=this.curve.jpoint(this.x,this.y,this.curve.one);return C};function A(F,C,q,R){if(V.BasePoint.call(this,F,"jacobian"),C===null&&q===null&&R===null)this.x=this.curve.one,this.y=this.curve.one,this.z=new Z(0);else this.x=new Z(C,16),this.y=new Z(q,16),this.z=new Z(R,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}Y(A,V.BasePoint),z.prototype.jpoint=function F(C,q,R){return new A(this,C,q,R)},A.prototype.toP=function F(){if(this.isInfinity())return this.curve.point(null,null);var C=this.z.redInvm(),q=C.redSqr(),R=this.x.redMul(q),I=this.y.redMul(q).redMul(C);return this.curve.point(R,I)},A.prototype.neg=function F(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},A.prototype.add=function F(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var q=C.z.redSqr(),R=this.z.redSqr(),I=this.x.redMul(q),S=C.x.redMul(R),N=this.y.redMul(q.redMul(C.z)),B=C.y.redMul(R.redMul(this.z)),_=I.redSub(S),k=N.redSub(B);if(_.cmpn(0)===0)if(k.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var f=_.redSqr(),v=f.redMul(_),p=I.redMul(f),c=k.redSqr().redIAdd(v).redISub(p).redISub(p),X0=k.redMul(p.redISub(c)).redISub(N.redMul(v)),t=this.z.redMul(C.z).redMul(_);return this.curve.jpoint(c,X0,t)},A.prototype.mixedAdd=function F(C){if(this.isInfinity())return C.toJ();if(C.isInfinity())return this;var q=this.z.redSqr(),R=this.x,I=C.x.redMul(q),S=this.y,N=C.y.redMul(q).redMul(this.z),B=R.redSub(I),_=S.redSub(N);if(B.cmpn(0)===0)if(_.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var k=B.redSqr(),f=k.redMul(B),v=R.redMul(k),p=_.redSqr().redIAdd(f).redISub(v).redISub(v),c=_.redMul(v.redISub(p)).redISub(S.redMul(f)),X0=this.z.redMul(B);return this.curve.jpoint(p,c,X0)},A.prototype.dblp=function F(C){if(C===0)return this;if(this.isInfinity())return this;if(!C)return this.dbl();var q;if(this.curve.zeroA||this.curve.threeA){var R=this;for(q=0;q<C;q++)R=R.dbl();return R}var I=this.curve.a,S=this.curve.tinv,N=this.x,B=this.y,_=this.z,k=_.redSqr().redSqr(),f=B.redAdd(B);for(q=0;q<C;q++){var v=N.redSqr(),p=f.redSqr(),c=p.redSqr(),X0=v.redAdd(v).redIAdd(v).redIAdd(I.redMul(k)),t=N.redMul(p),h=X0.redSqr().redISub(t.redAdd(t)),l=t.redISub(h),E=X0.redMul(l);E=E.redIAdd(E).redISub(c);var J=f.redMul(_);if(q+1<C)k=k.redMul(c);N=h,_=J,f=E}return this.curve.jpoint(N,f.redMul(S),_)},A.prototype.dbl=function F(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()},A.prototype._zeroDbl=function F(){var C,q,R;if(this.zOne){var I=this.x.redSqr(),S=this.y.redSqr(),N=S.redSqr(),B=this.x.redAdd(S).redSqr().redISub(I).redISub(N);B=B.redIAdd(B);var _=I.redAdd(I).redIAdd(I),k=_.redSqr().redISub(B).redISub(B),f=N.redIAdd(N);f=f.redIAdd(f),f=f.redIAdd(f),C=k,q=_.redMul(B.redISub(k)).redISub(f),R=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),p=this.y.redSqr(),c=p.redSqr(),X0=this.x.redAdd(p).redSqr().redISub(v).redISub(c);X0=X0.redIAdd(X0);var t=v.redAdd(v).redIAdd(v),h=t.redSqr(),l=c.redIAdd(c);l=l.redIAdd(l),l=l.redIAdd(l),C=h.redISub(X0).redISub(X0),q=t.redMul(X0.redISub(C)).redISub(l),R=this.y.redMul(this.z),R=R.redIAdd(R)}return this.curve.jpoint(C,q,R)},A.prototype._threeDbl=function F(){var C,q,R;if(this.zOne){var I=this.x.redSqr(),S=this.y.redSqr(),N=S.redSqr(),B=this.x.redAdd(S).redSqr().redISub(I).redISub(N);B=B.redIAdd(B);var _=I.redAdd(I).redIAdd(I).redIAdd(this.curve.a),k=_.redSqr().redISub(B).redISub(B);C=k;var f=N.redIAdd(N);f=f.redIAdd(f),f=f.redIAdd(f),q=_.redMul(B.redISub(k)).redISub(f),R=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),p=this.y.redSqr(),c=this.x.redMul(p),X0=this.x.redSub(v).redMul(this.x.redAdd(v));X0=X0.redAdd(X0).redIAdd(X0);var t=c.redIAdd(c);t=t.redIAdd(t);var h=t.redAdd(t);C=X0.redSqr().redISub(h),R=this.y.redAdd(this.z).redSqr().redISub(p).redISub(v);var l=p.redSqr();l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l),q=X0.redMul(t.redISub(C)).redISub(l)}return this.curve.jpoint(C,q,R)},A.prototype._dbl=function F(){var C=this.curve.a,q=this.x,R=this.y,I=this.z,S=I.redSqr().redSqr(),N=q.redSqr(),B=R.redSqr(),_=N.redAdd(N).redIAdd(N).redIAdd(C.redMul(S)),k=q.redAdd(q);k=k.redIAdd(k);var f=k.redMul(B),v=_.redSqr().redISub(f.redAdd(f)),p=f.redISub(v),c=B.redSqr();c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var X0=_.redMul(p).redISub(c),t=R.redAdd(R).redMul(I);return this.curve.jpoint(v,X0,t)},A.prototype.trpl=function F(){if(!this.curve.zeroA)return this.dbl().add(this);var C=this.x.redSqr(),q=this.y.redSqr(),R=this.z.redSqr(),I=q.redSqr(),S=C.redAdd(C).redIAdd(C),N=S.redSqr(),B=this.x.redAdd(q).redSqr().redISub(C).redISub(I);B=B.redIAdd(B),B=B.redAdd(B).redIAdd(B),B=B.redISub(N);var _=B.redSqr(),k=I.redIAdd(I);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var f=S.redIAdd(B).redSqr().redISub(N).redISub(_).redISub(k),v=q.redMul(f);v=v.redIAdd(v),v=v.redIAdd(v);var p=this.x.redMul(_).redISub(v);p=p.redIAdd(p),p=p.redIAdd(p);var c=this.y.redMul(f.redMul(k.redISub(f)).redISub(B.redMul(_)));c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var X0=this.z.redAdd(B).redSqr().redISub(R).redISub(_);return this.curve.jpoint(p,c,X0)},A.prototype.mul=function F(C,q){return C=new Z(C,q),this.curve._wnafMul(this,C)},A.prototype.eq=function F(C){if(C.type==="affine")return this.eq(C.toJ());if(this===C)return!0;var q=this.z.redSqr(),R=C.z.redSqr();if(this.x.redMul(R).redISub(C.x.redMul(q)).cmpn(0)!==0)return!1;var I=q.redMul(this.z),S=R.redMul(C.z);return this.y.redMul(S).redISub(C.y.redMul(I)).cmpn(0)===0},A.prototype.eqXToP=function F(C){var q=this.z.redSqr(),R=C.toRed(this.curve.red).redMul(q);if(this.x.cmp(R)===0)return!0;var I=C.clone(),S=this.curve.redN.redMul(q);for(;;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(R.redIAdd(S),this.x.cmp(R)===0)return!0}},A.prototype.inspect=function F(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},A.prototype.isInfinity=function F(){return this.z.cmpn(0)===0}}),D3=c0(($,Q)=>{var X=xY(),Z=kX(),Y=DU(),V=WZ();function G(L){Y.call(this,"mont",L),this.a=new X(L.a,16).toRed(this.red),this.b=new X(L.b,16).toRed(this.red),this.i4=new X(4).toRed(this.red).redInvm(),this.two=new X(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Z(G,Y),Q.exports=G,G.prototype.validate=function L(A){var F=A.normalize().x,C=F.redSqr(),q=C.redMul(F).redAdd(C.redMul(this.a)).redAdd(F),R=q.redSqrt();return R.redSqr().cmp(q)===0};function z(L,A,F){if(Y.BasePoint.call(this,L,"projective"),A===null&&F===null)this.x=this.curve.one,this.z=this.curve.zero;else{if(this.x=new X(A,16),this.z=new X(F,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}Z(z,Y.BasePoint),G.prototype.decodePoint=function L(A,F){return this.point(V.toArray(A,F),1)},G.prototype.point=function L(A,F){return new z(this,A,F)},G.prototype.pointFromJSON=function L(A){return z.fromJSON(this,A)},z.prototype.precompute=function L(){},z.prototype._encode=function L(){return this.getX().toArray("be",this.curve.p.byteLength())},z.fromJSON=function L(A,F){return new z(A,F[0],F[1]||A.one)},z.prototype.inspect=function L(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},z.prototype.isInfinity=function L(){return this.z.cmpn(0)===0},z.prototype.dbl=function L(){var A=this.x.redAdd(this.z),F=A.redSqr(),C=this.x.redSub(this.z),q=C.redSqr(),R=F.redSub(q),I=F.redMul(q),S=R.redMul(q.redAdd(this.curve.a24.redMul(R)));return this.curve.point(I,S)},z.prototype.add=function L(){throw new Error("Not supported on Montgomery curve")},z.prototype.diffAdd=function L(A,F){var C=this.x.redAdd(this.z),q=this.x.redSub(this.z),R=A.x.redAdd(A.z),I=A.x.redSub(A.z),S=I.redMul(C),N=R.redMul(q),B=F.z.redMul(S.redAdd(N).redSqr()),_=F.x.redMul(S.redISub(N).redSqr());return this.curve.point(B,_)},z.prototype.mul=function L(A){var F=A.clone(),C=this,q=this.curve.point(null,null),R=this;for(var I=[];F.cmpn(0)!==0;F.iushrn(1))I.push(F.andln(1));for(var S=I.length-1;S>=0;S--)if(I[S]===0)C=C.diffAdd(q,R),q=q.dbl();else q=C.diffAdd(q,R),C=C.dbl();return q},z.prototype.mulAdd=function L(){throw new Error("Not supported on Montgomery curve")},z.prototype.jumlAdd=function L(){throw new Error("Not supported on Montgomery curve")},z.prototype.eq=function L(A){return this.getX().cmp(A.getX())===0},z.prototype.normalize=function L(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},z.prototype.getX=function L(){return this.normalize(),this.x.fromRed()}}),L3=c0(($,Q)=>{var X=WZ(),Z=xY(),Y=kX(),V=DU(),G=X.assert;function z(A){this.twisted=(A.a|0)!==1,this.mOneA=this.twisted&&(A.a|0)===-1,this.extended=this.mOneA,V.call(this,"edwards",A),this.a=new Z(A.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Z(A.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Z(A.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),G(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(A.c|0)===1}Y(z,V),Q.exports=z,z.prototype._mulA=function A(F){if(this.mOneA)return F.redNeg();else return this.a.redMul(F)},z.prototype._mulC=function A(F){if(this.oneC)return F;else return this.c.redMul(F)},z.prototype.jpoint=function A(F,C,q,R){return this.point(F,C,q,R)},z.prototype.pointFromX=function A(F,C){if(F=new Z(F,16),!F.red)F=F.toRed(this.red);var q=F.redSqr(),R=this.c2.redSub(this.a.redMul(q)),I=this.one.redSub(this.c2.redMul(this.d).redMul(q)),S=R.redMul(I.redInvm()),N=S.redSqrt();if(N.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var B=N.fromRed().isOdd();if(C&&!B||!C&&B)N=N.redNeg();return this.point(F,N)},z.prototype.pointFromY=function A(F,C){if(F=new Z(F,16),!F.red)F=F.toRed(this.red);var q=F.redSqr(),R=q.redSub(this.c2),I=q.redMul(this.d).redMul(this.c2).redSub(this.a),S=R.redMul(I.redInvm());if(S.cmp(this.zero)===0)if(C)throw new Error("invalid point");else return this.point(this.zero,F);var N=S.redSqrt();if(N.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");if(N.fromRed().isOdd()!==C)N=N.redNeg();return this.point(N,F)},z.prototype.validate=function A(F){if(F.isInfinity())return!0;F.normalize();var C=F.x.redSqr(),q=F.y.redSqr(),R=C.redMul(this.a).redAdd(q),I=this.c2.redMul(this.one.redAdd(this.d.redMul(C).redMul(q)));return R.cmp(I)===0};function L(A,F,C,q,R){if(V.BasePoint.call(this,A,"projective"),F===null&&C===null&&q===null)this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0;else{if(this.x=new Z(F,16),this.y=new Z(C,16),this.z=q?new Z(q,16):this.curve.one,this.t=R&&new Z(R,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);if(this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t){if(this.t=this.x.redMul(this.y),!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}Y(L,V.BasePoint),z.prototype.pointFromJSON=function A(F){return L.fromJSON(this,F)},z.prototype.point=function A(F,C,q,R){return new L(this,F,C,q,R)},L.fromJSON=function A(F,C){return new L(F,C[0],C[1],C[2])},L.prototype.inspect=function A(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function A(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},L.prototype._extDbl=function A(){var F=this.x.redSqr(),C=this.y.redSqr(),q=this.z.redSqr();q=q.redIAdd(q);var R=this.curve._mulA(F),I=this.x.redAdd(this.y).redSqr().redISub(F).redISub(C),S=R.redAdd(C),N=S.redSub(q),B=R.redSub(C),_=I.redMul(N),k=S.redMul(B),f=I.redMul(B),v=N.redMul(S);return this.curve.point(_,k,v,f)},L.prototype._projDbl=function A(){var F=this.x.redAdd(this.y).redSqr(),C=this.x.redSqr(),q=this.y.redSqr(),R,I,S,N,B,_;if(this.curve.twisted){N=this.curve._mulA(C);var k=N.redAdd(q);if(this.zOne)R=F.redSub(C).redSub(q).redMul(k.redSub(this.curve.two)),I=k.redMul(N.redSub(q)),S=k.redSqr().redSub(k).redSub(k);else B=this.z.redSqr(),_=k.redSub(B).redISub(B),R=F.redSub(C).redISub(q).redMul(_),I=k.redMul(N.redSub(q)),S=k.redMul(_)}else N=C.redAdd(q),B=this.curve._mulC(this.z).redSqr(),_=N.redSub(B).redSub(B),R=this.curve._mulC(F.redISub(N)).redMul(_),I=this.curve._mulC(N).redMul(C.redISub(q)),S=N.redMul(_);return this.curve.point(R,I,S)},L.prototype.dbl=function A(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()},L.prototype._extAdd=function A(F){var C=this.y.redSub(this.x).redMul(F.y.redSub(F.x)),q=this.y.redAdd(this.x).redMul(F.y.redAdd(F.x)),R=this.t.redMul(this.curve.dd).redMul(F.t),I=this.z.redMul(F.z.redAdd(F.z)),S=q.redSub(C),N=I.redSub(R),B=I.redAdd(R),_=q.redAdd(C),k=S.redMul(N),f=B.redMul(_),v=S.redMul(_),p=N.redMul(B);return this.curve.point(k,f,p,v)},L.prototype._projAdd=function A(F){var C=this.z.redMul(F.z),q=C.redSqr(),R=this.x.redMul(F.x),I=this.y.redMul(F.y),S=this.curve.d.redMul(R).redMul(I),N=q.redSub(S),B=q.redAdd(S),_=this.x.redAdd(this.y).redMul(F.x.redAdd(F.y)).redISub(R).redISub(I),k=C.redMul(N).redMul(_),f,v;if(this.curve.twisted)f=C.redMul(B).redMul(I.redSub(this.curve._mulA(R))),v=N.redMul(B);else f=C.redMul(B).redMul(I.redSub(R)),v=this.curve._mulC(N).redMul(B);return this.curve.point(k,f,v)},L.prototype.add=function A(F){if(this.isInfinity())return F;if(F.isInfinity())return this;if(this.curve.extended)return this._extAdd(F);else return this._projAdd(F)},L.prototype.mul=function A(F){if(this._hasDoubles(F))return this.curve._fixedNafMul(this,F);else return this.curve._wnafMul(this,F)},L.prototype.mulAdd=function A(F,C,q){return this.curve._wnafMulAdd(1,[this,C],[F,q],2,!1)},L.prototype.jmulAdd=function A(F,C,q){return this.curve._wnafMulAdd(1,[this,C],[F,q],2,!0)},L.prototype.normalize=function A(){if(this.zOne)return this;var F=this.z.redInvm();if(this.x=this.x.redMul(F),this.y=this.y.redMul(F),this.t)this.t=this.t.redMul(F);return this.z=this.curve.one,this.zOne=!0,this},L.prototype.neg=function A(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},L.prototype.getX=function A(){return this.normalize(),this.x.fromRed()},L.prototype.getY=function A(){return this.normalize(),this.y.fromRed()},L.prototype.eq=function A(F){return this===F||this.getX().cmp(F.getX())===0&&this.getY().cmp(F.getY())===0},L.prototype.eqXToP=function A(F){var C=F.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(C)===0)return!0;var q=F.clone(),R=this.curve.redN.redMul(this.z);for(;;){if(q.iadd(this.curve.n),q.cmp(this.curve.p)>=0)return!1;if(C.redIAdd(R),this.x.cmp(C)===0)return!0}},L.prototype.toP=L.prototype.normalize,L.prototype.mixedAdd=L.prototype.add}),kq=c0(($)=>{var Q=$;Q.base=DU(),Q.short=H3(),Q.mont=D3(),Q.edwards=L3()}),oZ=c0(($)=>{var Q=AJ(),X=kX();$.inherits=X;function Z(J,U){if((J.charCodeAt(U)&64512)!==55296)return!1;if(U<0||U+1>=J.length)return!1;return(J.charCodeAt(U+1)&64512)===56320}function Y(J,U){if(Array.isArray(J))return J.slice();if(!J)return[];var O=[];if(typeof J==="string"){if(!U){var K=0;for(var H=0;H<J.length;H++){var T=J.charCodeAt(H);if(T<128)O[K++]=T;else if(T<2048)O[K++]=T>>6|192,O[K++]=T&63|128;else if(Z(J,H))T=65536+((T&1023)<<10)+(J.charCodeAt(++H)&1023),O[K++]=T>>18|240,O[K++]=T>>12&63|128,O[K++]=T>>6&63|128,O[K++]=T&63|128;else O[K++]=T>>12|224,O[K++]=T>>6&63|128,O[K++]=T&63|128}}else if(U==="hex"){if(J=J.replace(/[^a-z0-9]+/ig,""),J.length%2!==0)J="0"+J;for(H=0;H<J.length;H+=2)O.push(parseInt(J[H]+J[H+1],16))}}else for(H=0;H<J.length;H++)O[H]=J[H]|0;return O}$.toArray=Y;function V(J){var U="";for(var O=0;O<J.length;O++)U+=L(J[O].toString(16));return U}$.toHex=V;function G(J){var U=J>>>24|J>>>8&65280|J<<8&16711680|(J&255)<<24;return U>>>0}$.htonl=G;function z(J,U){var O="";for(var K=0;K<J.length;K++){var H=J[K];if(U==="little")H=G(H);O+=A(H.toString(16))}return O}$.toHex32=z;function L(J){if(J.length===1)return"0"+J;else return J}$.zero2=L;function A(J){if(J.length===7)return"0"+J;else if(J.length===6)return"00"+J;else if(J.length===5)return"000"+J;else if(J.length===4)return"0000"+J;else if(J.length===3)return"00000"+J;else if(J.length===2)return"000000"+J;else if(J.length===1)return"0000000"+J;else return J}$.zero8=A;function F(J,U,O,K){var H=O-U;Q(H%4===0);var T=new Array(H/4);for(var P=0,D=U;P<T.length;P++,D+=4){var W;if(K==="big")W=J[D]<<24|J[D+1]<<16|J[D+2]<<8|J[D+3];else W=J[D+3]<<24|J[D+2]<<16|J[D+1]<<8|J[D];T[P]=W>>>0}return T}$.join32=F;function C(J,U){var O=new Array(J.length*4);for(var K=0,H=0;K<J.length;K++,H+=4){var T=J[K];if(U==="big")O[H]=T>>>24,O[H+1]=T>>>16&255,O[H+2]=T>>>8&255,O[H+3]=T&255;else O[H+3]=T>>>24,O[H+2]=T>>>16&255,O[H+1]=T>>>8&255,O[H]=T&255}return O}$.split32=C;function q(J,U){return J>>>U|J<<32-U}$.rotr32=q;function R(J,U){return J<<U|J>>>32-U}$.rotl32=R;function I(J,U){return J+U>>>0}$.sum32=I;function S(J,U,O){return J+U+O>>>0}$.sum32_3=S;function N(J,U,O,K){return J+U+O+K>>>0}$.sum32_4=N;function B(J,U,O,K,H){return J+U+O+K+H>>>0}$.sum32_5=B;function _(J,U,O,K){var H=J[U],T=J[U+1],P=K+T>>>0,D=(P<K?1:0)+O+H;J[U]=D>>>0,J[U+1]=P}$.sum64=_;function k(J,U,O,K){var H=U+K>>>0,T=(H<U?1:0)+J+O;return T>>>0}$.sum64_hi=k;function f(J,U,O,K){var H=U+K;return H>>>0}$.sum64_lo=f;function v(J,U,O,K,H,T,P,D){var W=0,M=U;M=M+K>>>0,W+=M<U?1:0,M=M+T>>>0,W+=M<T?1:0,M=M+D>>>0,W+=M<D?1:0;var w=J+O+H+P+W;return w>>>0}$.sum64_4_hi=v;function p(J,U,O,K,H,T,P,D){var W=U+K+T+D;return W>>>0}$.sum64_4_lo=p;function c(J,U,O,K,H,T,P,D,W,M){var w=0,j=U;j=j+K>>>0,w+=j<U?1:0,j=j+T>>>0,w+=j<T?1:0,j=j+D>>>0,w+=j<D?1:0,j=j+M>>>0,w+=j<M?1:0;var x=J+O+H+P+W+w;return x>>>0}$.sum64_5_hi=c;function X0(J,U,O,K,H,T,P,D,W,M){var w=U+K+T+D+M;return w>>>0}$.sum64_5_lo=X0;function t(J,U,O){var K=U<<32-O|J>>>O;return K>>>0}$.rotr64_hi=t;function h(J,U,O){var K=J<<32-O|U>>>O;return K>>>0}$.rotr64_lo=h;function l(J,U,O){return J>>>O}$.shr64_hi=l;function E(J,U,O){var K=J<<32-O|U>>>O;return K>>>0}$.shr64_lo=E}),CV=c0(($)=>{var Q=oZ(),X=AJ();function Z(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}$.BlockHash=Z,Z.prototype.update=function Y(V,G){if(V=Q.toArray(V,G),!this.pending)this.pending=V;else this.pending=this.pending.concat(V);if(this.pendingTotal+=V.length,this.pending.length>=this._delta8){V=this.pending;var z=V.length%this._delta8;if(this.pending=V.slice(V.length-z,V.length),this.pending.length===0)this.pending=null;V=Q.join32(V,0,V.length-z,this.endian);for(var L=0;L<V.length;L+=this._delta32)this._update(V,L,L+this._delta32)}return this},Z.prototype.digest=function Y(V){return this.update(this._pad()),X(this.pending===null),this._digest(V)},Z.prototype._pad=function Y(){var V=this.pendingTotal,G=this._delta8,z=G-(V+this.padLength)%G,L=new Array(z+this.padLength);L[0]=128;for(var A=1;A<z;A++)L[A]=0;if(V<<=3,this.endian==="big"){for(var F=8;F<this.padLength;F++)L[A++]=0;L[A++]=0,L[A++]=0,L[A++]=0,L[A++]=0,L[A++]=V>>>24&255,L[A++]=V>>>16&255,L[A++]=V>>>8&255,L[A++]=V&255}else{L[A++]=V&255,L[A++]=V>>>8&255,L[A++]=V>>>16&255,L[A++]=V>>>24&255,L[A++]=0,L[A++]=0,L[A++]=0,L[A++]=0;for(F=8;F<this.padLength;F++)L[A++]=0}return L}}),fq=c0(($)=>{var Q=oZ(),X=Q.rotr32;function Z(C,q,R,I){if(C===0)return Y(q,R,I);if(C===1||C===3)return G(q,R,I);if(C===2)return V(q,R,I)}$.ft_1=Z;function Y(C,q,R){return C&q^~C&R}$.ch32=Y;function V(C,q,R){return C&q^C&R^q&R}$.maj32=V;function G(C,q,R){return C^q^R}$.p32=G;function z(C){return X(C,2)^X(C,13)^X(C,22)}$.s0_256=z;function L(C){return X(C,6)^X(C,11)^X(C,25)}$.s1_256=L;function A(C){return X(C,7)^X(C,18)^C>>>3}$.g0_256=A;function F(C){return X(C,17)^X(C,19)^C>>>10}$.g1_256=F}),q3=c0(($,Q)=>{var X=oZ(),Z=CV(),Y=fq(),V=X.rotl32,G=X.sum32,z=X.sum32_5,L=Y.ft_1,A=Z.BlockHash,F=[1518500249,1859775393,2400959708,3395469782];function C(){if(!(this instanceof C))return new C;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}X.inherits(C,A),Q.exports=C,C.blockSize=512,C.outSize=160,C.hmacStrength=80,C.padLength=64,C.prototype._update=function q(R,I){var S=this.W;for(var N=0;N<16;N++)S[N]=R[I+N];for(;N<S.length;N++)S[N]=V(S[N-3]^S[N-8]^S[N-14]^S[N-16],1);var B=this.h[0],_=this.h[1],k=this.h[2],f=this.h[3],v=this.h[4];for(N=0;N<S.length;N++){var p=~~(N/20),c=z(V(B,5),L(p,_,k,f),v,S[N],F[p]);v=f,f=k,k=V(_,30),_=B,B=c}this.h[0]=G(this.h[0],B),this.h[1]=G(this.h[1],_),this.h[2]=G(this.h[2],k),this.h[3]=G(this.h[3],f),this.h[4]=G(this.h[4],v)},C.prototype._digest=function q(R){if(R==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")}}),vq=c0(($,Q)=>{var X=oZ(),Z=CV(),Y=fq(),V=AJ(),G=X.sum32,z=X.sum32_4,L=X.sum32_5,A=Y.ch32,F=Y.maj32,C=Y.s0_256,q=Y.s1_256,R=Y.g0_256,I=Y.g1_256,S=Z.BlockHash,N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function B(){if(!(this instanceof B))return new B;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=N,this.W=new Array(64)}X.inherits(B,S),Q.exports=B,B.blockSize=512,B.outSize=256,B.hmacStrength=192,B.padLength=64,B.prototype._update=function _(k,f){var v=this.W;for(var p=0;p<16;p++)v[p]=k[f+p];for(;p<v.length;p++)v[p]=z(I(v[p-2]),v[p-7],R(v[p-15]),v[p-16]);var c=this.h[0],X0=this.h[1],t=this.h[2],h=this.h[3],l=this.h[4],E=this.h[5],J=this.h[6],U=this.h[7];V(this.k.length===v.length);for(p=0;p<v.length;p++){var O=L(U,q(l),A(l,E,J),this.k[p],v[p]),K=G(C(c),F(c,X0,t));U=J,J=E,E=l,l=G(h,O),h=t,t=X0,X0=c,c=G(O,K)}this.h[0]=G(this.h[0],c),this.h[1]=G(this.h[1],X0),this.h[2]=G(this.h[2],t),this.h[3]=G(this.h[3],h),this.h[4]=G(this.h[4],l),this.h[5]=G(this.h[5],E),this.h[6]=G(this.h[6],J),this.h[7]=G(this.h[7],U)},B.prototype._digest=function _(k){if(k==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")}}),M3=c0(($,Q)=>{var X=oZ(),Z=vq();function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}X.inherits(Y,Z),Q.exports=Y,Y.blockSize=512,Y.outSize=224,Y.hmacStrength=192,Y.padLength=64,Y.prototype._digest=function V(G){if(G==="hex")return X.toHex32(this.h.slice(0,7),"big");else return X.split32(this.h.slice(0,7),"big")}}),gq=c0(($,Q)=>{var X=oZ(),Z=CV(),Y=AJ(),V=X.rotr64_hi,G=X.rotr64_lo,z=X.shr64_hi,L=X.shr64_lo,A=X.sum64,F=X.sum64_hi,C=X.sum64_lo,q=X.sum64_4_hi,R=X.sum64_4_lo,I=X.sum64_5_hi,S=X.sum64_5_lo,N=Z.BlockHash,B=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;N.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=B,this.W=new Array(160)}X.inherits(_,N),Q.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function O(K,H){var T=this.W;for(var P=0;P<32;P++)T[P]=K[H+P];for(;P<T.length;P+=2){var D=J(T[P-4],T[P-3]),W=U(T[P-4],T[P-3]),M=T[P-14],w=T[P-13],j=l(T[P-30],T[P-29]),x=E(T[P-30],T[P-29]),m=T[P-32],o=T[P-31];T[P]=q(D,W,M,w,j,x,m,o),T[P+1]=R(D,W,M,w,j,x,m,o)}},_.prototype._update=function O(K,H){this._prepareBlock(K,H);var T=this.W,P=this.h[0],D=this.h[1],W=this.h[2],M=this.h[3],w=this.h[4],j=this.h[5],x=this.h[6],m=this.h[7],o=this.h[8],r=this.h[9],z0=this.h[10],d=this.h[11],n=this.h[12],R0=this.h[13],W0=this.h[14],V0=this.h[15];Y(this.k.length===T.length);for(var a=0;a<T.length;a+=2){var u=W0,s=V0,b0=t(o,r),Q0=h(o,r),$0=k(o,r,z0,d,n,R0),e=f(o,r,z0,d,n,R0),i=this.k[a],Y0=this.k[a+1],A0=T[a],U0=T[a+1],L0=I(u,s,b0,Q0,$0,e,i,Y0,A0,U0),e0=S(u,s,b0,Q0,$0,e,i,Y0,A0,U0);u=c(P,D),s=X0(P,D),b0=v(P,D,W,M,w,j),Q0=p(P,D,W,M,w,j);var H0=F(u,s,b0,Q0),F0=C(u,s,b0,Q0);W0=n,V0=R0,n=z0,R0=d,z0=o,d=r,o=F(x,m,L0,e0),r=C(m,m,L0,e0),x=w,m=j,w=W,j=M,W=P,M=D,P=F(L0,e0,H0,F0),D=C(L0,e0,H0,F0)}A(this.h,0,P,D),A(this.h,2,W,M),A(this.h,4,w,j),A(this.h,6,x,m),A(this.h,8,o,r),A(this.h,10,z0,d),A(this.h,12,n,R0),A(this.h,14,W0,V0)},_.prototype._digest=function O(K){if(K==="hex")return X.toHex32(this.h,"big");else return X.split32(this.h,"big")};function k(O,K,H,T,P){var D=O&H^~O&P;if(D<0)D+=4294967296;return D}function f(O,K,H,T,P,D){var W=K&T^~K&D;if(W<0)W+=4294967296;return W}function v(O,K,H,T,P){var D=O&H^O&P^H&P;if(D<0)D+=4294967296;return D}function p(O,K,H,T,P,D){var W=K&T^K&D^T&D;if(W<0)W+=4294967296;return W}function c(O,K){var H=V(O,K,28),T=V(K,O,2),P=V(K,O,7),D=H^T^P;if(D<0)D+=4294967296;return D}function X0(O,K){var H=G(O,K,28),T=G(K,O,2),P=G(K,O,7),D=H^T^P;if(D<0)D+=4294967296;return D}function t(O,K){var H=V(O,K,14),T=V(O,K,18),P=V(K,O,9),D=H^T^P;if(D<0)D+=4294967296;return D}function h(O,K){var H=G(O,K,14),T=G(O,K,18),P=G(K,O,9),D=H^T^P;if(D<0)D+=4294967296;return D}function l(O,K){var H=V(O,K,1),T=V(O,K,8),P=z(O,K,7),D=H^T^P;if(D<0)D+=4294967296;return D}function E(O,K){var H=G(O,K,1),T=G(O,K,8),P=L(O,K,7),D=H^T^P;if(D<0)D+=4294967296;return D}function J(O,K){var H=V(O,K,19),T=V(K,O,29),P=z(O,K,6),D=H^T^P;if(D<0)D+=4294967296;return D}function U(O,K){var H=G(O,K,19),T=G(K,O,29),P=L(O,K,6),D=H^T^P;if(D<0)D+=4294967296;return D}}),C3=c0(($,Q)=>{var X=oZ(),Z=gq();function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}X.inherits(Y,Z),Q.exports=Y,Y.blockSize=1024,Y.outSize=384,Y.hmacStrength=192,Y.padLength=128,Y.prototype._digest=function V(G){if(G==="hex")return X.toHex32(this.h.slice(0,12),"big");else return X.split32(this.h.slice(0,12),"big")}}),A3=c0(($)=>{$.sha1=q3(),$.sha224=M3(),$.sha256=vq(),$.sha384=C3(),$.sha512=gq()}),F3=c0(($)=>{var Q=oZ(),X=CV(),Z=Q.rotl32,Y=Q.sum32,V=Q.sum32_3,G=Q.sum32_4,z=X.BlockHash;function L(){if(!(this instanceof L))return new L;z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Q.inherits(L,z),$.ripemd160=L,L.blockSize=512,L.outSize=160,L.hmacStrength=192,L.padLength=64,L.prototype._update=function N(B,_){var k=this.h[0],f=this.h[1],v=this.h[2],p=this.h[3],c=this.h[4],X0=k,t=f,h=v,l=p,E=c;for(var J=0;J<80;J++){var U=Y(Z(G(k,A(J,f,v,p),B[q[J]+_],F(J)),I[J]),c);k=c,c=p,p=Z(v,10),v=f,f=U,U=Y(Z(G(X0,A(79-J,t,h,l),B[R[J]+_],C(J)),S[J]),E),X0=E,E=l,l=Z(h,10),h=t,t=U}U=V(this.h[1],v,l),this.h[1]=V(this.h[2],p,E),this.h[2]=V(this.h[3],c,X0),this.h[3]=V(this.h[4],k,t),this.h[4]=V(this.h[0],f,h),this.h[0]=U},L.prototype._digest=function N(B){if(B==="hex")return Q.toHex32(this.h,"little");else return Q.split32(this.h,"little")};function A(N,B,_,k){if(N<=15)return B^_^k;else if(N<=31)return B&_|~B&k;else if(N<=47)return(B|~_)^k;else if(N<=63)return B&k|_&~k;else return B^(_|~k)}function F(N){if(N<=15)return 0;else if(N<=31)return 1518500249;else if(N<=47)return 1859775393;else if(N<=63)return 2400959708;else return 2840853838}function C(N){if(N<=15)return 1352829926;else if(N<=31)return 1548603684;else if(N<=47)return 1836072691;else if(N<=63)return 2053994217;else return 0}var q=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],I=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),T3=c0(($,Q)=>{var X=oZ(),Z=AJ();function Y(V,G,z){if(!(this instanceof Y))return new Y(V,G,z);this.Hash=V,this.blockSize=V.blockSize/8,this.outSize=V.outSize/8,this.inner=null,this.outer=null,this._init(X.toArray(G,z))}Q.exports=Y,Y.prototype._init=function V(G){if(G.length>this.blockSize)G=new this.Hash().update(G).digest();Z(G.length<=this.blockSize);for(var z=G.length;z<this.blockSize;z++)G.push(0);for(z=0;z<G.length;z++)G[z]^=54;this.inner=new this.Hash().update(G);for(z=0;z<G.length;z++)G[z]^=106;this.outer=new this.Hash().update(G)},Y.prototype.update=function V(G,z){return this.inner.update(G,z),this},Y.prototype.digest=function V(G){return this.outer.update(this.inner.digest()),this.outer.digest(G)}}),_5=c0(($)=>{var Q=$;Q.utils=oZ(),Q.common=CV(),Q.sha=A3(),Q.ripemd=F3(),Q.hmac=T3(),Q.sha1=Q.sha.sha1,Q.sha256=Q.sha.sha256,Q.sha224=Q.sha.sha224,Q.sha384=Q.sha.sha384,Q.sha512=Q.sha.sha512,Q.ripemd160=Q.ripemd.ripemd160}),R3=c0(($,Q)=>{Q.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),w5=c0(($)=>{var Q=$,X=_5(),Z=kq(),Y=WZ(),V=Y.assert;function G(A){if(A.type==="short")this.curve=new Z.short(A);else if(A.type==="edwards")this.curve=new Z.edwards(A);else this.curve=new Z.mont(A);this.g=this.curve.g,this.n=this.curve.n,this.hash=A.hash,V(this.g.validate(),"Invalid curve"),V(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Q.PresetCurve=G;function z(A,F){Object.defineProperty(Q,A,{configurable:!0,enumerable:!0,get:function(){var C=new G(F);return Object.defineProperty(Q,A,{configurable:!0,enumerable:!0,value:C}),C}})}z("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:X.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),z("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:X.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),z("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:X.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),z("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:X.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),z("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:X.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),z("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:X.sha256,gRed:!1,g:["9"]}),z("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:X.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var L;try{L=R3()}catch(A){L=void 0}z("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:X.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",L]})}),P3=c0(($,Q)=>{var X=_5(),Z=wq(),Y=AJ();function V(G){if(!(this instanceof V))return new V(G);this.hash=G.hash,this.predResist=!!G.predResist,this.outLen=this.hash.outSize,this.minEntropy=G.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var z=Z.toArray(G.entropy,G.entropyEnc||"hex"),L=Z.toArray(G.nonce,G.nonceEnc||"hex"),A=Z.toArray(G.pers,G.persEnc||"hex");Y(z.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(z,L,A)}Q.exports=V,V.prototype._init=function G(z,L,A){var F=z.concat(L).concat(A);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var C=0;C<this.V.length;C++)this.K[C]=0,this.V[C]=1;this._update(F),this._reseed=1,this.reseedInterval=281474976710656},V.prototype._hmac=function G(){return new X.hmac(this.hash,this.K)},V.prototype._update=function G(z){var L=this._hmac().update(this.V).update([0]);if(z)L=L.update(z);if(this.K=L.digest(),this.V=this._hmac().update(this.V).digest(),!z)return;this.K=this._hmac().update(this.V).update([1]).update(z).digest(),this.V=this._hmac().update(this.V).digest()},V.prototype.reseed=function G(z,L,A,F){if(typeof L!=="string")F=A,A=L,L=null;z=Z.toArray(z,L),A=Z.toArray(A,F),Y(z.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(z.concat(A||[])),this._reseed=1},V.prototype.generate=function G(z,L,A,F){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof L!=="string")F=A,A=L,L=null;if(A)A=Z.toArray(A,F||"hex"),this._update(A);var C=[];while(C.length<z)this.V=this._hmac().update(this.V).digest(),C=C.concat(this.V);var q=C.slice(0,z);return this._update(A),this._reseed++,Z.encode(q,L)}}),E3=c0(($,Q)=>{var X=xY(),Z=WZ(),Y=Z.assert;function V(G,z){if(this.ec=G,this.priv=null,this.pub=null,z.priv)this._importPrivate(z.priv,z.privEnc);if(z.pub)this._importPublic(z.pub,z.pubEnc)}Q.exports=V,V.fromPublic=function G(z,L,A){if(L instanceof V)return L;return new V(z,{pub:L,pubEnc:A})},V.fromPrivate=function G(z,L,A){if(L instanceof V)return L;return new V(z,{priv:L,privEnc:A})},V.prototype.validate=function G(){var z=this.getPublic();if(z.isInfinity())return{result:!1,reason:"Invalid public key"};if(!z.validate())return{result:!1,reason:"Public key is not a point"};if(!z.mul(this.ec.curve.n).isInfinity())return{result:!1,reason:"Public key * N != O"};return{result:!0,reason:null}},V.prototype.getPublic=function G(z,L){if(typeof z==="string")L=z,z=null;if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!L)return this.pub;return this.pub.encode(L,z)},V.prototype.getPrivate=function G(z){if(z==="hex")return this.priv.toString(16,2);else return this.priv},V.prototype._importPrivate=function G(z,L){this.priv=new X(z,L||16),this.priv=this.priv.umod(this.ec.curve.n)},V.prototype._importPublic=function G(z,L){if(z.x||z.y){if(this.ec.curve.type==="mont")Y(z.x,"Need x coordinate");else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")Y(z.x&&z.y,"Need both x and y coordinate");this.pub=this.ec.curve.point(z.x,z.y);return}this.pub=this.ec.curve.decodePoint(z,L)},V.prototype.derive=function G(z){if(!z.validate())Y(z.validate(),"public point not validated");return z.mul(this.priv).getX()},V.prototype.sign=function G(z,L,A){return this.ec.sign(z,this,L,A)},V.prototype.verify=function G(z,L,A){return this.ec.verify(z,L,this,void 0,A)},V.prototype.inspect=function G(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),I3=c0(($,Q)=>{var X=xY(),Z=WZ(),Y=Z.assert;function V(F,C){if(F instanceof V)return F;if(this._importDER(F,C))return;if(Y(F.r&&F.s,"Signature without r or s"),this.r=new X(F.r,16),this.s=new X(F.s,16),F.recoveryParam===void 0)this.recoveryParam=null;else this.recoveryParam=F.recoveryParam}Q.exports=V;function G(){this.place=0}function z(F,C){var q=F[C.place++];if(!(q&128))return q;var R=q&15;if(R===0||R>4)return!1;if(F[C.place]===0)return!1;var I=0;for(var S=0,N=C.place;S<R;S++,N++)I<<=8,I|=F[N],I>>>=0;if(I<=127)return!1;return C.place=N,I}function L(F){var C=0,q=F.length-1;while(!F[C]&&!(F[C+1]&128)&&C<q)C++;if(C===0)return F;return F.slice(C)}V.prototype._importDER=function F(C,q){C=Z.toArray(C,q);var R=new G;if(C[R.place++]!==48)return!1;var I=z(C,R);if(I===!1)return!1;if(I+R.place!==C.length)return!1;if(C[R.place++]!==2)return!1;var S=z(C,R);if(S===!1)return!1;if((C[R.place]&128)!==0)return!1;var N=C.slice(R.place,S+R.place);if(R.place+=S,C[R.place++]!==2)return!1;var B=z(C,R);if(B===!1)return!1;if(C.length!==B+R.place)return!1;if((C[R.place]&128)!==0)return!1;var _=C.slice(R.place,B+R.place);if(N[0]===0)if(N[1]&128)N=N.slice(1);else return!1;if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;return this.r=new X(N),this.s=new X(_),this.recoveryParam=null,!0};function A(F,C){if(C<128){F.push(C);return}var q=1+(Math.log(C)/Math.LN2>>>3);F.push(q|128);while(--q)F.push(C>>>(q<<3)&255);F.push(C)}V.prototype.toDER=function F(C){var q=this.r.toArray(),R=this.s.toArray();if(q[0]&128)q=[0].concat(q);if(R[0]&128)R=[0].concat(R);q=L(q),R=L(R);while(!R[0]&&!(R[1]&128))R=R.slice(1);var I=[2];A(I,q.length),I=I.concat(q),I.push(2),A(I,R.length);var S=I.concat(R),N=[48];return A(N,S.length),N=N.concat(S),Z.encode(N,C)}}),S3=c0(($,Q)=>{var X=xY(),Z=P3(),Y=WZ(),V=w5(),G=xq(),z=Y.assert,L=E3(),A=I3();function F(C){if(!(this instanceof F))return new F(C);if(typeof C==="string")z(Object.prototype.hasOwnProperty.call(V,C),"Unknown curve "+C),C=V[C];if(C instanceof V.PresetCurve)C={curve:C};this.curve=C.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=C.curve.g,this.g.precompute(C.curve.n.bitLength()+1),this.hash=C.hash||C.curve.hash}Q.exports=F,F.prototype.keyPair=function C(q){return new L(this,q)},F.prototype.keyFromPrivate=function C(q,R){return L.fromPrivate(this,q,R)},F.prototype.keyFromPublic=function C(q,R){return L.fromPublic(this,q,R)},F.prototype.genKeyPair=function C(q){if(!q)q={};var R=new Z({hash:this.hash,pers:q.pers,persEnc:q.persEnc||"utf8",entropy:q.entropy||G(this.hash.hmacStrength),entropyEnc:q.entropy&&q.entropyEnc||"utf8",nonce:this.n.toArray()}),I=this.n.byteLength(),S=this.n.sub(new X(2));for(;;){var N=new X(R.generate(I));if(N.cmp(S)>0)continue;return N.iaddn(1),this.keyFromPrivate(N)}},F.prototype._truncateToN=function C(q,R,I){var S;if(X.isBN(q)||typeof q==="number")q=new X(q,16),S=q.byteLength();else if(typeof q==="object")S=q.length,q=new X(q,16);else{var N=q.toString();S=N.length+1>>>1,q=new X(N,16)}if(typeof I!=="number")I=S*8;var B=I-this.n.bitLength();if(B>0)q=q.ushrn(B);if(!R&&q.cmp(this.n)>=0)return q.sub(this.n);else return q},F.prototype.sign=function C(q,R,I,S){if(typeof I==="object")S=I,I=null;if(!S)S={};if(typeof q!=="string"&&typeof q!=="number"&&!X.isBN(q)){z(typeof q==="object"&&q&&typeof q.length==="number","Expected message to be an array-like, a hex string, or a BN instance"),z(q.length>>>0===q.length);for(var N=0;N<q.length;N++)z((q[N]&255)===q[N])}R=this.keyFromPrivate(R,I),q=this._truncateToN(q,!1,S.msgBitLength),z(!q.isNeg(),"Can not sign a negative message");var B=this.n.byteLength(),_=R.getPrivate().toArray("be",B),k=q.toArray("be",B);z(new X(k).eq(q),"Can not sign message");var f=new Z({hash:this.hash,entropy:_,nonce:k,pers:S.pers,persEnc:S.persEnc||"utf8"}),v=this.n.sub(new X(1));for(var p=0;;p++){var c=S.k?S.k(p):new X(f.generate(this.n.byteLength()));if(c=this._truncateToN(c,!0),c.cmpn(1)<=0||c.cmp(v)>=0)continue;var X0=this.g.mul(c);if(X0.isInfinity())continue;var t=X0.getX(),h=t.umod(this.n);if(h.cmpn(0)===0)continue;var l=c.invm(this.n).mul(h.mul(R.getPrivate()).iadd(q));if(l=l.umod(this.n),l.cmpn(0)===0)continue;var E=(X0.getY().isOdd()?1:0)|(t.cmp(h)!==0?2:0);if(S.canonical&&l.cmp(this.nh)>0)l=this.n.sub(l),E^=1;return new A({r:h,s:l,recoveryParam:E})}},F.prototype.verify=function C(q,R,I,S,N){if(!N)N={};q=this._truncateToN(q,!1,N.msgBitLength),I=this.keyFromPublic(I,S),R=new A(R,"hex");var{r:B,s:_}=R;if(B.cmpn(1)<0||B.cmp(this.n)>=0)return!1;if(_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var k=_.invm(this.n),f=k.mul(q).umod(this.n),v=k.mul(B).umod(this.n),p;if(!this.curve._maxwellTrick){if(p=this.g.mulAdd(f,I.getPublic(),v),p.isInfinity())return!1;return p.getX().umod(this.n).cmp(B)===0}if(p=this.g.jmulAdd(f,I.getPublic(),v),p.isInfinity())return!1;return p.eqXToP(B)},F.prototype.recoverPubKey=function(C,q,R,I){z((3&R)===R,"The recovery param is more than two bits"),q=new A(q,I);var S=this.n,N=new X(C),B=q.r,_=q.s,k=R&1,f=R>>1;if(B.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");if(f)B=this.curve.pointFromX(B.add(this.curve.n),k);else B=this.curve.pointFromX(B,k);var v=q.r.invm(S),p=S.sub(N).mul(v).umod(S),c=_.mul(v).umod(S);return this.g.mulAdd(p,B,c)},F.prototype.getKeyRecoveryParam=function(C,q,R,I){if(q=new A(q,I),q.recoveryParam!==null)return q.recoveryParam;for(var S=0;S<4;S++){var N;try{N=this.recoverPubKey(C,q,S)}catch(B){continue}if(N.eq(R))return S}throw new Error("Unable to find valid recovery factor")}}),N3=c0(($,Q)=>{var X=WZ(),Z=X.assert,Y=X.parseBytes,V=X.cachedProperty;function G(z,L){if(this.eddsa=z,this._secret=Y(L.secret),z.isPoint(L.pub))this._pub=L.pub;else this._pubBytes=Y(L.pub)}G.fromPublic=function z(L,A){if(A instanceof G)return A;return new G(L,{pub:A})},G.fromSecret=function z(L,A){if(A instanceof G)return A;return new G(L,{secret:A})},G.prototype.secret=function z(){return this._secret},V(G,"pubBytes",function z(){return this.eddsa.encodePoint(this.pub())}),V(G,"pub",function z(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}),V(G,"privBytes",function z(){var L=this.eddsa,A=this.hash(),F=L.encodingLength-1,C=A.slice(0,L.encodingLength);return C[0]&=248,C[F]&=127,C[F]|=64,C}),V(G,"priv",function z(){return this.eddsa.decodeInt(this.privBytes())}),V(G,"hash",function z(){return this.eddsa.hash().update(this.secret()).digest()}),V(G,"messagePrefix",function z(){return this.hash().slice(this.eddsa.encodingLength)}),G.prototype.sign=function z(L){return Z(this._secret,"KeyPair can only verify"),this.eddsa.sign(L,this)},G.prototype.verify=function z(L,A){return this.eddsa.verify(L,A,this)},G.prototype.getSecret=function z(L){return Z(this._secret,"KeyPair is public only"),X.encode(this.secret(),L)},G.prototype.getPublic=function z(L){return X.encode(this.pubBytes(),L)},Q.exports=G}),B3=c0(($,Q)=>{var X=xY(),Z=WZ(),Y=Z.assert,V=Z.cachedProperty,G=Z.parseBytes;function z(L,A){if(this.eddsa=L,typeof A!=="object")A=G(A);if(Array.isArray(A))Y(A.length===L.encodingLength*2,"Signature has invalid size"),A={R:A.slice(0,L.encodingLength),S:A.slice(L.encodingLength)};if(Y(A.R&&A.S,"Signature without R or S"),L.isPoint(A.R))this._R=A.R;if(A.S instanceof X)this._S=A.S;this._Rencoded=Array.isArray(A.R)?A.R:A.Rencoded,this._Sencoded=Array.isArray(A.S)?A.S:A.Sencoded}V(z,"S",function L(){return this.eddsa.decodeInt(this.Sencoded())}),V(z,"R",function L(){return this.eddsa.decodePoint(this.Rencoded())}),V(z,"Rencoded",function L(){return this.eddsa.encodePoint(this.R())}),V(z,"Sencoded",function L(){return this.eddsa.encodeInt(this.S())}),z.prototype.toBytes=function L(){return this.Rencoded().concat(this.Sencoded())},z.prototype.toHex=function L(){return Z.encode(this.toBytes(),"hex").toUpperCase()},Q.exports=z}),j3=c0(($,Q)=>{var X=_5(),Z=w5(),Y=WZ(),V=Y.assert,G=Y.parseBytes,z=N3(),L=B3();function A(F){if(V(F==="ed25519","only tested with ed25519 so far"),!(this instanceof A))return new A(F);F=Z[F].curve,this.curve=F,this.g=F.g,this.g.precompute(F.n.bitLength()+1),this.pointClass=F.point().constructor,this.encodingLength=Math.ceil(F.n.bitLength()/8),this.hash=X.sha512}Q.exports=A,A.prototype.sign=function F(C,q){C=G(C);var R=this.keyFromSecret(q),I=this.hashInt(R.messagePrefix(),C),S=this.g.mul(I),N=this.encodePoint(S),B=this.hashInt(N,R.pubBytes(),C).mul(R.priv()),_=I.add(B).umod(this.curve.n);return this.makeSignature({R:S,S:_,Rencoded:N})},A.prototype.verify=function F(C,q,R){if(C=G(C),q=this.makeSignature(q),q.S().gte(q.eddsa.curve.n)||q.S().isNeg())return!1;var I=this.keyFromPublic(R),S=this.hashInt(q.Rencoded(),I.pubBytes(),C),N=this.g.mul(q.S()),B=q.R().add(I.pub().mul(S));return B.eq(N)},A.prototype.hashInt=function F(){var C=this.hash();for(var q=0;q<arguments.length;q++)C.update(arguments[q]);return Y.intFromLE(C.digest()).umod(this.curve.n)},A.prototype.keyFromPublic=function F(C){return z.fromPublic(this,C)},A.prototype.keyFromSecret=function F(C){return z.fromSecret(this,C)},A.prototype.makeSignature=function F(C){if(C instanceof L)return C;return new L(this,C)},A.prototype.encodePoint=function F(C){var q=C.getY().toArray("le",this.encodingLength);return q[this.encodingLength-1]|=C.getX().isOdd()?128:0,q},A.prototype.decodePoint=function F(C){C=Y.parseBytes(C);var q=C.length-1,R=C.slice(0,q).concat(C[q]&-129),I=(C[q]&128)!==0,S=Y.intFromLE(R);return this.curve.pointFromY(S,I)},A.prototype.encodeInt=function F(C){return C.toArray("le",this.encodingLength)},A.prototype.decodeInt=function F(C){return Y.intFromLE(C)},A.prototype.isPoint=function F(C){return C instanceof this.pointClass}}),_3=c0(($)=>{var Q=$;Q.version=O3().version,Q.utils=WZ(),Q.rand=xq(),Q.curve=kq(),Q.curves=w5(),Q.ec=S3(),Q.eddsa=j3()}),w3=c0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var U=function(){};U.prototype=J.prototype,E.prototype=new U,E.prototype.constructor=E}function G(E,J,U){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")U=J,J=10;this._init(E||0,J||10,U||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var z;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")z=window.Buffer;else z=(c$(),X$(m$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,U){if(J.cmp(U)>0)return J;return U},G.min=function E(J,U){if(J.cmp(U)<0)return J;return U},G.prototype._init=function E(J,U,O){if(typeof J==="number")return this._initNumber(J,U,O);if(typeof J==="object")return this._initArray(J,U,O);if(U==="hex")U=16;Y(U===(U|0)&&U>=2&&U<=36),J=J.toString().replace(/\s+/g,"");var K=0;if(J[0]==="-")K++,this.negative=1;if(K<J.length){if(U===16)this._parseHex(J,K,O);else if(this._parseBase(J,U,K),O==="le")this._initArray(this.toArray(),U,O)}},G.prototype._initNumber=function E(J,U,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),U,O)},G.prototype._initArray=function E(J,U,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H,T,P=0;if(O==="be"){for(K=J.length-1,H=0;K>=0;K-=3)if(T=J[K]|J[K-1]<<8|J[K-2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}else if(O==="le"){for(K=0,H=0;K<J.length;K+=3)if(T=J[K]|J[K+1]<<8|J[K+2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}return this.strip()};function L(E,J){var U=E.charCodeAt(J);if(U>=65&&U<=70)return U-55;else if(U>=97&&U<=102)return U-87;else return U-48&15}function A(E,J,U){var O=L(E,U);if(U-1>=J)O|=L(E,U-1)<<4;return O}G.prototype._parseHex=function E(J,U,O){this.length=Math.ceil((J.length-U)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H=0,T=0,P;if(O==="be")for(K=J.length-1;K>=U;K-=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8;else{var D=J.length-U;for(K=D%2===0?U+1:U;K<J.length;K+=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8}this.strip()};function F(E,J,U,O){var K=0,H=Math.min(E.length,U);for(var T=J;T<H;T++){var P=E.charCodeAt(T)-48;if(K*=O,P>=49)K+=P-49+10;else if(P>=17)K+=P-17+10;else K+=P}return K}G.prototype._parseBase=function E(J,U,O){this.words=[0],this.length=1;for(var K=0,H=1;H<=67108863;H*=U)K++;K--,H=H/U|0;var T=J.length-O,P=T%K,D=Math.min(T,T-P)+O,W=0;for(var M=O;M<D;M+=K)if(W=F(J,M,M+K,U),this.imuln(H),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(P!==0){var w=1;W=F(J,M,J.length,U);for(M=0;M<P;M++)w*=U;if(this.imuln(w),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var U=0;U<this.length;U++)J.words[U]=this.words[U];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,U){J=J||10,U=U|0||1;var O;if(J===16||J==="hex"){O="";var K=0,H=0;for(var T=0;T<this.length;T++){var P=this.words[T],D=((P<<K|H)&16777215).toString(16);if(H=P>>>24-K&16777215,K+=2,K>=26)K-=26,T--;if(H!==0||T!==this.length-1)O=C[6-D.length]+D+O;else O=D+O}if(H!==0)O=H.toString(16)+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=q[J],M=R[J];O="";var w=this.clone();w.negative=0;while(!w.isZero()){var j=w.modn(M).toString(J);if(w=w.idivn(M),!w.isZero())O=C[W-j.length]+j+O;else O=j+O}if(this.isZero())O="0"+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,U){return Y(typeof z!=="undefined"),this.toArrayLike(z,J,U)},G.prototype.toArray=function E(J,U){return this.toArrayLike(Array,J,U)},G.prototype.toArrayLike=function E(J,U,O){var K=this.byteLength(),H=O||Math.max(1,K);Y(K<=H,"byte array longer than desired length"),Y(H>0,"Requested array length <= 0"),this.strip();var T=U==="le",P=new J(H),D,W,M=this.clone();if(!T){for(W=0;W<H-K;W++)P[W]=0;for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[H-W-1]=D}else{for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[W]=D;for(;W<H;W++)P[W]=0}return P},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var U=J,O=0;if(U>=4096)O+=13,U>>>=13;if(U>=64)O+=7,U>>>=7;if(U>=8)O+=4,U>>>=4;if(U>=2)O+=2,U>>>=2;return O+U};G.prototype._zeroBits=function E(J){if(J===0)return 26;var U=J,O=0;if((U&8191)===0)O+=13,U>>>=13;if((U&127)===0)O+=7,U>>>=7;if((U&15)===0)O+=4,U>>>=4;if((U&3)===0)O+=2,U>>>=2;if((U&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],U=this._countBits(J);return(this.length-1)*26+U};function I(E){var J=new Array(E.bitLength());for(var U=0;U<J.length;U++){var O=U/26|0,K=U%26;J[U]=(E.words[O]&1<<K)>>>K}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var U=0;U<this.length;U++){var O=this._zeroBits(this.words[U]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var U=0;U<J.length;U++)this.words[U]=this.words[U]|J.words[U];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var U;if(this.length>J.length)U=J;else U=this;for(var O=0;O<U.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=U.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var U,O;if(this.length>J.length)U=this,O=J;else U=J,O=this;for(var K=0;K<O.length;K++)this.words[K]=U.words[K]^O.words[K];if(this!==U)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=U.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var U=Math.ceil(J/26)|0,O=J%26;if(this._expand(U),O>0)U--;for(var K=0;K<U;K++)this.words[K]=~this.words[K]&67108863;if(O>0)this.words[K]=~this.words[K]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,U){Y(typeof J==="number"&&J>=0);var O=J/26|0,K=J%26;if(this._expand(O+1),U)this.words[O]=this.words[O]|1<<K;else this.words[O]=this.words[O]&~(1<<K);return this.strip()},G.prototype.iadd=function E(J){var U;if(this.negative!==0&&J.negative===0)return this.negative=0,U=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,U=this.isub(J),J.negative=1,U._normSign();var O,K;if(this.length>J.length)O=this,K=J;else O=J,K=this;var H=0;for(var T=0;T<K.length;T++)U=(O.words[T]|0)+(K.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;for(;H!==0&&T<O.length;T++)U=(O.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;if(this.length=O.length,H!==0)this.words[this.length]=H,this.length++;else if(O!==this)for(;T<O.length;T++)this.words[T]=O.words[T];return this},G.prototype.add=function E(J){var U;if(J.negative!==0&&this.negative===0)return J.negative=0,U=this.sub(J),J.negative^=1,U;else if(J.negative===0&&this.negative!==0)return this.negative=0,U=J.sub(this),this.negative=1,U;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var U=this.iadd(J);return J.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,H;if(O>0)K=this,H=J;else K=J,H=this;var T=0;for(var P=0;P<H.length;P++)U=(K.words[P]|0)-(H.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;for(;T!==0&&P<K.length;P++)U=(K.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;if(T===0&&P<K.length&&K!==this)for(;P<K.length;P++)this.words[P]=K.words[P];if(this.length=Math.max(this.length,P),K!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,U){U.negative=J.negative^E.negative;var O=E.length+J.length|0;U.length=O,O=O-1|0;var K=E.words[0]|0,H=J.words[0]|0,T=K*H,P=T&67108863,D=T/67108864|0;U.words[0]=P;for(var W=1;W<O;W++){var M=D>>>26,w=D&67108863,j=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=j;x++){var m=W-x|0;K=E.words[m]|0,H=J.words[x]|0,T=K*H+w,M+=T/67108864|0,w=T&67108863}U.words[W]=w|0,D=M|0}if(D!==0)U.words[W]=D|0;else U.length--;return U.strip()}var N=function E(J,U,O){var K=J.words,H=U.words,T=O.words,P=0,D,W,M,w=K[0]|0,j=w&8191,x=w>>>13,m=K[1]|0,o=m&8191,r=m>>>13,z0=K[2]|0,d=z0&8191,n=z0>>>13,R0=K[3]|0,W0=R0&8191,V0=R0>>>13,a=K[4]|0,u=a&8191,s=a>>>13,b0=K[5]|0,Q0=b0&8191,$0=b0>>>13,e=K[6]|0,i=e&8191,Y0=e>>>13,A0=K[7]|0,U0=A0&8191,L0=A0>>>13,e0=K[8]|0,H0=e0&8191,F0=e0>>>13,E$=K[9]|0,q0=E$&8191,E0=E$>>>13,i$=H[0]|0,T0=i$&8191,f0=i$>>>13,jQ=H[1]|0,v0=jQ&8191,g0=jQ>>>13,pQ=H[2]|0,_0=pQ&8191,w0=pQ>>>13,mQ=H[3]|0,x0=mQ&8191,S0=mQ>>>13,cQ=H[4]|0,y0=cQ&8191,N0=cQ>>>13,_Q=H[5]|0,g=_Q&8191,y=_Q>>>13,p0=H[6]|0,Z0=p0&8191,K0=p0>>>13,I$=H[7]|0,C0=I$&8191,P0=I$>>>13,wQ=H[8]|0,h0=wQ&8191,k0=wQ>>>13,xQ=H[9]|0,B0=xQ&8191,j0=xQ>>>13;O.negative=J.negative^U.negative,O.length=19,D=Math.imul(j,T0),W=Math.imul(j,f0),W=W+Math.imul(x,T0)|0,M=Math.imul(x,f0);var p$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(p$>>>26)|0,p$&=67108863,D=Math.imul(o,T0),W=Math.imul(o,f0),W=W+Math.imul(r,T0)|0,M=Math.imul(r,f0),D=D+Math.imul(j,v0)|0,W=W+Math.imul(j,g0)|0,W=W+Math.imul(x,v0)|0,M=M+Math.imul(x,g0)|0;var $$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+($$>>>26)|0,$$&=67108863,D=Math.imul(d,T0),W=Math.imul(d,f0),W=W+Math.imul(n,T0)|0,M=Math.imul(n,f0),D=D+Math.imul(o,v0)|0,W=W+Math.imul(o,g0)|0,W=W+Math.imul(r,v0)|0,M=M+Math.imul(r,g0)|0,D=D+Math.imul(j,_0)|0,W=W+Math.imul(j,w0)|0,W=W+Math.imul(x,_0)|0,M=M+Math.imul(x,w0)|0;var a0=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(a0>>>26)|0,a0&=67108863,D=Math.imul(W0,T0),W=Math.imul(W0,f0),W=W+Math.imul(V0,T0)|0,M=Math.imul(V0,f0),D=D+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(n,v0)|0,M=M+Math.imul(n,g0)|0,D=D+Math.imul(o,_0)|0,W=W+Math.imul(o,w0)|0,W=W+Math.imul(r,_0)|0,M=M+Math.imul(r,w0)|0,D=D+Math.imul(j,x0)|0,W=W+Math.imul(j,S0)|0,W=W+Math.imul(x,x0)|0,M=M+Math.imul(x,S0)|0;var B$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(B$>>>26)|0,B$&=67108863,D=Math.imul(u,T0),W=Math.imul(u,f0),W=W+Math.imul(s,T0)|0,M=Math.imul(s,f0),D=D+Math.imul(W0,v0)|0,W=W+Math.imul(W0,g0)|0,W=W+Math.imul(V0,v0)|0,M=M+Math.imul(V0,g0)|0,D=D+Math.imul(d,_0)|0,W=W+Math.imul(d,w0)|0,W=W+Math.imul(n,_0)|0,M=M+Math.imul(n,w0)|0,D=D+Math.imul(o,x0)|0,W=W+Math.imul(o,S0)|0,W=W+Math.imul(r,x0)|0,M=M+Math.imul(r,S0)|0,D=D+Math.imul(j,y0)|0,W=W+Math.imul(j,N0)|0,W=W+Math.imul(x,y0)|0,M=M+Math.imul(x,N0)|0;var XQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,D=Math.imul(Q0,T0),W=Math.imul(Q0,f0),W=W+Math.imul($0,T0)|0,M=Math.imul($0,f0),D=D+Math.imul(u,v0)|0,W=W+Math.imul(u,g0)|0,W=W+Math.imul(s,v0)|0,M=M+Math.imul(s,g0)|0,D=D+Math.imul(W0,_0)|0,W=W+Math.imul(W0,w0)|0,W=W+Math.imul(V0,_0)|0,M=M+Math.imul(V0,w0)|0,D=D+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(n,x0)|0,M=M+Math.imul(n,S0)|0,D=D+Math.imul(o,y0)|0,W=W+Math.imul(o,N0)|0,W=W+Math.imul(r,y0)|0,M=M+Math.imul(r,N0)|0,D=D+Math.imul(j,g)|0,W=W+Math.imul(j,y)|0,W=W+Math.imul(x,g)|0,M=M+Math.imul(x,y)|0;var ZQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,D=Math.imul(i,T0),W=Math.imul(i,f0),W=W+Math.imul(Y0,T0)|0,M=Math.imul(Y0,f0),D=D+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,M=M+Math.imul($0,g0)|0,D=D+Math.imul(u,_0)|0,W=W+Math.imul(u,w0)|0,W=W+Math.imul(s,_0)|0,M=M+Math.imul(s,w0)|0,D=D+Math.imul(W0,x0)|0,W=W+Math.imul(W0,S0)|0,W=W+Math.imul(V0,x0)|0,M=M+Math.imul(V0,S0)|0,D=D+Math.imul(d,y0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(n,y0)|0,M=M+Math.imul(n,N0)|0,D=D+Math.imul(o,g)|0,W=W+Math.imul(o,y)|0,W=W+Math.imul(r,g)|0,M=M+Math.imul(r,y)|0,D=D+Math.imul(j,Z0)|0,W=W+Math.imul(j,K0)|0,W=W+Math.imul(x,Z0)|0,M=M+Math.imul(x,K0)|0;var YQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,D=Math.imul(U0,T0),W=Math.imul(U0,f0),W=W+Math.imul(L0,T0)|0,M=Math.imul(L0,f0),D=D+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,M=M+Math.imul(Y0,g0)|0,D=D+Math.imul(Q0,_0)|0,W=W+Math.imul(Q0,w0)|0,W=W+Math.imul($0,_0)|0,M=M+Math.imul($0,w0)|0,D=D+Math.imul(u,x0)|0,W=W+Math.imul(u,S0)|0,W=W+Math.imul(s,x0)|0,M=M+Math.imul(s,S0)|0,D=D+Math.imul(W0,y0)|0,W=W+Math.imul(W0,N0)|0,W=W+Math.imul(V0,y0)|0,M=M+Math.imul(V0,N0)|0,D=D+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(n,g)|0,M=M+Math.imul(n,y)|0,D=D+Math.imul(o,Z0)|0,W=W+Math.imul(o,K0)|0,W=W+Math.imul(r,Z0)|0,M=M+Math.imul(r,K0)|0,D=D+Math.imul(j,C0)|0,W=W+Math.imul(j,P0)|0,W=W+Math.imul(x,C0)|0,M=M+Math.imul(x,P0)|0;var JQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,D=Math.imul(H0,T0),W=Math.imul(H0,f0),W=W+Math.imul(F0,T0)|0,M=Math.imul(F0,f0),D=D+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(L0,v0)|0,M=M+Math.imul(L0,g0)|0,D=D+Math.imul(i,_0)|0,W=W+Math.imul(i,w0)|0,W=W+Math.imul(Y0,_0)|0,M=M+Math.imul(Y0,w0)|0,D=D+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,M=M+Math.imul($0,S0)|0,D=D+Math.imul(u,y0)|0,W=W+Math.imul(u,N0)|0,W=W+Math.imul(s,y0)|0,M=M+Math.imul(s,N0)|0,D=D+Math.imul(W0,g)|0,W=W+Math.imul(W0,y)|0,W=W+Math.imul(V0,g)|0,M=M+Math.imul(V0,y)|0,D=D+Math.imul(d,Z0)|0,W=W+Math.imul(d,K0)|0,W=W+Math.imul(n,Z0)|0,M=M+Math.imul(n,K0)|0,D=D+Math.imul(o,C0)|0,W=W+Math.imul(o,P0)|0,W=W+Math.imul(r,C0)|0,M=M+Math.imul(r,P0)|0,D=D+Math.imul(j,h0)|0,W=W+Math.imul(j,k0)|0,W=W+Math.imul(x,h0)|0,M=M+Math.imul(x,k0)|0;var GQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,D=Math.imul(q0,T0),W=Math.imul(q0,f0),W=W+Math.imul(E0,T0)|0,M=Math.imul(E0,f0),D=D+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(F0,v0)|0,M=M+Math.imul(F0,g0)|0,D=D+Math.imul(U0,_0)|0,W=W+Math.imul(U0,w0)|0,W=W+Math.imul(L0,_0)|0,M=M+Math.imul(L0,w0)|0,D=D+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,M=M+Math.imul(Y0,S0)|0,D=D+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,y0)|0,M=M+Math.imul($0,N0)|0,D=D+Math.imul(u,g)|0,W=W+Math.imul(u,y)|0,W=W+Math.imul(s,g)|0,M=M+Math.imul(s,y)|0,D=D+Math.imul(W0,Z0)|0,W=W+Math.imul(W0,K0)|0,W=W+Math.imul(V0,Z0)|0,M=M+Math.imul(V0,K0)|0,D=D+Math.imul(d,C0)|0,W=W+Math.imul(d,P0)|0,W=W+Math.imul(n,C0)|0,M=M+Math.imul(n,P0)|0,D=D+Math.imul(o,h0)|0,W=W+Math.imul(o,k0)|0,W=W+Math.imul(r,h0)|0,M=M+Math.imul(r,k0)|0,D=D+Math.imul(j,B0)|0,W=W+Math.imul(j,j0)|0,W=W+Math.imul(x,B0)|0,M=M+Math.imul(x,j0)|0;var WQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,D=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(E0,v0)|0,M=Math.imul(E0,g0),D=D+Math.imul(H0,_0)|0,W=W+Math.imul(H0,w0)|0,W=W+Math.imul(F0,_0)|0,M=M+Math.imul(F0,w0)|0,D=D+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(L0,x0)|0,M=M+Math.imul(L0,S0)|0,D=D+Math.imul(i,y0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,y0)|0,M=M+Math.imul(Y0,N0)|0,D=D+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,M=M+Math.imul($0,y)|0,D=D+Math.imul(u,Z0)|0,W=W+Math.imul(u,K0)|0,W=W+Math.imul(s,Z0)|0,M=M+Math.imul(s,K0)|0,D=D+Math.imul(W0,C0)|0,W=W+Math.imul(W0,P0)|0,W=W+Math.imul(V0,C0)|0,M=M+Math.imul(V0,P0)|0,D=D+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(n,h0)|0,M=M+Math.imul(n,k0)|0,D=D+Math.imul(o,B0)|0,W=W+Math.imul(o,j0)|0,W=W+Math.imul(r,B0)|0,M=M+Math.imul(r,j0)|0;var VQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,D=Math.imul(q0,_0),W=Math.imul(q0,w0),W=W+Math.imul(E0,_0)|0,M=Math.imul(E0,w0),D=D+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(F0,x0)|0,M=M+Math.imul(F0,S0)|0,D=D+Math.imul(U0,y0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(L0,y0)|0,M=M+Math.imul(L0,N0)|0,D=D+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,M=M+Math.imul(Y0,y)|0,D=D+Math.imul(Q0,Z0)|0,W=W+Math.imul(Q0,K0)|0,W=W+Math.imul($0,Z0)|0,M=M+Math.imul($0,K0)|0,D=D+Math.imul(u,C0)|0,W=W+Math.imul(u,P0)|0,W=W+Math.imul(s,C0)|0,M=M+Math.imul(s,P0)|0,D=D+Math.imul(W0,h0)|0,W=W+Math.imul(W0,k0)|0,W=W+Math.imul(V0,h0)|0,M=M+Math.imul(V0,k0)|0,D=D+Math.imul(d,B0)|0,W=W+Math.imul(d,j0)|0,W=W+Math.imul(n,B0)|0,M=M+Math.imul(n,j0)|0;var KQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(KQ>>>26)|0,KQ&=67108863,D=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(E0,x0)|0,M=Math.imul(E0,S0),D=D+Math.imul(H0,y0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(F0,y0)|0,M=M+Math.imul(F0,N0)|0,D=D+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(L0,g)|0,M=M+Math.imul(L0,y)|0,D=D+Math.imul(i,Z0)|0,W=W+Math.imul(i,K0)|0,W=W+Math.imul(Y0,Z0)|0,M=M+Math.imul(Y0,K0)|0,D=D+Math.imul(Q0,C0)|0,W=W+Math.imul(Q0,P0)|0,W=W+Math.imul($0,C0)|0,M=M+Math.imul($0,P0)|0,D=D+Math.imul(u,h0)|0,W=W+Math.imul(u,k0)|0,W=W+Math.imul(s,h0)|0,M=M+Math.imul(s,k0)|0,D=D+Math.imul(W0,B0)|0,W=W+Math.imul(W0,j0)|0,W=W+Math.imul(V0,B0)|0,M=M+Math.imul(V0,j0)|0;var UQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,D=Math.imul(q0,y0),W=Math.imul(q0,N0),W=W+Math.imul(E0,y0)|0,M=Math.imul(E0,N0),D=D+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(F0,g)|0,M=M+Math.imul(F0,y)|0,D=D+Math.imul(U0,Z0)|0,W=W+Math.imul(U0,K0)|0,W=W+Math.imul(L0,Z0)|0,M=M+Math.imul(L0,K0)|0,D=D+Math.imul(i,C0)|0,W=W+Math.imul(i,P0)|0,W=W+Math.imul(Y0,C0)|0,M=M+Math.imul(Y0,P0)|0,D=D+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,M=M+Math.imul($0,k0)|0,D=D+Math.imul(u,B0)|0,W=W+Math.imul(u,j0)|0,W=W+Math.imul(s,B0)|0,M=M+Math.imul(s,j0)|0;var OQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(OQ>>>26)|0,OQ&=67108863,D=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(E0,g)|0,M=Math.imul(E0,y),D=D+Math.imul(H0,Z0)|0,W=W+Math.imul(H0,K0)|0,W=W+Math.imul(F0,Z0)|0,M=M+Math.imul(F0,K0)|0,D=D+Math.imul(U0,C0)|0,W=W+Math.imul(U0,P0)|0,W=W+Math.imul(L0,C0)|0,M=M+Math.imul(L0,P0)|0,D=D+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,M=M+Math.imul(Y0,k0)|0,D=D+Math.imul(Q0,B0)|0,W=W+Math.imul(Q0,j0)|0,W=W+Math.imul($0,B0)|0,M=M+Math.imul($0,j0)|0;var zQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(zQ>>>26)|0,zQ&=67108863,D=Math.imul(q0,Z0),W=Math.imul(q0,K0),W=W+Math.imul(E0,Z0)|0,M=Math.imul(E0,K0),D=D+Math.imul(H0,C0)|0,W=W+Math.imul(H0,P0)|0,W=W+Math.imul(F0,C0)|0,M=M+Math.imul(F0,P0)|0,D=D+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(L0,h0)|0,M=M+Math.imul(L0,k0)|0,D=D+Math.imul(i,B0)|0,W=W+Math.imul(i,j0)|0,W=W+Math.imul(Y0,B0)|0,M=M+Math.imul(Y0,j0)|0;var HQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,D=Math.imul(q0,C0),W=Math.imul(q0,P0),W=W+Math.imul(E0,C0)|0,M=Math.imul(E0,P0),D=D+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(F0,h0)|0,M=M+Math.imul(F0,k0)|0,D=D+Math.imul(U0,B0)|0,W=W+Math.imul(U0,j0)|0,W=W+Math.imul(L0,B0)|0,M=M+Math.imul(L0,j0)|0;var DQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,D=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(E0,h0)|0,M=Math.imul(E0,k0),D=D+Math.imul(H0,B0)|0,W=W+Math.imul(H0,j0)|0,W=W+Math.imul(F0,B0)|0,M=M+Math.imul(F0,j0)|0;var LQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(LQ>>>26)|0,LQ&=67108863,D=Math.imul(q0,B0),W=Math.imul(q0,j0),W=W+Math.imul(E0,B0)|0,M=Math.imul(E0,j0);var qQ=(P+D|0)+((W&8191)<<13)|0;if(P=(M+(W>>>13)|0)+(qQ>>>26)|0,qQ&=67108863,T[0]=p$,T[1]=$$,T[2]=a0,T[3]=B$,T[4]=XQ,T[5]=ZQ,T[6]=YQ,T[7]=JQ,T[8]=GQ,T[9]=WQ,T[10]=VQ,T[11]=KQ,T[12]=UQ,T[13]=OQ,T[14]=zQ,T[15]=HQ,T[16]=DQ,T[17]=LQ,T[18]=qQ,P!==0)T[19]=P,O.length++;return O};if(!Math.imul)N=S;function B(E,J,U){U.negative=J.negative^E.negative,U.length=E.length+J.length;var O=0,K=0;for(var H=0;H<U.length-1;H++){var T=K;K=0;var P=O&67108863,D=Math.min(H,J.length-1);for(var W=Math.max(0,H-E.length+1);W<=D;W++){var M=H-W,w=E.words[M]|0,j=J.words[W]|0,x=w*j,m=x&67108863;T=T+(x/67108864|0)|0,m=m+P|0,P=m&67108863,T=T+(m>>>26)|0,K+=T>>>26,T&=67108863}U.words[H]=P,O=T,T=K}if(O!==0)U.words[H]=O;else U.length--;return U.strip()}function _(E,J,U){var O=new k;return O.mulp(E,J,U)}G.prototype.mulTo=function E(J,U){var O,K=this.length+J.length;if(this.length===10&&J.length===10)O=N(this,J,U);else if(K<63)O=S(this,J,U);else if(K<1024)O=B(this,J,U);else O=_(this,J,U);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var U=new Array(J),O=G.prototype._countBits(J)-1;for(var K=0;K<J;K++)U[K]=this.revBin(K,O,J);return U},k.prototype.revBin=function E(J,U,O){if(J===0||J===O-1)return J;var K=0;for(var H=0;H<U;H++)K|=(J&1)<<U-H-1,J>>=1;return K},k.prototype.permute=function E(J,U,O,K,H,T){for(var P=0;P<T;P++)K[P]=U[J[P]],H[P]=O[J[P]]},k.prototype.transform=function E(J,U,O,K,H,T){this.permute(T,J,U,O,K,H);for(var P=1;P<H;P<<=1){var D=P<<1,W=Math.cos(2*Math.PI/D),M=Math.sin(2*Math.PI/D);for(var w=0;w<H;w+=D){var j=W,x=M;for(var m=0;m<P;m++){var o=O[w+m],r=K[w+m],z0=O[w+m+P],d=K[w+m+P],n=j*z0-x*d;if(d=j*d+x*z0,z0=n,O[w+m]=o+z0,K[w+m]=r+d,O[w+m+P]=o-z0,K[w+m+P]=r-d,m!==D)n=W*j-M*x,x=W*x+M*j,j=n}}}},k.prototype.guessLen13b=function E(J,U){var O=Math.max(U,J)|1,K=O&1,H=0;for(O=O/2|0;O;O=O>>>1)H++;return 1<<H+1+K},k.prototype.conjugate=function E(J,U,O){if(O<=1)return;for(var K=0;K<O/2;K++){var H=J[K];J[K]=J[O-K-1],J[O-K-1]=H,H=U[K],U[K]=-U[O-K-1],U[O-K-1]=-H}},k.prototype.normalize13b=function E(J,U){var O=0;for(var K=0;K<U/2;K++){var H=Math.round(J[2*K+1]/U)*8192+Math.round(J[2*K]/U)+O;if(J[K]=H&67108863,H<67108864)O=0;else O=H/67108864|0}return J},k.prototype.convert13b=function E(J,U,O,K){var H=0;for(var T=0;T<U;T++)H=H+(J[T]|0),O[2*T]=H&8191,H=H>>>13,O[2*T+1]=H&8191,H=H>>>13;for(T=2*U;T<K;++T)O[T]=0;Y(H===0),Y((H&-8192)===0)},k.prototype.stub=function E(J){var U=new Array(J);for(var O=0;O<J;O++)U[O]=0;return U},k.prototype.mulp=function E(J,U,O){var K=2*this.guessLen13b(J.length,U.length),H=this.makeRBT(K),T=this.stub(K),P=new Array(K),D=new Array(K),W=new Array(K),M=new Array(K),w=new Array(K),j=new Array(K),x=O.words;x.length=K,this.convert13b(J.words,J.length,P,K),this.convert13b(U.words,U.length,M,K),this.transform(P,T,D,W,K,H),this.transform(M,T,w,j,K,H);for(var m=0;m<K;m++){var o=D[m]*w[m]-W[m]*j[m];W[m]=D[m]*j[m]+W[m]*w[m],D[m]=o}return this.conjugate(D,W,K),this.transform(D,W,x,T,K,H),this.conjugate(x,T,K),this.normalize13b(x,K),O.negative=J.negative^U.negative,O.length=J.length+U.length,O.strip()},G.prototype.mul=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),this.mulTo(J,U)},G.prototype.mulf=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),_(this,J,U)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var U=0;for(var O=0;O<this.length;O++){var K=(this.words[O]|0)*J,H=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=H>>>26,this.words[O]=H&67108863}if(U!==0)this.words[O]=U,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var U=I(J);if(U.length===0)return new G(1);var O=this;for(var K=0;K<U.length;K++,O=O.sqr())if(U[K]!==0)break;if(++K<U.length)for(var H=O.sqr();K<U.length;K++,H=H.sqr()){if(U[K]===0)continue;O=O.mul(H)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=67108863>>>26-U<<26-U,H;if(U!==0){var T=0;for(H=0;H<this.length;H++){var P=this.words[H]&K,D=(this.words[H]|0)-P<<U;this.words[H]=D|T,T=P>>>26-U}if(T)this.words[H]=T,this.length++}if(O!==0){for(H=this.length-1;H>=0;H--)this.words[H+O]=this.words[H];for(H=0;H<O;H++)this.words[H]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,U,O){Y(typeof J==="number"&&J>=0);var K;if(U)K=(U-U%26)/26;else K=0;var H=J%26,T=Math.min((J-H)/26,this.length),P=67108863^67108863>>>H<<H,D=O;if(K-=T,K=Math.max(0,K),D){for(var W=0;W<T;W++)D.words[W]=this.words[W];D.length=T}if(T===0);else if(this.length>T){this.length-=T;for(W=0;W<this.length;W++)this.words[W]=this.words[W+T]}else this.words[0]=0,this.length=1;var M=0;for(W=this.length-1;W>=0&&(M!==0||W>=K);W--){var w=this.words[W]|0;this.words[W]=M<<26-H|w>>>H,M=w&P}if(D&&M!==0)D.words[D.length++]=M;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,U,O){return Y(this.negative===0),this.iushrn(J,U,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return!1;var H=this.words[O];return!!(H&K)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(U!==0)O++;if(this.length=Math.min(O,this.length),U!==0){var K=67108863^67108863>>>U<<U;this.words[this.length-1]&=K}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)if(this.words[U]-=67108864,U===this.length-1)this.words[U+1]=1;else this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,U,O){var K=J.length+O,H;this._expand(K);var T,P=0;for(H=0;H<J.length;H++){T=(this.words[H+O]|0)+P;var D=(J.words[H]|0)*U;T-=D&67108863,P=(T>>26)-(D/67108864|0),this.words[H+O]=T&67108863}for(;H<this.length-O;H++)T=(this.words[H+O]|0)+P,P=T>>26,this.words[H+O]=T&67108863;if(P===0)return this.strip();Y(P===-1),P=0;for(H=0;H<this.length;H++)T=-(this.words[H]|0)+P,P=T>>26,this.words[H]=T&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,U){var O=this.length-J.length,K=this.clone(),H=J,T=H.words[H.length-1]|0,P=this._countBits(T);if(O=26-P,O!==0)H=H.ushln(O),K.iushln(O),T=H.words[H.length-1]|0;var D=K.length-H.length,W;if(U!=="mod"){W=new G(null),W.length=D+1,W.words=new Array(W.length);for(var M=0;M<W.length;M++)W.words[M]=0}var w=K.clone()._ishlnsubmul(H,1,D);if(w.negative===0){if(K=w,W)W.words[D]=1}for(var j=D-1;j>=0;j--){var x=(K.words[H.length+j]|0)*67108864+(K.words[H.length+j-1]|0);x=Math.min(x/T|0,67108863),K._ishlnsubmul(H,x,j);while(K.negative!==0)if(x--,K.negative=0,K._ishlnsubmul(H,1,j),!K.isZero())K.negative^=1;if(W)W.words[j]=x}if(W)W.strip();if(K.strip(),U!=="div"&&O!==0)K.iushrn(O);return{div:W||null,mod:K}},G.prototype.divmod=function E(J,U,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var K,H,T;if(this.negative!==0&&J.negative===0){if(T=this.neg().divmod(J,U),U!=="mod")K=T.div.neg();if(U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.iadd(J)}return{div:K,mod:H}}if(this.negative===0&&J.negative!==0){if(T=this.divmod(J.neg(),U),U!=="mod")K=T.div.neg();return{div:K,mod:T.mod}}if((this.negative&J.negative)!==0){if(T=this.neg().divmod(J.neg(),U),U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.isub(J)}return{div:T.div,mod:H}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(U==="div")return{div:this.divn(J.words[0]),mod:null};if(U==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,U)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var U=this.divmod(J);if(U.mod.isZero())return U.div;var O=U.div.negative!==0?U.mod.isub(J):U.mod,K=J.ushrn(1),H=J.andln(1),T=O.cmp(K);if(T<0||H===1&&T===0)return U.div;return U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var U=67108864%J,O=0;for(var K=this.length-1;K>=0;K--)O=(U*O+(this.words[K]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var U=0;for(var O=this.length-1;O>=0;O--){var K=(this.words[O]|0)+U*67108864;this.words[O]=K/J|0,U=K%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=new G(0),P=new G(1),D=0;while(U.isEven()&&O.isEven())U.iushrn(1),O.iushrn(1),++D;var W=O.clone(),M=U.clone();while(!U.isZero()){for(var w=0,j=1;(U.words[0]&j)===0&&w<26;++w,j<<=1);if(w>0){U.iushrn(w);while(w-- >0){if(K.isOdd()||H.isOdd())K.iadd(W),H.isub(M);K.iushrn(1),H.iushrn(1)}}for(var x=0,m=1;(O.words[0]&m)===0&&x<26;++x,m<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(T.isOdd()||P.isOdd())T.iadd(W),P.isub(M);T.iushrn(1),P.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(T),H.isub(P);else O.isub(U),T.isub(K),P.isub(H)}return{a:T,b:P,gcd:O.iushln(D)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=O.clone();while(U.cmpn(1)>0&&O.cmpn(1)>0){for(var P=0,D=1;(U.words[0]&D)===0&&P<26;++P,D<<=1);if(P>0){U.iushrn(P);while(P-- >0){if(K.isOdd())K.iadd(T);K.iushrn(1)}}for(var W=0,M=1;(O.words[0]&M)===0&&W<26;++W,M<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(H.isOdd())H.iadd(T);H.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(H);else O.isub(U),H.isub(K)}var w;if(U.cmpn(1)===0)w=K;else w=H;if(w.cmpn(0)<0)w.iadd(J);return w},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var U=this.clone(),O=J.clone();U.negative=0,O.negative=0;for(var K=0;U.isEven()&&O.isEven();K++)U.iushrn(1),O.iushrn(1);do{while(U.isEven())U.iushrn(1);while(O.isEven())O.iushrn(1);var H=U.cmp(O);if(H<0){var T=U;U=O,O=T}else if(H===0||O.cmpn(1)===0)break;U.isub(O)}while(!0);return O.iushln(K)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return this._expand(O+1),this.words[O]|=K,this;var H=K;for(var T=O;H!==0&&T<this.length;T++){var P=this.words[T]|0;P+=H,H=P>>>26,P&=67108863,this.words[T]=P}if(H!==0)this.words[T]=H,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var U=J<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var O;if(this.length>1)O=1;else{if(U)J=-J;Y(J<=67108863,"Number is too big");var K=this.words[0]|0;O=K===J?0:K<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var U=this.ucmp(J);if(this.negative!==0)return-U|0;return U},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var U=0;for(var O=this.length-1;O>=0;O--){var K=this.words[O]|0,H=J.words[O]|0;if(K===H)continue;if(K<H)U=-1;else if(K>H)U=1;break}return U},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new h(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var U=J,O;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),O=U.bitLength();while(O>this.n);var K=O<this.n?-1:U.ucmp(this.p);if(K===0)U.words[0]=0,U.length=1;else if(K>0)U.isub(this.p);else if(U.strip!==void 0)U.strip();else U._strip();return U},v.prototype.split=function E(J,U){J.iushrn(this.n,0,U)},v.prototype.imulK=function E(J){return J.imul(this.k)};function p(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(p,v),p.prototype.split=function E(J,U){var O=4194303,K=Math.min(J.length,9);for(var H=0;H<K;H++)U.words[H]=J.words[H];if(U.length=K,J.length<=9){J.words[0]=0,J.length=1;return}var T=J.words[9];U.words[U.length++]=T&O;for(H=10;H<J.length;H++){var P=J.words[H]|0;J.words[H-10]=(P&O)<<4|T>>>22,T=P}if(T>>>=22,J.words[H-10]=T,T===0&&J.length>10)J.length-=10;else J.length-=9},p.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var U=0;for(var O=0;O<J.length;O++){var K=J.words[O]|0;U+=K*977,J.words[O]=U&67108863,U=K*64+(U/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(c,v);function X0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(X0,v);function t(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(t,v),t.prototype.imulK=function E(J){var U=0;for(var O=0;O<J.length;O++){var K=(J.words[O]|0)*19+U,H=K&67108863;K>>>=26,J.words[O]=H,U=K}if(U!==0)J.words[J.length++]=U;return J},G._prime=function E(J){if(f[J])return f[J];var U;if(J==="k256")U=new p;else if(J==="p224")U=new c;else if(J==="p192")U=new X0;else if(J==="p25519")U=new t;else throw new Error("Unknown prime "+J);return f[J]=U,U};function h(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}h.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},h.prototype._verify2=function E(J,U){Y((J.negative|U.negative)===0,"red works only with positives"),Y(J.red&&J.red===U.red,"red works only with red numbers")},h.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},h.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},h.prototype.add=function E(J,U){this._verify2(J,U);var O=J.add(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},h.prototype.iadd=function E(J,U){this._verify2(J,U);var O=J.iadd(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O},h.prototype.sub=function E(J,U){this._verify2(J,U);var O=J.sub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},h.prototype.isub=function E(J,U){this._verify2(J,U);var O=J.isub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O},h.prototype.shl=function E(J,U){return this._verify1(J),this.imod(J.ushln(U))},h.prototype.imul=function E(J,U){return this._verify2(J,U),this.imod(J.imul(U))},h.prototype.mul=function E(J,U){return this._verify2(J,U),this.imod(J.mul(U))},h.prototype.isqr=function E(J){return this.imul(J,J.clone())},h.prototype.sqr=function E(J){return this.mul(J,J)},h.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var U=this.m.andln(3);if(Y(U%2===1),U===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var K=this.m.subn(1),H=0;while(!K.isZero()&&K.andln(1)===0)H++,K.iushrn(1);Y(!K.isZero());var T=new G(1).toRed(this),P=T.redNeg(),D=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,D).cmp(P)!==0)W.redIAdd(P);var M=this.pow(W,K),w=this.pow(J,K.addn(1).iushrn(1)),j=this.pow(J,K),x=H;while(j.cmp(T)!==0){var m=j;for(var o=0;m.cmp(T)!==0;o++)m=m.redSqr();Y(o<x);var r=this.pow(M,new G(1).iushln(x-o-1));w=w.redMul(r),M=r.redSqr(),j=j.redMul(M),x=o}return w},h.prototype.invm=function E(J){var U=J._invmp(this.m);if(U.negative!==0)return U.negative=0,this.imod(U).redNeg();else return this.imod(U)},h.prototype.pow=function E(J,U){if(U.isZero())return new G(1).toRed(this);if(U.cmpn(1)===0)return J.clone();var O=4,K=new Array(1<<O);K[0]=new G(1).toRed(this),K[1]=J;for(var H=2;H<K.length;H++)K[H]=this.mul(K[H-1],J);var T=K[0],P=0,D=0,W=U.bitLength()%26;if(W===0)W=26;for(H=U.length-1;H>=0;H--){var M=U.words[H];for(var w=W-1;w>=0;w--){var j=M>>w&1;if(T!==K[0])T=this.sqr(T);if(j===0&&P===0){D=0;continue}if(P<<=1,P|=j,D++,D!==O&&(H!==0||w!==0))continue;T=this.mul(T,K[P]),D=0,P=0}W=26}return T},h.prototype.convertTo=function E(J){var U=J.umod(this.m);return U===J?U.clone():U},h.prototype.convertFrom=function E(J){var U=J.clone();return U.red=null,U},G.mont=function E(J){return new l(J)};function l(E){if(h.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(l,h),l.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},l.prototype.convertFrom=function E(J){var U=this.imod(J.mul(this.rinv));return U.red=null,U},l.prototype.imul=function E(J,U){if(J.isZero()||U.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.mul=function E(J,U){if(J.isZero()||U.isZero())return new G(0)._forceRed(this);var O=J.mul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.invm=function E(J){var U=this.imod(J._invmp(this.m).mul(this.r2));return U._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),x3=c0(($,Q)=>{var X=_3(),Z=w3();Q.exports=function z(L){return new V(L)};var Y={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Y.p224=Y.secp224r1,Y.p256=Y.secp256r1=Y.prime256v1,Y.p192=Y.secp192r1=Y.prime192v1,Y.p384=Y.secp384r1,Y.p521=Y.secp521r1;function V(z){if(this.curveType=Y[z],!this.curveType)this.curveType={name:z};this.curve=new X.ec(this.curveType.name),this.keys=void 0}V.prototype.generateKeys=function(z,L){return this.keys=this.curve.genKeyPair(),this.getPublicKey(z,L)},V.prototype.computeSecret=function(z,L,A){if(L=L||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,L);var F=this.curve.keyFromPublic(z).getPublic(),C=F.mul(this.keys.getPrivate()).getX();return G(C,A,this.curveType.byteLength)},V.prototype.getPublicKey=function(z,L){var A=this.keys.getPublic(L==="compressed",!0);if(L==="hybrid")if(A[A.length-1]%2)A[0]=7;else A[0]=6;return G(A,z)},V.prototype.getPrivateKey=function(z){return G(this.keys.getPrivate(),z)},V.prototype.setPublicKey=function(z,L){if(L=L||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,L);return this.keys._importPublic(z),this},V.prototype.setPrivateKey=function(z,L){if(L=L||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,L);var A=new Z(z);return A=A.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(A),this};function G(z,L,A){if(!Array.isArray(z))z=z.toArray();var F=new Buffer(z);if(A&&F.length<A){var C=new Buffer(A-F.length);C.fill(0),F=Buffer.concat([C,F])}if(!L)return F;else return F.toString(L)}}),k3=c0(($,Q)=>{var X=(WX(),X$(GX)).createECDH;Q.exports=X||x3()}),f3=c0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var U=function(){};U.prototype=J.prototype,E.prototype=new U,E.prototype.constructor=E}function G(E,J,U){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")U=J,J=10;this._init(E||0,J||10,U||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var z;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")z=window.Buffer;else z=(c$(),X$(m$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,U){if(J.cmp(U)>0)return J;return U},G.min=function E(J,U){if(J.cmp(U)<0)return J;return U},G.prototype._init=function E(J,U,O){if(typeof J==="number")return this._initNumber(J,U,O);if(typeof J==="object")return this._initArray(J,U,O);if(U==="hex")U=16;Y(U===(U|0)&&U>=2&&U<=36),J=J.toString().replace(/\s+/g,"");var K=0;if(J[0]==="-")K++,this.negative=1;if(K<J.length){if(U===16)this._parseHex(J,K,O);else if(this._parseBase(J,U,K),O==="le")this._initArray(this.toArray(),U,O)}},G.prototype._initNumber=function E(J,U,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),U,O)},G.prototype._initArray=function E(J,U,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H,T,P=0;if(O==="be"){for(K=J.length-1,H=0;K>=0;K-=3)if(T=J[K]|J[K-1]<<8|J[K-2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}else if(O==="le"){for(K=0,H=0;K<J.length;K+=3)if(T=J[K]|J[K+1]<<8|J[K+2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}return this.strip()};function L(E,J){var U=E.charCodeAt(J);if(U>=65&&U<=70)return U-55;else if(U>=97&&U<=102)return U-87;else return U-48&15}function A(E,J,U){var O=L(E,U);if(U-1>=J)O|=L(E,U-1)<<4;return O}G.prototype._parseHex=function E(J,U,O){this.length=Math.ceil((J.length-U)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H=0,T=0,P;if(O==="be")for(K=J.length-1;K>=U;K-=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8;else{var D=J.length-U;for(K=D%2===0?U+1:U;K<J.length;K+=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8}this.strip()};function F(E,J,U,O){var K=0,H=Math.min(E.length,U);for(var T=J;T<H;T++){var P=E.charCodeAt(T)-48;if(K*=O,P>=49)K+=P-49+10;else if(P>=17)K+=P-17+10;else K+=P}return K}G.prototype._parseBase=function E(J,U,O){this.words=[0],this.length=1;for(var K=0,H=1;H<=67108863;H*=U)K++;K--,H=H/U|0;var T=J.length-O,P=T%K,D=Math.min(T,T-P)+O,W=0;for(var M=O;M<D;M+=K)if(W=F(J,M,M+K,U),this.imuln(H),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(P!==0){var w=1;W=F(J,M,J.length,U);for(M=0;M<P;M++)w*=U;if(this.imuln(w),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var U=0;U<this.length;U++)J.words[U]=this.words[U];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,U){J=J||10,U=U|0||1;var O;if(J===16||J==="hex"){O="";var K=0,H=0;for(var T=0;T<this.length;T++){var P=this.words[T],D=((P<<K|H)&16777215).toString(16);if(H=P>>>24-K&16777215,K+=2,K>=26)K-=26,T--;if(H!==0||T!==this.length-1)O=C[6-D.length]+D+O;else O=D+O}if(H!==0)O=H.toString(16)+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=q[J],M=R[J];O="";var w=this.clone();w.negative=0;while(!w.isZero()){var j=w.modn(M).toString(J);if(w=w.idivn(M),!w.isZero())O=C[W-j.length]+j+O;else O=j+O}if(this.isZero())O="0"+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,U){return Y(typeof z!=="undefined"),this.toArrayLike(z,J,U)},G.prototype.toArray=function E(J,U){return this.toArrayLike(Array,J,U)},G.prototype.toArrayLike=function E(J,U,O){var K=this.byteLength(),H=O||Math.max(1,K);Y(K<=H,"byte array longer than desired length"),Y(H>0,"Requested array length <= 0"),this.strip();var T=U==="le",P=new J(H),D,W,M=this.clone();if(!T){for(W=0;W<H-K;W++)P[W]=0;for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[H-W-1]=D}else{for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[W]=D;for(;W<H;W++)P[W]=0}return P},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var U=J,O=0;if(U>=4096)O+=13,U>>>=13;if(U>=64)O+=7,U>>>=7;if(U>=8)O+=4,U>>>=4;if(U>=2)O+=2,U>>>=2;return O+U};G.prototype._zeroBits=function E(J){if(J===0)return 26;var U=J,O=0;if((U&8191)===0)O+=13,U>>>=13;if((U&127)===0)O+=7,U>>>=7;if((U&15)===0)O+=4,U>>>=4;if((U&3)===0)O+=2,U>>>=2;if((U&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],U=this._countBits(J);return(this.length-1)*26+U};function I(E){var J=new Array(E.bitLength());for(var U=0;U<J.length;U++){var O=U/26|0,K=U%26;J[U]=(E.words[O]&1<<K)>>>K}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var U=0;U<this.length;U++){var O=this._zeroBits(this.words[U]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var U=0;U<J.length;U++)this.words[U]=this.words[U]|J.words[U];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var U;if(this.length>J.length)U=J;else U=this;for(var O=0;O<U.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=U.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var U,O;if(this.length>J.length)U=this,O=J;else U=J,O=this;for(var K=0;K<O.length;K++)this.words[K]=U.words[K]^O.words[K];if(this!==U)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=U.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var U=Math.ceil(J/26)|0,O=J%26;if(this._expand(U),O>0)U--;for(var K=0;K<U;K++)this.words[K]=~this.words[K]&67108863;if(O>0)this.words[K]=~this.words[K]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,U){Y(typeof J==="number"&&J>=0);var O=J/26|0,K=J%26;if(this._expand(O+1),U)this.words[O]=this.words[O]|1<<K;else this.words[O]=this.words[O]&~(1<<K);return this.strip()},G.prototype.iadd=function E(J){var U;if(this.negative!==0&&J.negative===0)return this.negative=0,U=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,U=this.isub(J),J.negative=1,U._normSign();var O,K;if(this.length>J.length)O=this,K=J;else O=J,K=this;var H=0;for(var T=0;T<K.length;T++)U=(O.words[T]|0)+(K.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;for(;H!==0&&T<O.length;T++)U=(O.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;if(this.length=O.length,H!==0)this.words[this.length]=H,this.length++;else if(O!==this)for(;T<O.length;T++)this.words[T]=O.words[T];return this},G.prototype.add=function E(J){var U;if(J.negative!==0&&this.negative===0)return J.negative=0,U=this.sub(J),J.negative^=1,U;else if(J.negative===0&&this.negative!==0)return this.negative=0,U=J.sub(this),this.negative=1,U;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var U=this.iadd(J);return J.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,H;if(O>0)K=this,H=J;else K=J,H=this;var T=0;for(var P=0;P<H.length;P++)U=(K.words[P]|0)-(H.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;for(;T!==0&&P<K.length;P++)U=(K.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;if(T===0&&P<K.length&&K!==this)for(;P<K.length;P++)this.words[P]=K.words[P];if(this.length=Math.max(this.length,P),K!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,U){U.negative=J.negative^E.negative;var O=E.length+J.length|0;U.length=O,O=O-1|0;var K=E.words[0]|0,H=J.words[0]|0,T=K*H,P=T&67108863,D=T/67108864|0;U.words[0]=P;for(var W=1;W<O;W++){var M=D>>>26,w=D&67108863,j=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=j;x++){var m=W-x|0;K=E.words[m]|0,H=J.words[x]|0,T=K*H+w,M+=T/67108864|0,w=T&67108863}U.words[W]=w|0,D=M|0}if(D!==0)U.words[W]=D|0;else U.length--;return U.strip()}var N=function E(J,U,O){var K=J.words,H=U.words,T=O.words,P=0,D,W,M,w=K[0]|0,j=w&8191,x=w>>>13,m=K[1]|0,o=m&8191,r=m>>>13,z0=K[2]|0,d=z0&8191,n=z0>>>13,R0=K[3]|0,W0=R0&8191,V0=R0>>>13,a=K[4]|0,u=a&8191,s=a>>>13,b0=K[5]|0,Q0=b0&8191,$0=b0>>>13,e=K[6]|0,i=e&8191,Y0=e>>>13,A0=K[7]|0,U0=A0&8191,L0=A0>>>13,e0=K[8]|0,H0=e0&8191,F0=e0>>>13,E$=K[9]|0,q0=E$&8191,E0=E$>>>13,i$=H[0]|0,T0=i$&8191,f0=i$>>>13,jQ=H[1]|0,v0=jQ&8191,g0=jQ>>>13,pQ=H[2]|0,_0=pQ&8191,w0=pQ>>>13,mQ=H[3]|0,x0=mQ&8191,S0=mQ>>>13,cQ=H[4]|0,y0=cQ&8191,N0=cQ>>>13,_Q=H[5]|0,g=_Q&8191,y=_Q>>>13,p0=H[6]|0,Z0=p0&8191,K0=p0>>>13,I$=H[7]|0,C0=I$&8191,P0=I$>>>13,wQ=H[8]|0,h0=wQ&8191,k0=wQ>>>13,xQ=H[9]|0,B0=xQ&8191,j0=xQ>>>13;O.negative=J.negative^U.negative,O.length=19,D=Math.imul(j,T0),W=Math.imul(j,f0),W=W+Math.imul(x,T0)|0,M=Math.imul(x,f0);var p$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(p$>>>26)|0,p$&=67108863,D=Math.imul(o,T0),W=Math.imul(o,f0),W=W+Math.imul(r,T0)|0,M=Math.imul(r,f0),D=D+Math.imul(j,v0)|0,W=W+Math.imul(j,g0)|0,W=W+Math.imul(x,v0)|0,M=M+Math.imul(x,g0)|0;var $$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+($$>>>26)|0,$$&=67108863,D=Math.imul(d,T0),W=Math.imul(d,f0),W=W+Math.imul(n,T0)|0,M=Math.imul(n,f0),D=D+Math.imul(o,v0)|0,W=W+Math.imul(o,g0)|0,W=W+Math.imul(r,v0)|0,M=M+Math.imul(r,g0)|0,D=D+Math.imul(j,_0)|0,W=W+Math.imul(j,w0)|0,W=W+Math.imul(x,_0)|0,M=M+Math.imul(x,w0)|0;var a0=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(a0>>>26)|0,a0&=67108863,D=Math.imul(W0,T0),W=Math.imul(W0,f0),W=W+Math.imul(V0,T0)|0,M=Math.imul(V0,f0),D=D+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(n,v0)|0,M=M+Math.imul(n,g0)|0,D=D+Math.imul(o,_0)|0,W=W+Math.imul(o,w0)|0,W=W+Math.imul(r,_0)|0,M=M+Math.imul(r,w0)|0,D=D+Math.imul(j,x0)|0,W=W+Math.imul(j,S0)|0,W=W+Math.imul(x,x0)|0,M=M+Math.imul(x,S0)|0;var B$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(B$>>>26)|0,B$&=67108863,D=Math.imul(u,T0),W=Math.imul(u,f0),W=W+Math.imul(s,T0)|0,M=Math.imul(s,f0),D=D+Math.imul(W0,v0)|0,W=W+Math.imul(W0,g0)|0,W=W+Math.imul(V0,v0)|0,M=M+Math.imul(V0,g0)|0,D=D+Math.imul(d,_0)|0,W=W+Math.imul(d,w0)|0,W=W+Math.imul(n,_0)|0,M=M+Math.imul(n,w0)|0,D=D+Math.imul(o,x0)|0,W=W+Math.imul(o,S0)|0,W=W+Math.imul(r,x0)|0,M=M+Math.imul(r,S0)|0,D=D+Math.imul(j,y0)|0,W=W+Math.imul(j,N0)|0,W=W+Math.imul(x,y0)|0,M=M+Math.imul(x,N0)|0;var XQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,D=Math.imul(Q0,T0),W=Math.imul(Q0,f0),W=W+Math.imul($0,T0)|0,M=Math.imul($0,f0),D=D+Math.imul(u,v0)|0,W=W+Math.imul(u,g0)|0,W=W+Math.imul(s,v0)|0,M=M+Math.imul(s,g0)|0,D=D+Math.imul(W0,_0)|0,W=W+Math.imul(W0,w0)|0,W=W+Math.imul(V0,_0)|0,M=M+Math.imul(V0,w0)|0,D=D+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(n,x0)|0,M=M+Math.imul(n,S0)|0,D=D+Math.imul(o,y0)|0,W=W+Math.imul(o,N0)|0,W=W+Math.imul(r,y0)|0,M=M+Math.imul(r,N0)|0,D=D+Math.imul(j,g)|0,W=W+Math.imul(j,y)|0,W=W+Math.imul(x,g)|0,M=M+Math.imul(x,y)|0;var ZQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,D=Math.imul(i,T0),W=Math.imul(i,f0),W=W+Math.imul(Y0,T0)|0,M=Math.imul(Y0,f0),D=D+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,M=M+Math.imul($0,g0)|0,D=D+Math.imul(u,_0)|0,W=W+Math.imul(u,w0)|0,W=W+Math.imul(s,_0)|0,M=M+Math.imul(s,w0)|0,D=D+Math.imul(W0,x0)|0,W=W+Math.imul(W0,S0)|0,W=W+Math.imul(V0,x0)|0,M=M+Math.imul(V0,S0)|0,D=D+Math.imul(d,y0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(n,y0)|0,M=M+Math.imul(n,N0)|0,D=D+Math.imul(o,g)|0,W=W+Math.imul(o,y)|0,W=W+Math.imul(r,g)|0,M=M+Math.imul(r,y)|0,D=D+Math.imul(j,Z0)|0,W=W+Math.imul(j,K0)|0,W=W+Math.imul(x,Z0)|0,M=M+Math.imul(x,K0)|0;var YQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,D=Math.imul(U0,T0),W=Math.imul(U0,f0),W=W+Math.imul(L0,T0)|0,M=Math.imul(L0,f0),D=D+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,M=M+Math.imul(Y0,g0)|0,D=D+Math.imul(Q0,_0)|0,W=W+Math.imul(Q0,w0)|0,W=W+Math.imul($0,_0)|0,M=M+Math.imul($0,w0)|0,D=D+Math.imul(u,x0)|0,W=W+Math.imul(u,S0)|0,W=W+Math.imul(s,x0)|0,M=M+Math.imul(s,S0)|0,D=D+Math.imul(W0,y0)|0,W=W+Math.imul(W0,N0)|0,W=W+Math.imul(V0,y0)|0,M=M+Math.imul(V0,N0)|0,D=D+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(n,g)|0,M=M+Math.imul(n,y)|0,D=D+Math.imul(o,Z0)|0,W=W+Math.imul(o,K0)|0,W=W+Math.imul(r,Z0)|0,M=M+Math.imul(r,K0)|0,D=D+Math.imul(j,C0)|0,W=W+Math.imul(j,P0)|0,W=W+Math.imul(x,C0)|0,M=M+Math.imul(x,P0)|0;var JQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,D=Math.imul(H0,T0),W=Math.imul(H0,f0),W=W+Math.imul(F0,T0)|0,M=Math.imul(F0,f0),D=D+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(L0,v0)|0,M=M+Math.imul(L0,g0)|0,D=D+Math.imul(i,_0)|0,W=W+Math.imul(i,w0)|0,W=W+Math.imul(Y0,_0)|0,M=M+Math.imul(Y0,w0)|0,D=D+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,M=M+Math.imul($0,S0)|0,D=D+Math.imul(u,y0)|0,W=W+Math.imul(u,N0)|0,W=W+Math.imul(s,y0)|0,M=M+Math.imul(s,N0)|0,D=D+Math.imul(W0,g)|0,W=W+Math.imul(W0,y)|0,W=W+Math.imul(V0,g)|0,M=M+Math.imul(V0,y)|0,D=D+Math.imul(d,Z0)|0,W=W+Math.imul(d,K0)|0,W=W+Math.imul(n,Z0)|0,M=M+Math.imul(n,K0)|0,D=D+Math.imul(o,C0)|0,W=W+Math.imul(o,P0)|0,W=W+Math.imul(r,C0)|0,M=M+Math.imul(r,P0)|0,D=D+Math.imul(j,h0)|0,W=W+Math.imul(j,k0)|0,W=W+Math.imul(x,h0)|0,M=M+Math.imul(x,k0)|0;var GQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,D=Math.imul(q0,T0),W=Math.imul(q0,f0),W=W+Math.imul(E0,T0)|0,M=Math.imul(E0,f0),D=D+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(F0,v0)|0,M=M+Math.imul(F0,g0)|0,D=D+Math.imul(U0,_0)|0,W=W+Math.imul(U0,w0)|0,W=W+Math.imul(L0,_0)|0,M=M+Math.imul(L0,w0)|0,D=D+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,M=M+Math.imul(Y0,S0)|0,D=D+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,y0)|0,M=M+Math.imul($0,N0)|0,D=D+Math.imul(u,g)|0,W=W+Math.imul(u,y)|0,W=W+Math.imul(s,g)|0,M=M+Math.imul(s,y)|0,D=D+Math.imul(W0,Z0)|0,W=W+Math.imul(W0,K0)|0,W=W+Math.imul(V0,Z0)|0,M=M+Math.imul(V0,K0)|0,D=D+Math.imul(d,C0)|0,W=W+Math.imul(d,P0)|0,W=W+Math.imul(n,C0)|0,M=M+Math.imul(n,P0)|0,D=D+Math.imul(o,h0)|0,W=W+Math.imul(o,k0)|0,W=W+Math.imul(r,h0)|0,M=M+Math.imul(r,k0)|0,D=D+Math.imul(j,B0)|0,W=W+Math.imul(j,j0)|0,W=W+Math.imul(x,B0)|0,M=M+Math.imul(x,j0)|0;var WQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,D=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(E0,v0)|0,M=Math.imul(E0,g0),D=D+Math.imul(H0,_0)|0,W=W+Math.imul(H0,w0)|0,W=W+Math.imul(F0,_0)|0,M=M+Math.imul(F0,w0)|0,D=D+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(L0,x0)|0,M=M+Math.imul(L0,S0)|0,D=D+Math.imul(i,y0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,y0)|0,M=M+Math.imul(Y0,N0)|0,D=D+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,M=M+Math.imul($0,y)|0,D=D+Math.imul(u,Z0)|0,W=W+Math.imul(u,K0)|0,W=W+Math.imul(s,Z0)|0,M=M+Math.imul(s,K0)|0,D=D+Math.imul(W0,C0)|0,W=W+Math.imul(W0,P0)|0,W=W+Math.imul(V0,C0)|0,M=M+Math.imul(V0,P0)|0,D=D+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(n,h0)|0,M=M+Math.imul(n,k0)|0,D=D+Math.imul(o,B0)|0,W=W+Math.imul(o,j0)|0,W=W+Math.imul(r,B0)|0,M=M+Math.imul(r,j0)|0;var VQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,D=Math.imul(q0,_0),W=Math.imul(q0,w0),W=W+Math.imul(E0,_0)|0,M=Math.imul(E0,w0),D=D+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(F0,x0)|0,M=M+Math.imul(F0,S0)|0,D=D+Math.imul(U0,y0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(L0,y0)|0,M=M+Math.imul(L0,N0)|0,D=D+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,M=M+Math.imul(Y0,y)|0,D=D+Math.imul(Q0,Z0)|0,W=W+Math.imul(Q0,K0)|0,W=W+Math.imul($0,Z0)|0,M=M+Math.imul($0,K0)|0,D=D+Math.imul(u,C0)|0,W=W+Math.imul(u,P0)|0,W=W+Math.imul(s,C0)|0,M=M+Math.imul(s,P0)|0,D=D+Math.imul(W0,h0)|0,W=W+Math.imul(W0,k0)|0,W=W+Math.imul(V0,h0)|0,M=M+Math.imul(V0,k0)|0,D=D+Math.imul(d,B0)|0,W=W+Math.imul(d,j0)|0,W=W+Math.imul(n,B0)|0,M=M+Math.imul(n,j0)|0;var KQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(KQ>>>26)|0,KQ&=67108863,D=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(E0,x0)|0,M=Math.imul(E0,S0),D=D+Math.imul(H0,y0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(F0,y0)|0,M=M+Math.imul(F0,N0)|0,D=D+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(L0,g)|0,M=M+Math.imul(L0,y)|0,D=D+Math.imul(i,Z0)|0,W=W+Math.imul(i,K0)|0,W=W+Math.imul(Y0,Z0)|0,M=M+Math.imul(Y0,K0)|0,D=D+Math.imul(Q0,C0)|0,W=W+Math.imul(Q0,P0)|0,W=W+Math.imul($0,C0)|0,M=M+Math.imul($0,P0)|0,D=D+Math.imul(u,h0)|0,W=W+Math.imul(u,k0)|0,W=W+Math.imul(s,h0)|0,M=M+Math.imul(s,k0)|0,D=D+Math.imul(W0,B0)|0,W=W+Math.imul(W0,j0)|0,W=W+Math.imul(V0,B0)|0,M=M+Math.imul(V0,j0)|0;var UQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,D=Math.imul(q0,y0),W=Math.imul(q0,N0),W=W+Math.imul(E0,y0)|0,M=Math.imul(E0,N0),D=D+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(F0,g)|0,M=M+Math.imul(F0,y)|0,D=D+Math.imul(U0,Z0)|0,W=W+Math.imul(U0,K0)|0,W=W+Math.imul(L0,Z0)|0,M=M+Math.imul(L0,K0)|0,D=D+Math.imul(i,C0)|0,W=W+Math.imul(i,P0)|0,W=W+Math.imul(Y0,C0)|0,M=M+Math.imul(Y0,P0)|0,D=D+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,M=M+Math.imul($0,k0)|0,D=D+Math.imul(u,B0)|0,W=W+Math.imul(u,j0)|0,W=W+Math.imul(s,B0)|0,M=M+Math.imul(s,j0)|0;var OQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(OQ>>>26)|0,OQ&=67108863,D=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(E0,g)|0,M=Math.imul(E0,y),D=D+Math.imul(H0,Z0)|0,W=W+Math.imul(H0,K0)|0,W=W+Math.imul(F0,Z0)|0,M=M+Math.imul(F0,K0)|0,D=D+Math.imul(U0,C0)|0,W=W+Math.imul(U0,P0)|0,W=W+Math.imul(L0,C0)|0,M=M+Math.imul(L0,P0)|0,D=D+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,M=M+Math.imul(Y0,k0)|0,D=D+Math.imul(Q0,B0)|0,W=W+Math.imul(Q0,j0)|0,W=W+Math.imul($0,B0)|0,M=M+Math.imul($0,j0)|0;var zQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(zQ>>>26)|0,zQ&=67108863,D=Math.imul(q0,Z0),W=Math.imul(q0,K0),W=W+Math.imul(E0,Z0)|0,M=Math.imul(E0,K0),D=D+Math.imul(H0,C0)|0,W=W+Math.imul(H0,P0)|0,W=W+Math.imul(F0,C0)|0,M=M+Math.imul(F0,P0)|0,D=D+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(L0,h0)|0,M=M+Math.imul(L0,k0)|0,D=D+Math.imul(i,B0)|0,W=W+Math.imul(i,j0)|0,W=W+Math.imul(Y0,B0)|0,M=M+Math.imul(Y0,j0)|0;var HQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,D=Math.imul(q0,C0),W=Math.imul(q0,P0),W=W+Math.imul(E0,C0)|0,M=Math.imul(E0,P0),D=D+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(F0,h0)|0,M=M+Math.imul(F0,k0)|0,D=D+Math.imul(U0,B0)|0,W=W+Math.imul(U0,j0)|0,W=W+Math.imul(L0,B0)|0,M=M+Math.imul(L0,j0)|0;var DQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,D=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(E0,h0)|0,M=Math.imul(E0,k0),D=D+Math.imul(H0,B0)|0,W=W+Math.imul(H0,j0)|0,W=W+Math.imul(F0,B0)|0,M=M+Math.imul(F0,j0)|0;var LQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(LQ>>>26)|0,LQ&=67108863,D=Math.imul(q0,B0),W=Math.imul(q0,j0),W=W+Math.imul(E0,B0)|0,M=Math.imul(E0,j0);var qQ=(P+D|0)+((W&8191)<<13)|0;if(P=(M+(W>>>13)|0)+(qQ>>>26)|0,qQ&=67108863,T[0]=p$,T[1]=$$,T[2]=a0,T[3]=B$,T[4]=XQ,T[5]=ZQ,T[6]=YQ,T[7]=JQ,T[8]=GQ,T[9]=WQ,T[10]=VQ,T[11]=KQ,T[12]=UQ,T[13]=OQ,T[14]=zQ,T[15]=HQ,T[16]=DQ,T[17]=LQ,T[18]=qQ,P!==0)T[19]=P,O.length++;return O};if(!Math.imul)N=S;function B(E,J,U){U.negative=J.negative^E.negative,U.length=E.length+J.length;var O=0,K=0;for(var H=0;H<U.length-1;H++){var T=K;K=0;var P=O&67108863,D=Math.min(H,J.length-1);for(var W=Math.max(0,H-E.length+1);W<=D;W++){var M=H-W,w=E.words[M]|0,j=J.words[W]|0,x=w*j,m=x&67108863;T=T+(x/67108864|0)|0,m=m+P|0,P=m&67108863,T=T+(m>>>26)|0,K+=T>>>26,T&=67108863}U.words[H]=P,O=T,T=K}if(O!==0)U.words[H]=O;else U.length--;return U.strip()}function _(E,J,U){var O=new k;return O.mulp(E,J,U)}G.prototype.mulTo=function E(J,U){var O,K=this.length+J.length;if(this.length===10&&J.length===10)O=N(this,J,U);else if(K<63)O=S(this,J,U);else if(K<1024)O=B(this,J,U);else O=_(this,J,U);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var U=new Array(J),O=G.prototype._countBits(J)-1;for(var K=0;K<J;K++)U[K]=this.revBin(K,O,J);return U},k.prototype.revBin=function E(J,U,O){if(J===0||J===O-1)return J;var K=0;for(var H=0;H<U;H++)K|=(J&1)<<U-H-1,J>>=1;return K},k.prototype.permute=function E(J,U,O,K,H,T){for(var P=0;P<T;P++)K[P]=U[J[P]],H[P]=O[J[P]]},k.prototype.transform=function E(J,U,O,K,H,T){this.permute(T,J,U,O,K,H);for(var P=1;P<H;P<<=1){var D=P<<1,W=Math.cos(2*Math.PI/D),M=Math.sin(2*Math.PI/D);for(var w=0;w<H;w+=D){var j=W,x=M;for(var m=0;m<P;m++){var o=O[w+m],r=K[w+m],z0=O[w+m+P],d=K[w+m+P],n=j*z0-x*d;if(d=j*d+x*z0,z0=n,O[w+m]=o+z0,K[w+m]=r+d,O[w+m+P]=o-z0,K[w+m+P]=r-d,m!==D)n=W*j-M*x,x=W*x+M*j,j=n}}}},k.prototype.guessLen13b=function E(J,U){var O=Math.max(U,J)|1,K=O&1,H=0;for(O=O/2|0;O;O=O>>>1)H++;return 1<<H+1+K},k.prototype.conjugate=function E(J,U,O){if(O<=1)return;for(var K=0;K<O/2;K++){var H=J[K];J[K]=J[O-K-1],J[O-K-1]=H,H=U[K],U[K]=-U[O-K-1],U[O-K-1]=-H}},k.prototype.normalize13b=function E(J,U){var O=0;for(var K=0;K<U/2;K++){var H=Math.round(J[2*K+1]/U)*8192+Math.round(J[2*K]/U)+O;if(J[K]=H&67108863,H<67108864)O=0;else O=H/67108864|0}return J},k.prototype.convert13b=function E(J,U,O,K){var H=0;for(var T=0;T<U;T++)H=H+(J[T]|0),O[2*T]=H&8191,H=H>>>13,O[2*T+1]=H&8191,H=H>>>13;for(T=2*U;T<K;++T)O[T]=0;Y(H===0),Y((H&-8192)===0)},k.prototype.stub=function E(J){var U=new Array(J);for(var O=0;O<J;O++)U[O]=0;return U},k.prototype.mulp=function E(J,U,O){var K=2*this.guessLen13b(J.length,U.length),H=this.makeRBT(K),T=this.stub(K),P=new Array(K),D=new Array(K),W=new Array(K),M=new Array(K),w=new Array(K),j=new Array(K),x=O.words;x.length=K,this.convert13b(J.words,J.length,P,K),this.convert13b(U.words,U.length,M,K),this.transform(P,T,D,W,K,H),this.transform(M,T,w,j,K,H);for(var m=0;m<K;m++){var o=D[m]*w[m]-W[m]*j[m];W[m]=D[m]*j[m]+W[m]*w[m],D[m]=o}return this.conjugate(D,W,K),this.transform(D,W,x,T,K,H),this.conjugate(x,T,K),this.normalize13b(x,K),O.negative=J.negative^U.negative,O.length=J.length+U.length,O.strip()},G.prototype.mul=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),this.mulTo(J,U)},G.prototype.mulf=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),_(this,J,U)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var U=0;for(var O=0;O<this.length;O++){var K=(this.words[O]|0)*J,H=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=H>>>26,this.words[O]=H&67108863}if(U!==0)this.words[O]=U,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var U=I(J);if(U.length===0)return new G(1);var O=this;for(var K=0;K<U.length;K++,O=O.sqr())if(U[K]!==0)break;if(++K<U.length)for(var H=O.sqr();K<U.length;K++,H=H.sqr()){if(U[K]===0)continue;O=O.mul(H)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=67108863>>>26-U<<26-U,H;if(U!==0){var T=0;for(H=0;H<this.length;H++){var P=this.words[H]&K,D=(this.words[H]|0)-P<<U;this.words[H]=D|T,T=P>>>26-U}if(T)this.words[H]=T,this.length++}if(O!==0){for(H=this.length-1;H>=0;H--)this.words[H+O]=this.words[H];for(H=0;H<O;H++)this.words[H]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,U,O){Y(typeof J==="number"&&J>=0);var K;if(U)K=(U-U%26)/26;else K=0;var H=J%26,T=Math.min((J-H)/26,this.length),P=67108863^67108863>>>H<<H,D=O;if(K-=T,K=Math.max(0,K),D){for(var W=0;W<T;W++)D.words[W]=this.words[W];D.length=T}if(T===0);else if(this.length>T){this.length-=T;for(W=0;W<this.length;W++)this.words[W]=this.words[W+T]}else this.words[0]=0,this.length=1;var M=0;for(W=this.length-1;W>=0&&(M!==0||W>=K);W--){var w=this.words[W]|0;this.words[W]=M<<26-H|w>>>H,M=w&P}if(D&&M!==0)D.words[D.length++]=M;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,U,O){return Y(this.negative===0),this.iushrn(J,U,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return!1;var H=this.words[O];return!!(H&K)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(U!==0)O++;if(this.length=Math.min(O,this.length),U!==0){var K=67108863^67108863>>>U<<U;this.words[this.length-1]&=K}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)if(this.words[U]-=67108864,U===this.length-1)this.words[U+1]=1;else this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,U,O){var K=J.length+O,H;this._expand(K);var T,P=0;for(H=0;H<J.length;H++){T=(this.words[H+O]|0)+P;var D=(J.words[H]|0)*U;T-=D&67108863,P=(T>>26)-(D/67108864|0),this.words[H+O]=T&67108863}for(;H<this.length-O;H++)T=(this.words[H+O]|0)+P,P=T>>26,this.words[H+O]=T&67108863;if(P===0)return this.strip();Y(P===-1),P=0;for(H=0;H<this.length;H++)T=-(this.words[H]|0)+P,P=T>>26,this.words[H]=T&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,U){var O=this.length-J.length,K=this.clone(),H=J,T=H.words[H.length-1]|0,P=this._countBits(T);if(O=26-P,O!==0)H=H.ushln(O),K.iushln(O),T=H.words[H.length-1]|0;var D=K.length-H.length,W;if(U!=="mod"){W=new G(null),W.length=D+1,W.words=new Array(W.length);for(var M=0;M<W.length;M++)W.words[M]=0}var w=K.clone()._ishlnsubmul(H,1,D);if(w.negative===0){if(K=w,W)W.words[D]=1}for(var j=D-1;j>=0;j--){var x=(K.words[H.length+j]|0)*67108864+(K.words[H.length+j-1]|0);x=Math.min(x/T|0,67108863),K._ishlnsubmul(H,x,j);while(K.negative!==0)if(x--,K.negative=0,K._ishlnsubmul(H,1,j),!K.isZero())K.negative^=1;if(W)W.words[j]=x}if(W)W.strip();if(K.strip(),U!=="div"&&O!==0)K.iushrn(O);return{div:W||null,mod:K}},G.prototype.divmod=function E(J,U,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var K,H,T;if(this.negative!==0&&J.negative===0){if(T=this.neg().divmod(J,U),U!=="mod")K=T.div.neg();if(U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.iadd(J)}return{div:K,mod:H}}if(this.negative===0&&J.negative!==0){if(T=this.divmod(J.neg(),U),U!=="mod")K=T.div.neg();return{div:K,mod:T.mod}}if((this.negative&J.negative)!==0){if(T=this.neg().divmod(J.neg(),U),U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.isub(J)}return{div:T.div,mod:H}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(U==="div")return{div:this.divn(J.words[0]),mod:null};if(U==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,U)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var U=this.divmod(J);if(U.mod.isZero())return U.div;var O=U.div.negative!==0?U.mod.isub(J):U.mod,K=J.ushrn(1),H=J.andln(1),T=O.cmp(K);if(T<0||H===1&&T===0)return U.div;return U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var U=67108864%J,O=0;for(var K=this.length-1;K>=0;K--)O=(U*O+(this.words[K]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var U=0;for(var O=this.length-1;O>=0;O--){var K=(this.words[O]|0)+U*67108864;this.words[O]=K/J|0,U=K%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=new G(0),P=new G(1),D=0;while(U.isEven()&&O.isEven())U.iushrn(1),O.iushrn(1),++D;var W=O.clone(),M=U.clone();while(!U.isZero()){for(var w=0,j=1;(U.words[0]&j)===0&&w<26;++w,j<<=1);if(w>0){U.iushrn(w);while(w-- >0){if(K.isOdd()||H.isOdd())K.iadd(W),H.isub(M);K.iushrn(1),H.iushrn(1)}}for(var x=0,m=1;(O.words[0]&m)===0&&x<26;++x,m<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(T.isOdd()||P.isOdd())T.iadd(W),P.isub(M);T.iushrn(1),P.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(T),H.isub(P);else O.isub(U),T.isub(K),P.isub(H)}return{a:T,b:P,gcd:O.iushln(D)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=O.clone();while(U.cmpn(1)>0&&O.cmpn(1)>0){for(var P=0,D=1;(U.words[0]&D)===0&&P<26;++P,D<<=1);if(P>0){U.iushrn(P);while(P-- >0){if(K.isOdd())K.iadd(T);K.iushrn(1)}}for(var W=0,M=1;(O.words[0]&M)===0&&W<26;++W,M<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(H.isOdd())H.iadd(T);H.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(H);else O.isub(U),H.isub(K)}var w;if(U.cmpn(1)===0)w=K;else w=H;if(w.cmpn(0)<0)w.iadd(J);return w},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var U=this.clone(),O=J.clone();U.negative=0,O.negative=0;for(var K=0;U.isEven()&&O.isEven();K++)U.iushrn(1),O.iushrn(1);do{while(U.isEven())U.iushrn(1);while(O.isEven())O.iushrn(1);var H=U.cmp(O);if(H<0){var T=U;U=O,O=T}else if(H===0||O.cmpn(1)===0)break;U.isub(O)}while(!0);return O.iushln(K)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return this._expand(O+1),this.words[O]|=K,this;var H=K;for(var T=O;H!==0&&T<this.length;T++){var P=this.words[T]|0;P+=H,H=P>>>26,P&=67108863,this.words[T]=P}if(H!==0)this.words[T]=H,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var U=J<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var O;if(this.length>1)O=1;else{if(U)J=-J;Y(J<=67108863,"Number is too big");var K=this.words[0]|0;O=K===J?0:K<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var U=this.ucmp(J);if(this.negative!==0)return-U|0;return U},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var U=0;for(var O=this.length-1;O>=0;O--){var K=this.words[O]|0,H=J.words[O]|0;if(K===H)continue;if(K<H)U=-1;else if(K>H)U=1;break}return U},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new h(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var U=J,O;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),O=U.bitLength();while(O>this.n);var K=O<this.n?-1:U.ucmp(this.p);if(K===0)U.words[0]=0,U.length=1;else if(K>0)U.isub(this.p);else if(U.strip!==void 0)U.strip();else U._strip();return U},v.prototype.split=function E(J,U){J.iushrn(this.n,0,U)},v.prototype.imulK=function E(J){return J.imul(this.k)};function p(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(p,v),p.prototype.split=function E(J,U){var O=4194303,K=Math.min(J.length,9);for(var H=0;H<K;H++)U.words[H]=J.words[H];if(U.length=K,J.length<=9){J.words[0]=0,J.length=1;return}var T=J.words[9];U.words[U.length++]=T&O;for(H=10;H<J.length;H++){var P=J.words[H]|0;J.words[H-10]=(P&O)<<4|T>>>22,T=P}if(T>>>=22,J.words[H-10]=T,T===0&&J.length>10)J.length-=10;else J.length-=9},p.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var U=0;for(var O=0;O<J.length;O++){var K=J.words[O]|0;U+=K*977,J.words[O]=U&67108863,U=K*64+(U/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(c,v);function X0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(X0,v);function t(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(t,v),t.prototype.imulK=function E(J){var U=0;for(var O=0;O<J.length;O++){var K=(J.words[O]|0)*19+U,H=K&67108863;K>>>=26,J.words[O]=H,U=K}if(U!==0)J.words[J.length++]=U;return J},G._prime=function E(J){if(f[J])return f[J];var U;if(J==="k256")U=new p;else if(J==="p224")U=new c;else if(J==="p192")U=new X0;else if(J==="p25519")U=new t;else throw new Error("Unknown prime "+J);return f[J]=U,U};function h(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}h.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},h.prototype._verify2=function E(J,U){Y((J.negative|U.negative)===0,"red works only with positives"),Y(J.red&&J.red===U.red,"red works only with red numbers")},h.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},h.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},h.prototype.add=function E(J,U){this._verify2(J,U);var O=J.add(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},h.prototype.iadd=function E(J,U){this._verify2(J,U);var O=J.iadd(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O},h.prototype.sub=function E(J,U){this._verify2(J,U);var O=J.sub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},h.prototype.isub=function E(J,U){this._verify2(J,U);var O=J.isub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O},h.prototype.shl=function E(J,U){return this._verify1(J),this.imod(J.ushln(U))},h.prototype.imul=function E(J,U){return this._verify2(J,U),this.imod(J.imul(U))},h.prototype.mul=function E(J,U){return this._verify2(J,U),this.imod(J.mul(U))},h.prototype.isqr=function E(J){return this.imul(J,J.clone())},h.prototype.sqr=function E(J){return this.mul(J,J)},h.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var U=this.m.andln(3);if(Y(U%2===1),U===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var K=this.m.subn(1),H=0;while(!K.isZero()&&K.andln(1)===0)H++,K.iushrn(1);Y(!K.isZero());var T=new G(1).toRed(this),P=T.redNeg(),D=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,D).cmp(P)!==0)W.redIAdd(P);var M=this.pow(W,K),w=this.pow(J,K.addn(1).iushrn(1)),j=this.pow(J,K),x=H;while(j.cmp(T)!==0){var m=j;for(var o=0;m.cmp(T)!==0;o++)m=m.redSqr();Y(o<x);var r=this.pow(M,new G(1).iushln(x-o-1));w=w.redMul(r),M=r.redSqr(),j=j.redMul(M),x=o}return w},h.prototype.invm=function E(J){var U=J._invmp(this.m);if(U.negative!==0)return U.negative=0,this.imod(U).redNeg();else return this.imod(U)},h.prototype.pow=function E(J,U){if(U.isZero())return new G(1).toRed(this);if(U.cmpn(1)===0)return J.clone();var O=4,K=new Array(1<<O);K[0]=new G(1).toRed(this),K[1]=J;for(var H=2;H<K.length;H++)K[H]=this.mul(K[H-1],J);var T=K[0],P=0,D=0,W=U.bitLength()%26;if(W===0)W=26;for(H=U.length-1;H>=0;H--){var M=U.words[H];for(var w=W-1;w>=0;w--){var j=M>>w&1;if(T!==K[0])T=this.sqr(T);if(j===0&&P===0){D=0;continue}if(P<<=1,P|=j,D++,D!==O&&(H!==0||w!==0))continue;T=this.mul(T,K[P]),D=0,P=0}W=26}return T},h.prototype.convertTo=function E(J){var U=J.umod(this.m);return U===J?U.clone():U},h.prototype.convertFrom=function E(J){var U=J.clone();return U.red=null,U},G.mont=function E(J){return new l(J)};function l(E){if(h.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(l,h),l.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},l.prototype.convertFrom=function E(J){var U=this.imod(J.mul(this.rinv));return U.red=null,U},l.prototype.imul=function E(J,U){if(J.isZero()||U.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.mul=function E(J,U){if(J.isZero()||U.isZero())return new G(0)._forceRed(this);var O=J.mul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.invm=function E(J){var U=this.imod(J._invmp(this.m).mul(this.r2));return U._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),v3=c0(($)=>{var Q=AV(),X=kX(),Z=$;Z.define=function V(G,z){return new Y(G,z)};function Y(V,G){this.name=V,this.body=G,this.decoders={},this.encoders={}}Y.prototype._createNamed=function V(G){var z;try{z=(()=>{throw new Error("Cannot require module "+"vm");})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch(L){z=function(A){this._initNamed(A)}}return X(z,G),z.prototype._initNamed=function L(A){G.call(this,A)},new z(this)},Y.prototype._getDecoder=function V(G){if(G=G||"der",!this.decoders.hasOwnProperty(G))this.decoders[G]=this._createNamed(Q.decoders[G]);return this.decoders[G]},Y.prototype.decode=function V(G,z,L){return this._getDecoder(z).decode(G,L)},Y.prototype._getEncoder=function V(G){if(G=G||"der",!this.encoders.hasOwnProperty(G))this.encoders[G]=this._createNamed(Q.encoders[G]);return this.encoders[G]},Y.prototype.encode=function V(G,z,L){return this._getEncoder(z).encode(G,L)}}),g3=c0(($)=>{var Q=kX();function X(Y){this._reporterState={obj:null,path:[],options:Y||{},errors:[]}}$.Reporter=X,X.prototype.isError=function Y(V){return V instanceof Z},X.prototype.save=function Y(){var V=this._reporterState;return{obj:V.obj,pathLen:V.path.length}},X.prototype.restore=function Y(V){var G=this._reporterState;G.obj=V.obj,G.path=G.path.slice(0,V.pathLen)},X.prototype.enterKey=function Y(V){return this._reporterState.path.push(V)},X.prototype.exitKey=function Y(V){var G=this._reporterState;G.path=G.path.slice(0,V-1)},X.prototype.leaveKey=function Y(V,G,z){var L=this._reporterState;if(this.exitKey(V),L.obj!==null)L.obj[G]=z},X.prototype.path=function Y(){return this._reporterState.path.join("/")},X.prototype.enterObject=function Y(){var V=this._reporterState,G=V.obj;return V.obj={},G},X.prototype.leaveObject=function Y(V){var G=this._reporterState,z=G.obj;return G.obj=V,z},X.prototype.error=function Y(V){var G,z=this._reporterState,L=V instanceof Z;if(L)G=V;else G=new Z(z.path.map(function(A){return"["+JSON.stringify(A)+"]"}).join(""),V.message||V,V.stack);if(!z.options.partial)throw G;if(!L)z.errors.push(G);return G},X.prototype.wrapResult=function Y(V){var G=this._reporterState;if(!G.options.partial)return V;return{result:this.isError(V)?null:V,errors:G.errors}};function Z(Y,V){this.path=Y,this.rethrow(V)}Q(Z,Error),Z.prototype.rethrow=function Y(V){if(this.message=V+" at: "+(this.path||"(shallow)"),Error.captureStackTrace)Error.captureStackTrace(this,Z);if(!this.stack)try{throw new Error(this.message)}catch(G){this.stack=G.stack}return this}}),Nq=c0(($)=>{var Q=kX(),X=MV().Reporter,Z=(c$(),X$(m$)).Buffer;function Y(G,z){if(X.call(this,z),!Z.isBuffer(G)){this.error("Input not Buffer");return}this.base=G,this.offset=0,this.length=G.length}Q(Y,X),$.DecoderBuffer=Y,Y.prototype.save=function G(){return{offset:this.offset,reporter:X.prototype.save.call(this)}},Y.prototype.restore=function G(z){var L=new Y(this.base);return L.offset=z.offset,L.length=this.offset,this.offset=z.offset,X.prototype.restore.call(this,z.reporter),L},Y.prototype.isEmpty=function G(){return this.offset===this.length},Y.prototype.readUInt8=function G(z){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,!0);else return this.error(z||"DecoderBuffer overrun")},Y.prototype.skip=function G(z,L){if(!(this.offset+z<=this.length))return this.error(L||"DecoderBuffer overrun");var A=new Y(this.base);return A._reporterState=this._reporterState,A.offset=this.offset,A.length=this.offset+z,this.offset+=z,A},Y.prototype.raw=function G(z){return this.base.slice(z?z.offset:this.offset,this.length)};function V(G,z){if(Array.isArray(G))this.length=0,this.value=G.map(function(L){if(!(L instanceof V))L=new V(L,z);return this.length+=L.length,L},this);else if(typeof G==="number"){if(!(0<=G&&G<=255))return z.error("non-byte EncoderBuffer value");this.value=G,this.length=1}else if(typeof G==="string")this.value=G,this.length=Z.byteLength(G);else if(Z.isBuffer(G))this.value=G,this.length=G.length;else return z.error("Unsupported type: "+typeof G)}$.EncoderBuffer=V,V.prototype.join=function G(z,L){if(!z)z=new Z(this.length);if(!L)L=0;if(this.length===0)return z;if(Array.isArray(this.value))this.value.forEach(function(A){A.join(z,L),L+=A.length});else{if(typeof this.value==="number")z[L]=this.value;else if(typeof this.value==="string")z.write(this.value,L);else if(Z.isBuffer(this.value))this.value.copy(z,L);L+=this.length}return z}}),y3=c0(($,Q)=>{var X=MV().Reporter,Z=MV().EncoderBuffer,Y=MV().DecoderBuffer,V=AJ(),G=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],z=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(G),L=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function A(C,q){var R={};if(this._baseState=R,R.enc=C,R.parent=q||null,R.children=null,R.tag=null,R.args=null,R.reverseArgs=null,R.choice=null,R.optional=!1,R.any=!1,R.obj=!1,R.use=null,R.useDecoder=null,R.key=null,R.default=null,R.explicit=null,R.implicit=null,R.contains=null,!R.parent)R.children=[],this._wrap()}Q.exports=A;var F=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];A.prototype.clone=function C(){var q=this._baseState,R={};F.forEach(function(S){R[S]=q[S]});var I=new this.constructor(R.parent);return I._baseState=R,I},A.prototype._wrap=function C(){var q=this._baseState;z.forEach(function(R){this[R]=function I(){var S=new this.constructor(this);return q.children.push(S),S[R].apply(S,arguments)}},this)},A.prototype._init=function C(q){var R=this._baseState;V(R.parent===null),q.call(this),R.children=R.children.filter(function(I){return I._baseState.parent===this},this),V.equal(R.children.length,1,"Root node can have only one child")},A.prototype._useArgs=function C(q){var R=this._baseState,I=q.filter(function(S){return S instanceof this.constructor},this);if(q=q.filter(function(S){return!(S instanceof this.constructor)},this),I.length!==0)V(R.children===null),R.children=I,I.forEach(function(S){S._baseState.parent=this},this);if(q.length!==0)V(R.args===null),R.args=q,R.reverseArgs=q.map(function(S){if(typeof S!=="object"||S.constructor!==Object)return S;var N={};return Object.keys(S).forEach(function(B){if(B==(B|0))B|=0;var _=S[B];N[_]=B}),N})},L.forEach(function(C){A.prototype[C]=function q(){var R=this._baseState;throw new Error(C+" not implemented for encoding: "+R.enc)}}),G.forEach(function(C){A.prototype[C]=function q(){var R=this._baseState,I=Array.prototype.slice.call(arguments);return V(R.tag===null),R.tag=C,this._useArgs(I),this}}),A.prototype.use=function C(q){V(q);var R=this._baseState;return V(R.use===null),R.use=q,this},A.prototype.optional=function C(){var q=this._baseState;return q.optional=!0,this},A.prototype.def=function C(q){var R=this._baseState;return V(R.default===null),R.default=q,R.optional=!0,this},A.prototype.explicit=function C(q){var R=this._baseState;return V(R.explicit===null&&R.implicit===null),R.explicit=q,this},A.prototype.implicit=function C(q){var R=this._baseState;return V(R.explicit===null&&R.implicit===null),R.implicit=q,this},A.prototype.obj=function C(){var q=this._baseState,R=Array.prototype.slice.call(arguments);if(q.obj=!0,R.length!==0)this._useArgs(R);return this},A.prototype.key=function C(q){var R=this._baseState;return V(R.key===null),R.key=q,this},A.prototype.any=function C(){var q=this._baseState;return q.any=!0,this},A.prototype.choice=function C(q){var R=this._baseState;return V(R.choice===null),R.choice=q,this._useArgs(Object.keys(q).map(function(I){return q[I]})),this},A.prototype.contains=function C(q){var R=this._baseState;return V(R.use===null),R.contains=q,this},A.prototype._decode=function C(q,R){var I=this._baseState;if(I.parent===null)return q.wrapResult(I.children[0]._decode(q,R));var S=I.default,N=!0,B=null;if(I.key!==null)B=q.enterKey(I.key);if(I.optional){var _=null;if(I.explicit!==null)_=I.explicit;else if(I.implicit!==null)_=I.implicit;else if(I.tag!==null)_=I.tag;if(_===null&&!I.any){var k=q.save();try{if(I.choice===null)this._decodeGeneric(I.tag,q,R);else this._decodeChoice(q,R);N=!0}catch(t){N=!1}q.restore(k)}else if(N=this._peekTag(q,_,I.any),q.isError(N))return N}var f;if(I.obj&&N)f=q.enterObject();if(N){if(I.explicit!==null){var v=this._decodeTag(q,I.explicit);if(q.isError(v))return v;q=v}var p=q.offset;if(I.use===null&&I.choice===null){if(I.any)var k=q.save();var c=this._decodeTag(q,I.implicit!==null?I.implicit:I.tag,I.any);if(q.isError(c))return c;if(I.any)S=q.raw(k);else q=c}if(R&&R.track&&I.tag!==null)R.track(q.path(),p,q.length,"tagged");if(R&&R.track&&I.tag!==null)R.track(q.path(),q.offset,q.length,"content");if(I.any)S=S;else if(I.choice===null)S=this._decodeGeneric(I.tag,q,R);else S=this._decodeChoice(q,R);if(q.isError(S))return S;if(!I.any&&I.choice===null&&I.children!==null)I.children.forEach(function t(h){h._decode(q,R)});if(I.contains&&(I.tag==="octstr"||I.tag==="bitstr")){var X0=new Y(S);S=this._getUse(I.contains,q._reporterState.obj)._decode(X0,R)}}if(I.obj&&N)S=q.leaveObject(f);if(I.key!==null&&(S!==null||N===!0))q.leaveKey(B,I.key,S);else if(B!==null)q.exitKey(B);return S},A.prototype._decodeGeneric=function C(q,R,I){var S=this._baseState;if(q==="seq"||q==="set")return null;if(q==="seqof"||q==="setof")return this._decodeList(R,q,S.args[0],I);else if(/str$/.test(q))return this._decodeStr(R,q,I);else if(q==="objid"&&S.args)return this._decodeObjid(R,S.args[0],S.args[1],I);else if(q==="objid")return this._decodeObjid(R,null,null,I);else if(q==="gentime"||q==="utctime")return this._decodeTime(R,q,I);else if(q==="null_")return this._decodeNull(R,I);else if(q==="bool")return this._decodeBool(R,I);else if(q==="objDesc")return this._decodeStr(R,q,I);else if(q==="int"||q==="enum")return this._decodeInt(R,S.args&&S.args[0],I);if(S.use!==null)return this._getUse(S.use,R._reporterState.obj)._decode(R,I);else return R.error("unknown tag: "+q)},A.prototype._getUse=function C(q,R){var I=this._baseState;if(I.useDecoder=this._use(q,R),V(I.useDecoder._baseState.parent===null),I.useDecoder=I.useDecoder._baseState.children[0],I.implicit!==I.useDecoder._baseState.implicit)I.useDecoder=I.useDecoder.clone(),I.useDecoder._baseState.implicit=I.implicit;return I.useDecoder},A.prototype._decodeChoice=function C(q,R){var I=this._baseState,S=null,N=!1;if(Object.keys(I.choice).some(function(B){var _=q.save(),k=I.choice[B];try{var f=k._decode(q,R);if(q.isError(f))return!1;S={type:B,value:f},N=!0}catch(v){return q.restore(_),!1}return!0},this),!N)return q.error("Choice not matched");return S},A.prototype._createEncoderBuffer=function C(q){return new Z(q,this.reporter)},A.prototype._encode=function C(q,R,I){var S=this._baseState;if(S.default!==null&&S.default===q)return;var N=this._encodeValue(q,R,I);if(N===void 0)return;if(this._skipDefault(N,R,I))return;return N},A.prototype._encodeValue=function C(q,R,I){var S=this._baseState;if(S.parent===null)return S.children[0]._encode(q,R||new X);var k=null;if(this.reporter=R,S.optional&&q===void 0)if(S.default!==null)q=S.default;else return;var N=null,B=!1;if(S.any)k=this._createEncoderBuffer(q);else if(S.choice)k=this._encodeChoice(q,R);else if(S.contains)N=this._getUse(S.contains,I)._encode(q,R),B=!0;else if(S.children)N=S.children.map(function(p){if(p._baseState.tag==="null_")return p._encode(null,R,q);if(p._baseState.key===null)return R.error("Child should have a key");var c=R.enterKey(p._baseState.key);if(typeof q!=="object")return R.error("Child expected, but input is not object");var X0=p._encode(q[p._baseState.key],R,q);return R.leaveKey(c),X0},this).filter(function(p){return p}),N=this._createEncoderBuffer(N);else if(S.tag==="seqof"||S.tag==="setof"){if(!(S.args&&S.args.length===1))return R.error("Too many args for : "+S.tag);if(!Array.isArray(q))return R.error("seqof/setof, but data is not Array");var _=this.clone();_._baseState.implicit=null,N=this._createEncoderBuffer(q.map(function(p){var c=this._baseState;return this._getUse(c.args[0],q)._encode(p,R)},_))}else if(S.use!==null)k=this._getUse(S.use,I)._encode(q,R);else N=this._encodePrimitive(S.tag,q),B=!0;var k;if(!S.any&&S.choice===null){var f=S.implicit!==null?S.implicit:S.tag,v=S.implicit===null?"universal":"context";if(f===null){if(S.use===null)R.error("Tag could be omitted only for .use()")}else if(S.use===null)k=this._encodeComposite(f,B,v,N)}if(S.explicit!==null)k=this._encodeComposite(S.explicit,!1,"context",k);return k},A.prototype._encodeChoice=function C(q,R){var I=this._baseState,S=I.choice[q.type];if(!S)V(!1,q.type+" not found in "+JSON.stringify(Object.keys(I.choice)));return S._encode(q.value,R)},A.prototype._encodePrimitive=function C(q,R){var I=this._baseState;if(/str$/.test(q))return this._encodeStr(R,q);else if(q==="objid"&&I.args)return this._encodeObjid(R,I.reverseArgs[0],I.args[1]);else if(q==="objid")return this._encodeObjid(R,null,null);else if(q==="gentime"||q==="utctime")return this._encodeTime(R,q);else if(q==="null_")return this._encodeNull();else if(q==="int"||q==="enum")return this._encodeInt(R,I.args&&I.reverseArgs[0]);else if(q==="bool")return this._encodeBool(R);else if(q==="objDesc")return this._encodeStr(R,q);else throw new Error("Unsupported tag: "+q)},A.prototype._isNumstr=function C(q){return/^[0-9 ]*$/.test(q)},A.prototype._isPrintstr=function C(q){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(q)}}),MV=c0(($)=>{var Q=$;Q.Reporter=g3().Reporter,Q.DecoderBuffer=Nq().DecoderBuffer,Q.EncoderBuffer=Nq().EncoderBuffer,Q.Node=y3()}),h3=c0(($)=>{var Q=yq();$.tagClass={0:"universal",1:"application",2:"context",3:"private"},$.tagClassByName=Q._reverse($.tagClass),$.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},$.tagByName=Q._reverse($.tag)}),yq=c0(($)=>{var Q=$;Q._reverse=function X(Z){var Y={};return Object.keys(Z).forEach(function(V){if((V|0)==V)V=V|0;var G=Z[V];Y[G]=V}),Y},Q.der=h3()}),hq=c0(($,Q)=>{var X=kX(),Z=AV(),Y=Z.base,V=Z.bignum,G=Z.constants.der;function z(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new L,this.tree._init(C.body)}Q.exports=z,z.prototype.decode=function C(q,R){if(!(q instanceof Y.DecoderBuffer))q=new Y.DecoderBuffer(q,R);return this.tree._decode(q,R)};function L(C){Y.Node.call(this,"der",C)}X(L,Y.Node),L.prototype._peekTag=function C(q,R,I){if(q.isEmpty())return!1;var S=q.save(),N=A(q,'Failed to peek tag: "'+R+'"');if(q.isError(N))return N;return q.restore(S),N.tag===R||N.tagStr===R||N.tagStr+"of"===R||I},L.prototype._decodeTag=function C(q,R,I){var S=A(q,'Failed to decode tag of "'+R+'"');if(q.isError(S))return S;var N=F(q,S.primitive,'Failed to get length of "'+R+'"');if(q.isError(N))return N;if(!I&&S.tag!==R&&S.tagStr!==R&&S.tagStr+"of"!==R)return q.error('Failed to match tag: "'+R+'"');if(S.primitive||N!==null)return q.skip(N,'Failed to match body of: "'+R+'"');var B=q.save(),_=this._skipUntilEnd(q,'Failed to skip indefinite length body: "'+this.tag+'"');if(q.isError(_))return _;return N=q.offset-B.offset,q.restore(B),q.skip(N,'Failed to match body of: "'+R+'"')},L.prototype._skipUntilEnd=function C(q,R){while(!0){var I=A(q,R);if(q.isError(I))return I;var S=F(q,I.primitive,R);if(q.isError(S))return S;var N;if(I.primitive||S!==null)N=q.skip(S);else N=this._skipUntilEnd(q,R);if(q.isError(N))return N;if(I.tagStr==="end")break}},L.prototype._decodeList=function C(q,R,I,S){var N=[];while(!q.isEmpty()){var B=this._peekTag(q,"end");if(q.isError(B))return B;var _=I.decode(q,"der",S);if(q.isError(_)&&B)break;N.push(_)}return N},L.prototype._decodeStr=function C(q,R){if(R==="bitstr"){var I=q.readUInt8();if(q.isError(I))return I;return{unused:I,data:q.raw()}}else if(R==="bmpstr"){var S=q.raw();if(S.length%2===1)return q.error("Decoding of string type: bmpstr length mismatch");var N="";for(var B=0;B<S.length/2;B++)N+=String.fromCharCode(S.readUInt16BE(B*2));return N}else if(R==="numstr"){var _=q.raw().toString("ascii");if(!this._isNumstr(_))return q.error("Decoding of string type: numstr unsupported characters");return _}else if(R==="octstr")return q.raw();else if(R==="objDesc")return q.raw();else if(R==="printstr"){var k=q.raw().toString("ascii");if(!this._isPrintstr(k))return q.error("Decoding of string type: printstr unsupported characters");return k}else if(/str$/.test(R))return q.raw().toString();else return q.error("Decoding of string type: "+R+" unsupported")},L.prototype._decodeObjid=function C(q,R,I){var S,N=[],B=0;while(!q.isEmpty()){var _=q.readUInt8();if(B<<=7,B|=_&127,(_&128)===0)N.push(B),B=0}if(_&128)N.push(B);var k=N[0]/40|0,f=N[0]%40;if(I)S=N;else S=[k,f].concat(N.slice(1));if(R){var v=R[S.join(" ")];if(v===void 0)v=R[S.join(".")];if(v!==void 0)S=v}return S},L.prototype._decodeTime=function C(q,R){var I=q.raw().toString();if(R==="gentime")var S=I.slice(0,4)|0,N=I.slice(4,6)|0,B=I.slice(6,8)|0,_=I.slice(8,10)|0,k=I.slice(10,12)|0,f=I.slice(12,14)|0;else if(R==="utctime"){var S=I.slice(0,2)|0,N=I.slice(2,4)|0,B=I.slice(4,6)|0,_=I.slice(6,8)|0,k=I.slice(8,10)|0,f=I.slice(10,12)|0;if(S<70)S=2000+S;else S=1900+S}else return q.error("Decoding "+R+" time is not supported yet");return Date.UTC(S,N-1,B,_,k,f,0)},L.prototype._decodeNull=function C(q){return null},L.prototype._decodeBool=function C(q){var R=q.readUInt8();if(q.isError(R))return R;else return R!==0},L.prototype._decodeInt=function C(q,R){var I=q.raw(),S=new V(I);if(R)S=R[S.toString(10)]||S;return S},L.prototype._use=function C(q,R){if(typeof q==="function")q=q(R);return q._getDecoder("der").tree};function A(C,q){var R=C.readUInt8(q);if(C.isError(R))return R;var I=G.tagClass[R>>6],S=(R&32)===0;if((R&31)===31){var N=R;R=0;while((N&128)===128){if(N=C.readUInt8(q),C.isError(N))return N;R<<=7,R|=N&127}}else R&=31;var B=G.tag[R];return{cls:I,primitive:S,tag:R,tagStr:B}}function F(C,q,R){var I=C.readUInt8(R);if(C.isError(I))return I;if(!q&&I===128)return null;if((I&128)===0)return I;var S=I&127;if(S>4)return C.error("length octect is too long");I=0;for(var N=0;N<S;N++){I<<=8;var B=C.readUInt8(R);if(C.isError(B))return B;I|=B}return I}}),b3=c0(($,Q)=>{var X=kX(),Z=(c$(),X$(m$)).Buffer,Y=hq();function V(G){Y.call(this,G),this.enc="pem"}X(V,Y),Q.exports=V,V.prototype.decode=function G(z,L){var A=z.toString().split(/[\r\n]+/g),F=L.label.toUpperCase(),C=/^-----(BEGIN|END) ([^-]+)-----$/,q=-1,R=-1;for(var I=0;I<A.length;I++){var S=A[I].match(C);if(S===null)continue;if(S[2]!==F)continue;if(q===-1){if(S[1]!=="BEGIN")break;q=I}else{if(S[1]!=="END")break;R=I;break}}if(q===-1||R===-1)throw new Error("PEM section not found for: "+F);var N=A.slice(q+1,R).join("");N.replace(/[^a-z0-9\+\/=]+/gi,"");var B=new Z(N,"base64");return Y.prototype.decode.call(this,B,L)}}),p3=c0(($)=>{var Q=$;Q.der=hq(),Q.pem=b3()}),bq=c0(($,Q)=>{var X=kX(),Z=(c$(),X$(m$)).Buffer,Y=AV(),V=Y.base,G=Y.constants.der;function z(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new L,this.tree._init(C.body)}Q.exports=z,z.prototype.encode=function C(q,R){return this.tree._encode(q,R).join()};function L(C){V.Node.call(this,"der",C)}X(L,V.Node),L.prototype._encodeComposite=function C(q,R,I,S){var N=F(q,R,I,this.reporter);if(S.length<128){var k=new Z(2);return k[0]=N,k[1]=S.length,this._createEncoderBuffer([k,S])}var B=1;for(var _=S.length;_>=256;_>>=8)B++;var k=new Z(2+B);k[0]=N,k[1]=128|B;for(var _=1+B,f=S.length;f>0;_--,f>>=8)k[_]=f&255;return this._createEncoderBuffer([k,S])},L.prototype._encodeStr=function C(q,R){if(R==="bitstr")return this._createEncoderBuffer([q.unused|0,q.data]);else if(R==="bmpstr"){var I=new Z(q.length*2);for(var S=0;S<q.length;S++)I.writeUInt16BE(q.charCodeAt(S),S*2);return this._createEncoderBuffer(I)}else if(R==="numstr"){if(!this._isNumstr(q))return this.reporter.error("Encoding of string type: numstr supports only digits and space");return this._createEncoderBuffer(q)}else if(R==="printstr"){if(!this._isPrintstr(q))return this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark");return this._createEncoderBuffer(q)}else if(/str$/.test(R))return this._createEncoderBuffer(q);else if(R==="objDesc")return this._createEncoderBuffer(q);else return this.reporter.error("Encoding of string type: "+R+" unsupported")},L.prototype._encodeObjid=function C(q,R,I){if(typeof q==="string"){if(!R)return this.reporter.error("string objid given, but no values map found");if(!R.hasOwnProperty(q))return this.reporter.error("objid not found in values map");q=R[q].split(/[\s\.]+/g);for(var S=0;S<q.length;S++)q[S]|=0}else if(Array.isArray(q)){q=q.slice();for(var S=0;S<q.length;S++)q[S]|=0}if(!Array.isArray(q))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(q));if(!I){if(q[1]>=40)return this.reporter.error("Second objid identifier OOB");q.splice(0,2,q[0]*40+q[1])}var N=0;for(var S=0;S<q.length;S++){var B=q[S];for(N++;B>=128;B>>=7)N++}var _=new Z(N),k=_.length-1;for(var S=q.length-1;S>=0;S--){var B=q[S];_[k--]=B&127;while((B>>=7)>0)_[k--]=128|B&127}return this._createEncoderBuffer(_)};function A(C){if(C<10)return"0"+C;else return C}L.prototype._encodeTime=function C(q,R){var I,S=new Date(q);if(R==="gentime")I=[A(S.getFullYear()),A(S.getUTCMonth()+1),A(S.getUTCDate()),A(S.getUTCHours()),A(S.getUTCMinutes()),A(S.getUTCSeconds()),"Z"].join("");else if(R==="utctime")I=[A(S.getFullYear()%100),A(S.getUTCMonth()+1),A(S.getUTCDate()),A(S.getUTCHours()),A(S.getUTCMinutes()),A(S.getUTCSeconds()),"Z"].join("");else this.reporter.error("Encoding "+R+" time is not supported yet");return this._encodeStr(I,"octstr")},L.prototype._encodeNull=function C(){return this._createEncoderBuffer("")},L.prototype._encodeInt=function C(q,R){if(typeof q==="string"){if(!R)return this.reporter.error("String int or enum given, but no values map");if(!R.hasOwnProperty(q))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(q));q=R[q]}if(typeof q!=="number"&&!Z.isBuffer(q)){var I=q.toArray();if(!q.sign&&I[0]&128)I.unshift(0);q=new Z(I)}if(Z.isBuffer(q)){var S=q.length;if(q.length===0)S++;var B=new Z(S);if(q.copy(B),q.length===0)B[0]=0;return this._createEncoderBuffer(B)}if(q<128)return this._createEncoderBuffer(q);if(q<256)return this._createEncoderBuffer([0,q]);var S=1;for(var N=q;N>=256;N>>=8)S++;var B=new Array(S);for(var N=B.length-1;N>=0;N--)B[N]=q&255,q>>=8;if(B[0]&128)B.unshift(0);return this._createEncoderBuffer(new Z(B))},L.prototype._encodeBool=function C(q){return this._createEncoderBuffer(q?255:0)},L.prototype._use=function C(q,R){if(typeof q==="function")q=q(R);return q._getEncoder("der").tree},L.prototype._skipDefault=function C(q,R,I){var S=this._baseState,N;if(S.default===null)return!1;var B=q.join();if(S.defaultBuffer===void 0)S.defaultBuffer=this._encodeValue(S.default,R,I).join();if(B.length!==S.defaultBuffer.length)return!1;for(N=0;N<B.length;N++)if(B[N]!==S.defaultBuffer[N])return!1;return!0};function F(C,q,R,I){var S;if(C==="seqof")C="seq";else if(C==="setof")C="set";if(G.tagByName.hasOwnProperty(C))S=G.tagByName[C];else if(typeof C==="number"&&(C|0)===C)S=C;else return I.error("Unknown tag: "+C);if(S>=31)return I.error("Multi-octet tag encoding unsupported");if(!q)S|=32;return S|=G.tagClassByName[R||"universal"]<<6,S}}),m3=c0(($,Q)=>{var X=kX(),Z=bq();function Y(V){Z.call(this,V),this.enc="pem"}X(Y,Z),Q.exports=Y,Y.prototype.encode=function V(G,z){var L=Z.prototype.encode.call(this,G),A=L.toString("base64"),F=["-----BEGIN "+z.label+"-----"];for(var C=0;C<A.length;C+=64)F.push(A.slice(C,C+64));return F.push("-----END "+z.label+"-----"),F.join(`
`)}}),c3=c0(($)=>{var Q=$;Q.der=bq(),Q.pem=m3()}),AV=c0(($)=>{var Q=$;Q.bignum=f3(),Q.define=v3().define,Q.base=MV(),Q.constants=yq(),Q.decoders=p3(),Q.encoders=c3()}),u3=c0(($,Q)=>{var X=AV(),Z=X.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Y=X.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),V=X.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),G=X.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(V),this.key("subjectPublicKey").bitstr())}),z=X.define("RelativeDistinguishedName",function(){this.setof(Y)}),L=X.define("RDNSequence",function(){this.seqof(z)}),A=X.define("Name",function(){this.choice({rdnSequence:this.use(L)})}),F=X.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Z),this.key("notAfter").use(Z))}),C=X.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),q=X.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(V),this.key("issuer").use(A),this.key("validity").use(F),this.key("subject").use(A),this.key("subjectPublicKeyInfo").use(G),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(C).optional())}),R=X.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(q),this.key("signatureAlgorithm").use(V),this.key("signatureValue").bitstr())});Q.exports=R}),d3=c0(($)=>{var Q=AV();$.certificate=u3();var X=Q.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$.RSAPrivateKey=X;var Z=Q.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$.RSAPublicKey=Z;var Y=Q.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),V=Q.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Y),this.key("subjectPublicKey").bitstr())});$.PublicKey=V;var G=Q.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Y),this.key("subjectPrivateKey").octstr())});$.PrivateKey=G;var z=Q.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$.EncryptedPrivateKey=z;var L=Q.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$.DSAPrivateKey=L,$.DSAparam=Q.define("DSAparam",function(){this.int()});var A=Q.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),F=Q.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())});$.ECPrivateKey=F,$.signature=Q.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),l3=c0(($,Q)=>{Q.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),o3=c0(($,Q)=>{var X=FX().Buffer,Z=I5().Transform,Y=kX();function V(A){Z.call(this),this._block=X.allocUnsafe(A),this._blockSize=A,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Y(V,Z),V.prototype._transform=function(A,F,C){var q=null;try{this.update(A,F)}catch(R){q=R}C(q)},V.prototype._flush=function(A){var F=null;try{this.push(this.digest())}catch(C){F=C}A(F)};var G=typeof Uint8Array!=="undefined",z=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&ArrayBuffer.isView&&(X.prototype instanceof Uint8Array||X.TYPED_ARRAY_SUPPORT);function L(A,F){if(A instanceof X)return A;if(typeof A==="string")return X.from(A,F);if(z&&ArrayBuffer.isView(A)){if(A.byteLength===0)return X.alloc(0);var C=X.from(A.buffer,A.byteOffset,A.byteLength);if(C.byteLength===A.byteLength)return C}if(G&&A instanceof Uint8Array)return X.from(A);if(X.isBuffer(A)&&A.constructor&&typeof A.constructor.isBuffer==="function"&&A.constructor.isBuffer(A))return X.from(A);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}V.prototype.update=function(A,F){if(this._finalized)throw new Error("Digest already called");A=L(A,F);var C=this._block,q=0;while(this._blockOffset+A.length-q>=this._blockSize){for(var R=this._blockOffset;R<this._blockSize;)C[R++]=A[q++];this._update(),this._blockOffset=0}while(q<A.length)C[this._blockOffset++]=A[q++];for(var I=0,S=A.length*8;S>0;++I)if(this._length[I]+=S,S=this._length[I]/4294967296|0,S>0)this._length[I]-=4294967296*S;return this},V.prototype._update=function(){throw new Error("_update is not implemented")},V.prototype.digest=function(A){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var F=this._digest();if(A!==void 0)F=F.toString(A);this._block.fill(0),this._blockOffset=0;for(var C=0;C<4;++C)this._length[C]=0;return F},V.prototype._digest=function(){throw new Error("_digest is not implemented")},Q.exports=V}),n3=c0(($,Q)=>{var X=kX(),Z=o3(),Y=FX().Buffer,V=new Array(16);function G(){Z.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}X(G,Z),G.prototype._update=function(){var q=V;for(var R=0;R<16;++R)q[R]=this._block.readInt32LE(R*4);var I=this._a,S=this._b,N=this._c,B=this._d;I=L(I,S,N,B,q[0],3614090360,7),B=L(B,I,S,N,q[1],3905402710,12),N=L(N,B,I,S,q[2],606105819,17),S=L(S,N,B,I,q[3],3250441966,22),I=L(I,S,N,B,q[4],4118548399,7),B=L(B,I,S,N,q[5],1200080426,12),N=L(N,B,I,S,q[6],2821735955,17),S=L(S,N,B,I,q[7],4249261313,22),I=L(I,S,N,B,q[8],1770035416,7),B=L(B,I,S,N,q[9],2336552879,12),N=L(N,B,I,S,q[10],4294925233,17),S=L(S,N,B,I,q[11],2304563134,22),I=L(I,S,N,B,q[12],1804603682,7),B=L(B,I,S,N,q[13],4254626195,12),N=L(N,B,I,S,q[14],2792965006,17),S=L(S,N,B,I,q[15],1236535329,22),I=A(I,S,N,B,q[1],4129170786,5),B=A(B,I,S,N,q[6],3225465664,9),N=A(N,B,I,S,q[11],643717713,14),S=A(S,N,B,I,q[0],3921069994,20),I=A(I,S,N,B,q[5],3593408605,5),B=A(B,I,S,N,q[10],38016083,9),N=A(N,B,I,S,q[15],3634488961,14),S=A(S,N,B,I,q[4],3889429448,20),I=A(I,S,N,B,q[9],568446438,5),B=A(B,I,S,N,q[14],3275163606,9),N=A(N,B,I,S,q[3],4107603335,14),S=A(S,N,B,I,q[8],1163531501,20),I=A(I,S,N,B,q[13],2850285829,5),B=A(B,I,S,N,q[2],4243563512,9),N=A(N,B,I,S,q[7],1735328473,14),S=A(S,N,B,I,q[12],2368359562,20),I=F(I,S,N,B,q[5],4294588738,4),B=F(B,I,S,N,q[8],2272392833,11),N=F(N,B,I,S,q[11],1839030562,16),S=F(S,N,B,I,q[14],4259657740,23),I=F(I,S,N,B,q[1],2763975236,4),B=F(B,I,S,N,q[4],1272893353,11),N=F(N,B,I,S,q[7],4139469664,16),S=F(S,N,B,I,q[10],3200236656,23),I=F(I,S,N,B,q[13],681279174,4),B=F(B,I,S,N,q[0],3936430074,11),N=F(N,B,I,S,q[3],3572445317,16),S=F(S,N,B,I,q[6],76029189,23),I=F(I,S,N,B,q[9],3654602809,4),B=F(B,I,S,N,q[12],3873151461,11),N=F(N,B,I,S,q[15],530742520,16),S=F(S,N,B,I,q[2],3299628645,23),I=C(I,S,N,B,q[0],4096336452,6),B=C(B,I,S,N,q[7],1126891415,10),N=C(N,B,I,S,q[14],2878612391,15),S=C(S,N,B,I,q[5],4237533241,21),I=C(I,S,N,B,q[12],1700485571,6),B=C(B,I,S,N,q[3],2399980690,10),N=C(N,B,I,S,q[10],4293915773,15),S=C(S,N,B,I,q[1],2240044497,21),I=C(I,S,N,B,q[8],1873313359,6),B=C(B,I,S,N,q[15],4264355552,10),N=C(N,B,I,S,q[6],2734768916,15),S=C(S,N,B,I,q[13],1309151649,21),I=C(I,S,N,B,q[4],4149444226,6),B=C(B,I,S,N,q[11],3174756917,10),N=C(N,B,I,S,q[2],718787259,15),S=C(S,N,B,I,q[9],3951481745,21),this._a=this._a+I|0,this._b=this._b+S|0,this._c=this._c+N|0,this._d=this._d+B|0},G.prototype._digest=function(){if(this._block[this._blockOffset++]=128,this._blockOffset>56)this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0;this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var q=Y.allocUnsafe(16);return q.writeInt32LE(this._a,0),q.writeInt32LE(this._b,4),q.writeInt32LE(this._c,8),q.writeInt32LE(this._d,12),q};function z(q,R){return q<<R|q>>>32-R}function L(q,R,I,S,N,B,_){return z(q+(R&I|~R&S)+N+B|0,_)+R|0}function A(q,R,I,S,N,B,_){return z(q+(R&S|I&~S)+N+B|0,_)+R|0}function F(q,R,I,S,N,B,_){return z(q+(R^I^S)+N+B|0,_)+R|0}function C(q,R,I,S,N,B,_){return z(q+(I^(R|~S))+N+B|0,_)+R|0}Q.exports=G}),s3=c0(($,Q)=>{var X=FX().Buffer,Z=n3();function Y(V,G,z,L){if(!X.isBuffer(V))V=X.from(V,"binary");if(G){if(!X.isBuffer(G))G=X.from(G,"binary");if(G.length!==8)throw new RangeError("salt should be Buffer with 8 byte length")}var A=z/8,F=X.alloc(A),C=X.alloc(L||0),q=X.alloc(0);while(A>0||L>0){var R=new Z;if(R.update(q),R.update(V),G)R.update(G);q=R.digest();var I=0;if(A>0){var S=F.length-A;I=Math.min(A,q.length),q.copy(F,S,0,I),A-=I}if(I<q.length&&L>0){var N=C.length-L,B=Math.min(L,q.length-I);q.copy(C,N,I,I+B),L-=B}}return q.fill(0),{key:F,iv:C}}Q.exports=Y}),pq=c0(($)=>{var Q=(WX(),X$(GX));$.createCipher=$.Cipher=Q.createCipher,$.createCipheriv=$.Cipheriv=Q.createCipheriv,$.createDecipher=$.Decipher=Q.createDecipher,$.createDecipheriv=$.Decipheriv=Q.createDecipheriv,$.listCiphers=$.getCiphers=Q.getCiphers}),i3=c0(($,Q)=>{var X=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Z=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Y=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,V=s3(),G=pq(),z=FX().Buffer;Q.exports=function(L,A){var F=L.toString(),C=F.match(X),q;if(!C){var R=F.match(Y);q=z.from(R[2].replace(/[\r\n]/g,""),"base64")}else{var I="aes"+C[1],S=z.from(C[2],"hex"),N=z.from(C[3].replace(/[\r\n]/g,""),"base64"),B=V(A,S.slice(0,8),parseInt(C[1],10)).key,_=[],k=G.createDecipheriv(I,B,S);_.push(k.update(N)),_.push(k.final()),q=z.concat(_)}var f=F.match(Z)[1];return{tag:f,data:q}}}),mq=c0(($,Q)=>{var X=d3(),Z=l3(),Y=i3(),V=pq(),G=_q(),z=FX().Buffer;function L(F,C){var q=F.algorithm.decrypt.kde.kdeparams.salt,R=parseInt(F.algorithm.decrypt.kde.kdeparams.iters.toString(),10),I=Z[F.algorithm.decrypt.cipher.algo.join(".")],S=F.algorithm.decrypt.cipher.iv,N=F.subjectPrivateKey,B=parseInt(I.split("-")[1],10)/8,_=G.pbkdf2Sync(C,q,R,B,"sha1"),k=V.createDecipheriv(I,_,S),f=[];return f.push(k.update(N)),f.push(k.final()),z.concat(f)}function A(F){var C;if(typeof F==="object"&&!z.isBuffer(F))C=F.passphrase,F=F.key;if(typeof F==="string")F=z.from(F);var q=Y(F,C),R=q.tag,I=q.data,S,N;switch(R){case"CERTIFICATE":N=X.certificate.decode(I,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!N)N=X.PublicKey.decode(I,"der");switch(S=N.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return X.RSAPublicKey.decode(N.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return N.subjectPrivateKey=N.subjectPublicKey,{type:"ec",data:N};case"1.2.840.10040.4.1":return N.algorithm.params.pub_key=X.DSAparam.decode(N.subjectPublicKey.data,"der"),{type:"dsa",data:N.algorithm.params};default:throw new Error("unknown key id "+S)}case"ENCRYPTED PRIVATE KEY":I=X.EncryptedPrivateKey.decode(I,"der"),I=L(I,C);case"PRIVATE KEY":switch(N=X.PrivateKey.decode(I,"der"),S=N.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return X.RSAPrivateKey.decode(N.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:N.algorithm.curve,privateKey:X.ECPrivateKey.decode(N.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return N.algorithm.params.priv_key=X.DSAparam.decode(N.subjectPrivateKey,"der"),{type:"dsa",params:N.algorithm.params};default:throw new Error("unknown key id "+S)}case"RSA PUBLIC KEY":return X.RSAPublicKey.decode(I,"der");case"RSA PRIVATE KEY":return X.RSAPrivateKey.decode(I,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:X.DSAPrivateKey.decode(I,"der")};case"EC PRIVATE KEY":return I=X.ECPrivateKey.decode(I,"der"),{curve:I.parameters.value,privateKey:I.privateKey};default:throw new Error("unknown key type "+R)}}A.signature=X.signature,Q.exports=A}),cq=c0(($,Q)=>{var X=HU(),Z=FX().Buffer;Q.exports=function(V,G){var z=Z.alloc(0),L=0,A;while(z.length<G)A=Y(L++),z=Z.concat([z,X("sha1").update(V).update(A).digest()]);return z.slice(0,G)};function Y(V){var G=Z.allocUnsafe(4);return G.writeUInt32BE(V,0),G}}),uq=c0(($,Q)=>{Q.exports=function X(Z,Y){var V=Z.length,G=-1;while(++G<V)Z[G]^=Y[G];return Z}}),x5=c0(($,Q)=>{(function(X,Z){function Y(E,J){if(!E)throw new Error(J||"Assertion failed")}function V(E,J){E.super_=J;var U=function(){};U.prototype=J.prototype,E.prototype=new U,E.prototype.constructor=E}function G(E,J,U){if(G.isBN(E))return E;if(this.negative=0,this.words=null,this.length=0,this.red=null,E!==null){if(J==="le"||J==="be")U=J,J=10;this._init(E||0,J||10,U||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var z;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")z=window.Buffer;else z=(c$(),X$(m$)).Buffer}catch(E){}G.isBN=function E(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function E(J,U){if(J.cmp(U)>0)return J;return U},G.min=function E(J,U){if(J.cmp(U)<0)return J;return U},G.prototype._init=function E(J,U,O){if(typeof J==="number")return this._initNumber(J,U,O);if(typeof J==="object")return this._initArray(J,U,O);if(U==="hex")U=16;Y(U===(U|0)&&U>=2&&U<=36),J=J.toString().replace(/\s+/g,"");var K=0;if(J[0]==="-")K++,this.negative=1;if(K<J.length){if(U===16)this._parseHex(J,K,O);else if(this._parseBase(J,U,K),O==="le")this._initArray(this.toArray(),U,O)}},G.prototype._initNumber=function E(J,U,O){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else Y(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(O!=="le")return;this._initArray(this.toArray(),U,O)},G.prototype._initArray=function E(J,U,O){if(Y(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H,T,P=0;if(O==="be"){for(K=J.length-1,H=0;K>=0;K-=3)if(T=J[K]|J[K-1]<<8|J[K-2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}else if(O==="le"){for(K=0,H=0;K<J.length;K+=3)if(T=J[K]|J[K+1]<<8|J[K+2]<<16,this.words[H]|=T<<P&67108863,this.words[H+1]=T>>>26-P&67108863,P+=24,P>=26)P-=26,H++}return this.strip()};function L(E,J){var U=E.charCodeAt(J);if(U>=65&&U<=70)return U-55;else if(U>=97&&U<=102)return U-87;else return U-48&15}function A(E,J,U){var O=L(E,U);if(U-1>=J)O|=L(E,U-1)<<4;return O}G.prototype._parseHex=function E(J,U,O){this.length=Math.ceil((J.length-U)/6),this.words=new Array(this.length);for(var K=0;K<this.length;K++)this.words[K]=0;var H=0,T=0,P;if(O==="be")for(K=J.length-1;K>=U;K-=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8;else{var D=J.length-U;for(K=D%2===0?U+1:U;K<J.length;K+=2)if(P=A(J,U,K)<<H,this.words[T]|=P&67108863,H>=18)H-=18,T+=1,this.words[T]|=P>>>26;else H+=8}this.strip()};function F(E,J,U,O){var K=0,H=Math.min(E.length,U);for(var T=J;T<H;T++){var P=E.charCodeAt(T)-48;if(K*=O,P>=49)K+=P-49+10;else if(P>=17)K+=P-17+10;else K+=P}return K}G.prototype._parseBase=function E(J,U,O){this.words=[0],this.length=1;for(var K=0,H=1;H<=67108863;H*=U)K++;K--,H=H/U|0;var T=J.length-O,P=T%K,D=Math.min(T,T-P)+O,W=0;for(var M=O;M<D;M+=K)if(W=F(J,M,M+K,U),this.imuln(H),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W);if(P!==0){var w=1;W=F(J,M,J.length,U);for(M=0;M<P;M++)w*=U;if(this.imuln(w),this.words[0]+W<67108864)this.words[0]+=W;else this._iaddn(W)}this.strip()},G.prototype.copy=function E(J){J.words=new Array(this.length);for(var U=0;U<this.length;U++)J.words[U]=this.words[U];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function E(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function E(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function E(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function E(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function E(J,U){J=J||10,U=U|0||1;var O;if(J===16||J==="hex"){O="";var K=0,H=0;for(var T=0;T<this.length;T++){var P=this.words[T],D=((P<<K|H)&16777215).toString(16);if(H=P>>>24-K&16777215,K+=2,K>=26)K-=26,T--;if(H!==0||T!==this.length-1)O=C[6-D.length]+D+O;else O=D+O}if(H!==0)O=H.toString(16)+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}if(J===(J|0)&&J>=2&&J<=36){var W=q[J],M=R[J];O="";var w=this.clone();w.negative=0;while(!w.isZero()){var j=w.modn(M).toString(J);if(w=w.idivn(M),!w.isZero())O=C[W-j.length]+j+O;else O=j+O}if(this.isZero())O="0"+O;while(O.length%U!==0)O="0"+O;if(this.negative!==0)O="-"+O;return O}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function E(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function E(){return this.toString(16)},G.prototype.toBuffer=function E(J,U){return Y(typeof z!=="undefined"),this.toArrayLike(z,J,U)},G.prototype.toArray=function E(J,U){return this.toArrayLike(Array,J,U)},G.prototype.toArrayLike=function E(J,U,O){var K=this.byteLength(),H=O||Math.max(1,K);Y(K<=H,"byte array longer than desired length"),Y(H>0,"Requested array length <= 0"),this.strip();var T=U==="le",P=new J(H),D,W,M=this.clone();if(!T){for(W=0;W<H-K;W++)P[W]=0;for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[H-W-1]=D}else{for(W=0;!M.isZero();W++)D=M.andln(255),M.iushrn(8),P[W]=D;for(;W<H;W++)P[W]=0}return P},Math.clz32)G.prototype._countBits=function E(J){return 32-Math.clz32(J)};else G.prototype._countBits=function E(J){var U=J,O=0;if(U>=4096)O+=13,U>>>=13;if(U>=64)O+=7,U>>>=7;if(U>=8)O+=4,U>>>=4;if(U>=2)O+=2,U>>>=2;return O+U};G.prototype._zeroBits=function E(J){if(J===0)return 26;var U=J,O=0;if((U&8191)===0)O+=13,U>>>=13;if((U&127)===0)O+=7,U>>>=7;if((U&15)===0)O+=4,U>>>=4;if((U&3)===0)O+=2,U>>>=2;if((U&1)===0)O++;return O},G.prototype.bitLength=function E(){var J=this.words[this.length-1],U=this._countBits(J);return(this.length-1)*26+U};function I(E){var J=new Array(E.bitLength());for(var U=0;U<J.length;U++){var O=U/26|0,K=U%26;J[U]=(E.words[O]&1<<K)>>>K}return J}G.prototype.zeroBits=function E(){if(this.isZero())return 0;var J=0;for(var U=0;U<this.length;U++){var O=this._zeroBits(this.words[U]);if(J+=O,O!==26)break}return J},G.prototype.byteLength=function E(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function E(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function E(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function E(){return this.negative!==0},G.prototype.neg=function E(){return this.clone().ineg()},G.prototype.ineg=function E(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function E(J){while(this.length<J.length)this.words[this.length++]=0;for(var U=0;U<J.length;U++)this.words[U]=this.words[U]|J.words[U];return this.strip()},G.prototype.ior=function E(J){return Y((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function E(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function E(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function E(J){var U;if(this.length>J.length)U=J;else U=this;for(var O=0;O<U.length;O++)this.words[O]=this.words[O]&J.words[O];return this.length=U.length,this.strip()},G.prototype.iand=function E(J){return Y((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function E(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function E(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function E(J){var U,O;if(this.length>J.length)U=this,O=J;else U=J,O=this;for(var K=0;K<O.length;K++)this.words[K]=U.words[K]^O.words[K];if(this!==U)for(;K<U.length;K++)this.words[K]=U.words[K];return this.length=U.length,this.strip()},G.prototype.ixor=function E(J){return Y((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function E(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function E(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function E(J){Y(typeof J==="number"&&J>=0);var U=Math.ceil(J/26)|0,O=J%26;if(this._expand(U),O>0)U--;for(var K=0;K<U;K++)this.words[K]=~this.words[K]&67108863;if(O>0)this.words[K]=~this.words[K]&67108863>>26-O;return this.strip()},G.prototype.notn=function E(J){return this.clone().inotn(J)},G.prototype.setn=function E(J,U){Y(typeof J==="number"&&J>=0);var O=J/26|0,K=J%26;if(this._expand(O+1),U)this.words[O]=this.words[O]|1<<K;else this.words[O]=this.words[O]&~(1<<K);return this.strip()},G.prototype.iadd=function E(J){var U;if(this.negative!==0&&J.negative===0)return this.negative=0,U=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,U=this.isub(J),J.negative=1,U._normSign();var O,K;if(this.length>J.length)O=this,K=J;else O=J,K=this;var H=0;for(var T=0;T<K.length;T++)U=(O.words[T]|0)+(K.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;for(;H!==0&&T<O.length;T++)U=(O.words[T]|0)+H,this.words[T]=U&67108863,H=U>>>26;if(this.length=O.length,H!==0)this.words[this.length]=H,this.length++;else if(O!==this)for(;T<O.length;T++)this.words[T]=O.words[T];return this},G.prototype.add=function E(J){var U;if(J.negative!==0&&this.negative===0)return J.negative=0,U=this.sub(J),J.negative^=1,U;else if(J.negative===0&&this.negative!==0)return this.negative=0,U=J.sub(this),this.negative=1,U;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function E(J){if(J.negative!==0){J.negative=0;var U=this.iadd(J);return J.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var O=this.cmp(J);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var K,H;if(O>0)K=this,H=J;else K=J,H=this;var T=0;for(var P=0;P<H.length;P++)U=(K.words[P]|0)-(H.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;for(;T!==0&&P<K.length;P++)U=(K.words[P]|0)+T,T=U>>26,this.words[P]=U&67108863;if(T===0&&P<K.length&&K!==this)for(;P<K.length;P++)this.words[P]=K.words[P];if(this.length=Math.max(this.length,P),K!==this)this.negative=1;return this.strip()},G.prototype.sub=function E(J){return this.clone().isub(J)};function S(E,J,U){U.negative=J.negative^E.negative;var O=E.length+J.length|0;U.length=O,O=O-1|0;var K=E.words[0]|0,H=J.words[0]|0,T=K*H,P=T&67108863,D=T/67108864|0;U.words[0]=P;for(var W=1;W<O;W++){var M=D>>>26,w=D&67108863,j=Math.min(W,J.length-1);for(var x=Math.max(0,W-E.length+1);x<=j;x++){var m=W-x|0;K=E.words[m]|0,H=J.words[x]|0,T=K*H+w,M+=T/67108864|0,w=T&67108863}U.words[W]=w|0,D=M|0}if(D!==0)U.words[W]=D|0;else U.length--;return U.strip()}var N=function E(J,U,O){var K=J.words,H=U.words,T=O.words,P=0,D,W,M,w=K[0]|0,j=w&8191,x=w>>>13,m=K[1]|0,o=m&8191,r=m>>>13,z0=K[2]|0,d=z0&8191,n=z0>>>13,R0=K[3]|0,W0=R0&8191,V0=R0>>>13,a=K[4]|0,u=a&8191,s=a>>>13,b0=K[5]|0,Q0=b0&8191,$0=b0>>>13,e=K[6]|0,i=e&8191,Y0=e>>>13,A0=K[7]|0,U0=A0&8191,L0=A0>>>13,e0=K[8]|0,H0=e0&8191,F0=e0>>>13,E$=K[9]|0,q0=E$&8191,E0=E$>>>13,i$=H[0]|0,T0=i$&8191,f0=i$>>>13,jQ=H[1]|0,v0=jQ&8191,g0=jQ>>>13,pQ=H[2]|0,_0=pQ&8191,w0=pQ>>>13,mQ=H[3]|0,x0=mQ&8191,S0=mQ>>>13,cQ=H[4]|0,y0=cQ&8191,N0=cQ>>>13,_Q=H[5]|0,g=_Q&8191,y=_Q>>>13,p0=H[6]|0,Z0=p0&8191,K0=p0>>>13,I$=H[7]|0,C0=I$&8191,P0=I$>>>13,wQ=H[8]|0,h0=wQ&8191,k0=wQ>>>13,xQ=H[9]|0,B0=xQ&8191,j0=xQ>>>13;O.negative=J.negative^U.negative,O.length=19,D=Math.imul(j,T0),W=Math.imul(j,f0),W=W+Math.imul(x,T0)|0,M=Math.imul(x,f0);var p$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(p$>>>26)|0,p$&=67108863,D=Math.imul(o,T0),W=Math.imul(o,f0),W=W+Math.imul(r,T0)|0,M=Math.imul(r,f0),D=D+Math.imul(j,v0)|0,W=W+Math.imul(j,g0)|0,W=W+Math.imul(x,v0)|0,M=M+Math.imul(x,g0)|0;var $$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+($$>>>26)|0,$$&=67108863,D=Math.imul(d,T0),W=Math.imul(d,f0),W=W+Math.imul(n,T0)|0,M=Math.imul(n,f0),D=D+Math.imul(o,v0)|0,W=W+Math.imul(o,g0)|0,W=W+Math.imul(r,v0)|0,M=M+Math.imul(r,g0)|0,D=D+Math.imul(j,_0)|0,W=W+Math.imul(j,w0)|0,W=W+Math.imul(x,_0)|0,M=M+Math.imul(x,w0)|0;var a0=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(a0>>>26)|0,a0&=67108863,D=Math.imul(W0,T0),W=Math.imul(W0,f0),W=W+Math.imul(V0,T0)|0,M=Math.imul(V0,f0),D=D+Math.imul(d,v0)|0,W=W+Math.imul(d,g0)|0,W=W+Math.imul(n,v0)|0,M=M+Math.imul(n,g0)|0,D=D+Math.imul(o,_0)|0,W=W+Math.imul(o,w0)|0,W=W+Math.imul(r,_0)|0,M=M+Math.imul(r,w0)|0,D=D+Math.imul(j,x0)|0,W=W+Math.imul(j,S0)|0,W=W+Math.imul(x,x0)|0,M=M+Math.imul(x,S0)|0;var B$=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(B$>>>26)|0,B$&=67108863,D=Math.imul(u,T0),W=Math.imul(u,f0),W=W+Math.imul(s,T0)|0,M=Math.imul(s,f0),D=D+Math.imul(W0,v0)|0,W=W+Math.imul(W0,g0)|0,W=W+Math.imul(V0,v0)|0,M=M+Math.imul(V0,g0)|0,D=D+Math.imul(d,_0)|0,W=W+Math.imul(d,w0)|0,W=W+Math.imul(n,_0)|0,M=M+Math.imul(n,w0)|0,D=D+Math.imul(o,x0)|0,W=W+Math.imul(o,S0)|0,W=W+Math.imul(r,x0)|0,M=M+Math.imul(r,S0)|0,D=D+Math.imul(j,y0)|0,W=W+Math.imul(j,N0)|0,W=W+Math.imul(x,y0)|0,M=M+Math.imul(x,N0)|0;var XQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,D=Math.imul(Q0,T0),W=Math.imul(Q0,f0),W=W+Math.imul($0,T0)|0,M=Math.imul($0,f0),D=D+Math.imul(u,v0)|0,W=W+Math.imul(u,g0)|0,W=W+Math.imul(s,v0)|0,M=M+Math.imul(s,g0)|0,D=D+Math.imul(W0,_0)|0,W=W+Math.imul(W0,w0)|0,W=W+Math.imul(V0,_0)|0,M=M+Math.imul(V0,w0)|0,D=D+Math.imul(d,x0)|0,W=W+Math.imul(d,S0)|0,W=W+Math.imul(n,x0)|0,M=M+Math.imul(n,S0)|0,D=D+Math.imul(o,y0)|0,W=W+Math.imul(o,N0)|0,W=W+Math.imul(r,y0)|0,M=M+Math.imul(r,N0)|0,D=D+Math.imul(j,g)|0,W=W+Math.imul(j,y)|0,W=W+Math.imul(x,g)|0,M=M+Math.imul(x,y)|0;var ZQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,D=Math.imul(i,T0),W=Math.imul(i,f0),W=W+Math.imul(Y0,T0)|0,M=Math.imul(Y0,f0),D=D+Math.imul(Q0,v0)|0,W=W+Math.imul(Q0,g0)|0,W=W+Math.imul($0,v0)|0,M=M+Math.imul($0,g0)|0,D=D+Math.imul(u,_0)|0,W=W+Math.imul(u,w0)|0,W=W+Math.imul(s,_0)|0,M=M+Math.imul(s,w0)|0,D=D+Math.imul(W0,x0)|0,W=W+Math.imul(W0,S0)|0,W=W+Math.imul(V0,x0)|0,M=M+Math.imul(V0,S0)|0,D=D+Math.imul(d,y0)|0,W=W+Math.imul(d,N0)|0,W=W+Math.imul(n,y0)|0,M=M+Math.imul(n,N0)|0,D=D+Math.imul(o,g)|0,W=W+Math.imul(o,y)|0,W=W+Math.imul(r,g)|0,M=M+Math.imul(r,y)|0,D=D+Math.imul(j,Z0)|0,W=W+Math.imul(j,K0)|0,W=W+Math.imul(x,Z0)|0,M=M+Math.imul(x,K0)|0;var YQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,D=Math.imul(U0,T0),W=Math.imul(U0,f0),W=W+Math.imul(L0,T0)|0,M=Math.imul(L0,f0),D=D+Math.imul(i,v0)|0,W=W+Math.imul(i,g0)|0,W=W+Math.imul(Y0,v0)|0,M=M+Math.imul(Y0,g0)|0,D=D+Math.imul(Q0,_0)|0,W=W+Math.imul(Q0,w0)|0,W=W+Math.imul($0,_0)|0,M=M+Math.imul($0,w0)|0,D=D+Math.imul(u,x0)|0,W=W+Math.imul(u,S0)|0,W=W+Math.imul(s,x0)|0,M=M+Math.imul(s,S0)|0,D=D+Math.imul(W0,y0)|0,W=W+Math.imul(W0,N0)|0,W=W+Math.imul(V0,y0)|0,M=M+Math.imul(V0,N0)|0,D=D+Math.imul(d,g)|0,W=W+Math.imul(d,y)|0,W=W+Math.imul(n,g)|0,M=M+Math.imul(n,y)|0,D=D+Math.imul(o,Z0)|0,W=W+Math.imul(o,K0)|0,W=W+Math.imul(r,Z0)|0,M=M+Math.imul(r,K0)|0,D=D+Math.imul(j,C0)|0,W=W+Math.imul(j,P0)|0,W=W+Math.imul(x,C0)|0,M=M+Math.imul(x,P0)|0;var JQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,D=Math.imul(H0,T0),W=Math.imul(H0,f0),W=W+Math.imul(F0,T0)|0,M=Math.imul(F0,f0),D=D+Math.imul(U0,v0)|0,W=W+Math.imul(U0,g0)|0,W=W+Math.imul(L0,v0)|0,M=M+Math.imul(L0,g0)|0,D=D+Math.imul(i,_0)|0,W=W+Math.imul(i,w0)|0,W=W+Math.imul(Y0,_0)|0,M=M+Math.imul(Y0,w0)|0,D=D+Math.imul(Q0,x0)|0,W=W+Math.imul(Q0,S0)|0,W=W+Math.imul($0,x0)|0,M=M+Math.imul($0,S0)|0,D=D+Math.imul(u,y0)|0,W=W+Math.imul(u,N0)|0,W=W+Math.imul(s,y0)|0,M=M+Math.imul(s,N0)|0,D=D+Math.imul(W0,g)|0,W=W+Math.imul(W0,y)|0,W=W+Math.imul(V0,g)|0,M=M+Math.imul(V0,y)|0,D=D+Math.imul(d,Z0)|0,W=W+Math.imul(d,K0)|0,W=W+Math.imul(n,Z0)|0,M=M+Math.imul(n,K0)|0,D=D+Math.imul(o,C0)|0,W=W+Math.imul(o,P0)|0,W=W+Math.imul(r,C0)|0,M=M+Math.imul(r,P0)|0,D=D+Math.imul(j,h0)|0,W=W+Math.imul(j,k0)|0,W=W+Math.imul(x,h0)|0,M=M+Math.imul(x,k0)|0;var GQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,D=Math.imul(q0,T0),W=Math.imul(q0,f0),W=W+Math.imul(E0,T0)|0,M=Math.imul(E0,f0),D=D+Math.imul(H0,v0)|0,W=W+Math.imul(H0,g0)|0,W=W+Math.imul(F0,v0)|0,M=M+Math.imul(F0,g0)|0,D=D+Math.imul(U0,_0)|0,W=W+Math.imul(U0,w0)|0,W=W+Math.imul(L0,_0)|0,M=M+Math.imul(L0,w0)|0,D=D+Math.imul(i,x0)|0,W=W+Math.imul(i,S0)|0,W=W+Math.imul(Y0,x0)|0,M=M+Math.imul(Y0,S0)|0,D=D+Math.imul(Q0,y0)|0,W=W+Math.imul(Q0,N0)|0,W=W+Math.imul($0,y0)|0,M=M+Math.imul($0,N0)|0,D=D+Math.imul(u,g)|0,W=W+Math.imul(u,y)|0,W=W+Math.imul(s,g)|0,M=M+Math.imul(s,y)|0,D=D+Math.imul(W0,Z0)|0,W=W+Math.imul(W0,K0)|0,W=W+Math.imul(V0,Z0)|0,M=M+Math.imul(V0,K0)|0,D=D+Math.imul(d,C0)|0,W=W+Math.imul(d,P0)|0,W=W+Math.imul(n,C0)|0,M=M+Math.imul(n,P0)|0,D=D+Math.imul(o,h0)|0,W=W+Math.imul(o,k0)|0,W=W+Math.imul(r,h0)|0,M=M+Math.imul(r,k0)|0,D=D+Math.imul(j,B0)|0,W=W+Math.imul(j,j0)|0,W=W+Math.imul(x,B0)|0,M=M+Math.imul(x,j0)|0;var WQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,D=Math.imul(q0,v0),W=Math.imul(q0,g0),W=W+Math.imul(E0,v0)|0,M=Math.imul(E0,g0),D=D+Math.imul(H0,_0)|0,W=W+Math.imul(H0,w0)|0,W=W+Math.imul(F0,_0)|0,M=M+Math.imul(F0,w0)|0,D=D+Math.imul(U0,x0)|0,W=W+Math.imul(U0,S0)|0,W=W+Math.imul(L0,x0)|0,M=M+Math.imul(L0,S0)|0,D=D+Math.imul(i,y0)|0,W=W+Math.imul(i,N0)|0,W=W+Math.imul(Y0,y0)|0,M=M+Math.imul(Y0,N0)|0,D=D+Math.imul(Q0,g)|0,W=W+Math.imul(Q0,y)|0,W=W+Math.imul($0,g)|0,M=M+Math.imul($0,y)|0,D=D+Math.imul(u,Z0)|0,W=W+Math.imul(u,K0)|0,W=W+Math.imul(s,Z0)|0,M=M+Math.imul(s,K0)|0,D=D+Math.imul(W0,C0)|0,W=W+Math.imul(W0,P0)|0,W=W+Math.imul(V0,C0)|0,M=M+Math.imul(V0,P0)|0,D=D+Math.imul(d,h0)|0,W=W+Math.imul(d,k0)|0,W=W+Math.imul(n,h0)|0,M=M+Math.imul(n,k0)|0,D=D+Math.imul(o,B0)|0,W=W+Math.imul(o,j0)|0,W=W+Math.imul(r,B0)|0,M=M+Math.imul(r,j0)|0;var VQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,D=Math.imul(q0,_0),W=Math.imul(q0,w0),W=W+Math.imul(E0,_0)|0,M=Math.imul(E0,w0),D=D+Math.imul(H0,x0)|0,W=W+Math.imul(H0,S0)|0,W=W+Math.imul(F0,x0)|0,M=M+Math.imul(F0,S0)|0,D=D+Math.imul(U0,y0)|0,W=W+Math.imul(U0,N0)|0,W=W+Math.imul(L0,y0)|0,M=M+Math.imul(L0,N0)|0,D=D+Math.imul(i,g)|0,W=W+Math.imul(i,y)|0,W=W+Math.imul(Y0,g)|0,M=M+Math.imul(Y0,y)|0,D=D+Math.imul(Q0,Z0)|0,W=W+Math.imul(Q0,K0)|0,W=W+Math.imul($0,Z0)|0,M=M+Math.imul($0,K0)|0,D=D+Math.imul(u,C0)|0,W=W+Math.imul(u,P0)|0,W=W+Math.imul(s,C0)|0,M=M+Math.imul(s,P0)|0,D=D+Math.imul(W0,h0)|0,W=W+Math.imul(W0,k0)|0,W=W+Math.imul(V0,h0)|0,M=M+Math.imul(V0,k0)|0,D=D+Math.imul(d,B0)|0,W=W+Math.imul(d,j0)|0,W=W+Math.imul(n,B0)|0,M=M+Math.imul(n,j0)|0;var KQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(KQ>>>26)|0,KQ&=67108863,D=Math.imul(q0,x0),W=Math.imul(q0,S0),W=W+Math.imul(E0,x0)|0,M=Math.imul(E0,S0),D=D+Math.imul(H0,y0)|0,W=W+Math.imul(H0,N0)|0,W=W+Math.imul(F0,y0)|0,M=M+Math.imul(F0,N0)|0,D=D+Math.imul(U0,g)|0,W=W+Math.imul(U0,y)|0,W=W+Math.imul(L0,g)|0,M=M+Math.imul(L0,y)|0,D=D+Math.imul(i,Z0)|0,W=W+Math.imul(i,K0)|0,W=W+Math.imul(Y0,Z0)|0,M=M+Math.imul(Y0,K0)|0,D=D+Math.imul(Q0,C0)|0,W=W+Math.imul(Q0,P0)|0,W=W+Math.imul($0,C0)|0,M=M+Math.imul($0,P0)|0,D=D+Math.imul(u,h0)|0,W=W+Math.imul(u,k0)|0,W=W+Math.imul(s,h0)|0,M=M+Math.imul(s,k0)|0,D=D+Math.imul(W0,B0)|0,W=W+Math.imul(W0,j0)|0,W=W+Math.imul(V0,B0)|0,M=M+Math.imul(V0,j0)|0;var UQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,D=Math.imul(q0,y0),W=Math.imul(q0,N0),W=W+Math.imul(E0,y0)|0,M=Math.imul(E0,N0),D=D+Math.imul(H0,g)|0,W=W+Math.imul(H0,y)|0,W=W+Math.imul(F0,g)|0,M=M+Math.imul(F0,y)|0,D=D+Math.imul(U0,Z0)|0,W=W+Math.imul(U0,K0)|0,W=W+Math.imul(L0,Z0)|0,M=M+Math.imul(L0,K0)|0,D=D+Math.imul(i,C0)|0,W=W+Math.imul(i,P0)|0,W=W+Math.imul(Y0,C0)|0,M=M+Math.imul(Y0,P0)|0,D=D+Math.imul(Q0,h0)|0,W=W+Math.imul(Q0,k0)|0,W=W+Math.imul($0,h0)|0,M=M+Math.imul($0,k0)|0,D=D+Math.imul(u,B0)|0,W=W+Math.imul(u,j0)|0,W=W+Math.imul(s,B0)|0,M=M+Math.imul(s,j0)|0;var OQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(OQ>>>26)|0,OQ&=67108863,D=Math.imul(q0,g),W=Math.imul(q0,y),W=W+Math.imul(E0,g)|0,M=Math.imul(E0,y),D=D+Math.imul(H0,Z0)|0,W=W+Math.imul(H0,K0)|0,W=W+Math.imul(F0,Z0)|0,M=M+Math.imul(F0,K0)|0,D=D+Math.imul(U0,C0)|0,W=W+Math.imul(U0,P0)|0,W=W+Math.imul(L0,C0)|0,M=M+Math.imul(L0,P0)|0,D=D+Math.imul(i,h0)|0,W=W+Math.imul(i,k0)|0,W=W+Math.imul(Y0,h0)|0,M=M+Math.imul(Y0,k0)|0,D=D+Math.imul(Q0,B0)|0,W=W+Math.imul(Q0,j0)|0,W=W+Math.imul($0,B0)|0,M=M+Math.imul($0,j0)|0;var zQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(zQ>>>26)|0,zQ&=67108863,D=Math.imul(q0,Z0),W=Math.imul(q0,K0),W=W+Math.imul(E0,Z0)|0,M=Math.imul(E0,K0),D=D+Math.imul(H0,C0)|0,W=W+Math.imul(H0,P0)|0,W=W+Math.imul(F0,C0)|0,M=M+Math.imul(F0,P0)|0,D=D+Math.imul(U0,h0)|0,W=W+Math.imul(U0,k0)|0,W=W+Math.imul(L0,h0)|0,M=M+Math.imul(L0,k0)|0,D=D+Math.imul(i,B0)|0,W=W+Math.imul(i,j0)|0,W=W+Math.imul(Y0,B0)|0,M=M+Math.imul(Y0,j0)|0;var HQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,D=Math.imul(q0,C0),W=Math.imul(q0,P0),W=W+Math.imul(E0,C0)|0,M=Math.imul(E0,P0),D=D+Math.imul(H0,h0)|0,W=W+Math.imul(H0,k0)|0,W=W+Math.imul(F0,h0)|0,M=M+Math.imul(F0,k0)|0,D=D+Math.imul(U0,B0)|0,W=W+Math.imul(U0,j0)|0,W=W+Math.imul(L0,B0)|0,M=M+Math.imul(L0,j0)|0;var DQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,D=Math.imul(q0,h0),W=Math.imul(q0,k0),W=W+Math.imul(E0,h0)|0,M=Math.imul(E0,k0),D=D+Math.imul(H0,B0)|0,W=W+Math.imul(H0,j0)|0,W=W+Math.imul(F0,B0)|0,M=M+Math.imul(F0,j0)|0;var LQ=(P+D|0)+((W&8191)<<13)|0;P=(M+(W>>>13)|0)+(LQ>>>26)|0,LQ&=67108863,D=Math.imul(q0,B0),W=Math.imul(q0,j0),W=W+Math.imul(E0,B0)|0,M=Math.imul(E0,j0);var qQ=(P+D|0)+((W&8191)<<13)|0;if(P=(M+(W>>>13)|0)+(qQ>>>26)|0,qQ&=67108863,T[0]=p$,T[1]=$$,T[2]=a0,T[3]=B$,T[4]=XQ,T[5]=ZQ,T[6]=YQ,T[7]=JQ,T[8]=GQ,T[9]=WQ,T[10]=VQ,T[11]=KQ,T[12]=UQ,T[13]=OQ,T[14]=zQ,T[15]=HQ,T[16]=DQ,T[17]=LQ,T[18]=qQ,P!==0)T[19]=P,O.length++;return O};if(!Math.imul)N=S;function B(E,J,U){U.negative=J.negative^E.negative,U.length=E.length+J.length;var O=0,K=0;for(var H=0;H<U.length-1;H++){var T=K;K=0;var P=O&67108863,D=Math.min(H,J.length-1);for(var W=Math.max(0,H-E.length+1);W<=D;W++){var M=H-W,w=E.words[M]|0,j=J.words[W]|0,x=w*j,m=x&67108863;T=T+(x/67108864|0)|0,m=m+P|0,P=m&67108863,T=T+(m>>>26)|0,K+=T>>>26,T&=67108863}U.words[H]=P,O=T,T=K}if(O!==0)U.words[H]=O;else U.length--;return U.strip()}function _(E,J,U){var O=new k;return O.mulp(E,J,U)}G.prototype.mulTo=function E(J,U){var O,K=this.length+J.length;if(this.length===10&&J.length===10)O=N(this,J,U);else if(K<63)O=S(this,J,U);else if(K<1024)O=B(this,J,U);else O=_(this,J,U);return O};function k(E,J){this.x=E,this.y=J}k.prototype.makeRBT=function E(J){var U=new Array(J),O=G.prototype._countBits(J)-1;for(var K=0;K<J;K++)U[K]=this.revBin(K,O,J);return U},k.prototype.revBin=function E(J,U,O){if(J===0||J===O-1)return J;var K=0;for(var H=0;H<U;H++)K|=(J&1)<<U-H-1,J>>=1;return K},k.prototype.permute=function E(J,U,O,K,H,T){for(var P=0;P<T;P++)K[P]=U[J[P]],H[P]=O[J[P]]},k.prototype.transform=function E(J,U,O,K,H,T){this.permute(T,J,U,O,K,H);for(var P=1;P<H;P<<=1){var D=P<<1,W=Math.cos(2*Math.PI/D),M=Math.sin(2*Math.PI/D);for(var w=0;w<H;w+=D){var j=W,x=M;for(var m=0;m<P;m++){var o=O[w+m],r=K[w+m],z0=O[w+m+P],d=K[w+m+P],n=j*z0-x*d;if(d=j*d+x*z0,z0=n,O[w+m]=o+z0,K[w+m]=r+d,O[w+m+P]=o-z0,K[w+m+P]=r-d,m!==D)n=W*j-M*x,x=W*x+M*j,j=n}}}},k.prototype.guessLen13b=function E(J,U){var O=Math.max(U,J)|1,K=O&1,H=0;for(O=O/2|0;O;O=O>>>1)H++;return 1<<H+1+K},k.prototype.conjugate=function E(J,U,O){if(O<=1)return;for(var K=0;K<O/2;K++){var H=J[K];J[K]=J[O-K-1],J[O-K-1]=H,H=U[K],U[K]=-U[O-K-1],U[O-K-1]=-H}},k.prototype.normalize13b=function E(J,U){var O=0;for(var K=0;K<U/2;K++){var H=Math.round(J[2*K+1]/U)*8192+Math.round(J[2*K]/U)+O;if(J[K]=H&67108863,H<67108864)O=0;else O=H/67108864|0}return J},k.prototype.convert13b=function E(J,U,O,K){var H=0;for(var T=0;T<U;T++)H=H+(J[T]|0),O[2*T]=H&8191,H=H>>>13,O[2*T+1]=H&8191,H=H>>>13;for(T=2*U;T<K;++T)O[T]=0;Y(H===0),Y((H&-8192)===0)},k.prototype.stub=function E(J){var U=new Array(J);for(var O=0;O<J;O++)U[O]=0;return U},k.prototype.mulp=function E(J,U,O){var K=2*this.guessLen13b(J.length,U.length),H=this.makeRBT(K),T=this.stub(K),P=new Array(K),D=new Array(K),W=new Array(K),M=new Array(K),w=new Array(K),j=new Array(K),x=O.words;x.length=K,this.convert13b(J.words,J.length,P,K),this.convert13b(U.words,U.length,M,K),this.transform(P,T,D,W,K,H),this.transform(M,T,w,j,K,H);for(var m=0;m<K;m++){var o=D[m]*w[m]-W[m]*j[m];W[m]=D[m]*j[m]+W[m]*w[m],D[m]=o}return this.conjugate(D,W,K),this.transform(D,W,x,T,K,H),this.conjugate(x,T,K),this.normalize13b(x,K),O.negative=J.negative^U.negative,O.length=J.length+U.length,O.strip()},G.prototype.mul=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),this.mulTo(J,U)},G.prototype.mulf=function E(J){var U=new G(null);return U.words=new Array(this.length+J.length),_(this,J,U)},G.prototype.imul=function E(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function E(J){Y(typeof J==="number"),Y(J<67108864);var U=0;for(var O=0;O<this.length;O++){var K=(this.words[O]|0)*J,H=(K&67108863)+(U&67108863);U>>=26,U+=K/67108864|0,U+=H>>>26,this.words[O]=H&67108863}if(U!==0)this.words[O]=U,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function E(J){return this.clone().imuln(J)},G.prototype.sqr=function E(){return this.mul(this)},G.prototype.isqr=function E(){return this.imul(this.clone())},G.prototype.pow=function E(J){var U=I(J);if(U.length===0)return new G(1);var O=this;for(var K=0;K<U.length;K++,O=O.sqr())if(U[K]!==0)break;if(++K<U.length)for(var H=O.sqr();K<U.length;K++,H=H.sqr()){if(U[K]===0)continue;O=O.mul(H)}return O},G.prototype.iushln=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=67108863>>>26-U<<26-U,H;if(U!==0){var T=0;for(H=0;H<this.length;H++){var P=this.words[H]&K,D=(this.words[H]|0)-P<<U;this.words[H]=D|T,T=P>>>26-U}if(T)this.words[H]=T,this.length++}if(O!==0){for(H=this.length-1;H>=0;H--)this.words[H+O]=this.words[H];for(H=0;H<O;H++)this.words[H]=0;this.length+=O}return this.strip()},G.prototype.ishln=function E(J){return Y(this.negative===0),this.iushln(J)},G.prototype.iushrn=function E(J,U,O){Y(typeof J==="number"&&J>=0);var K;if(U)K=(U-U%26)/26;else K=0;var H=J%26,T=Math.min((J-H)/26,this.length),P=67108863^67108863>>>H<<H,D=O;if(K-=T,K=Math.max(0,K),D){for(var W=0;W<T;W++)D.words[W]=this.words[W];D.length=T}if(T===0);else if(this.length>T){this.length-=T;for(W=0;W<this.length;W++)this.words[W]=this.words[W+T]}else this.words[0]=0,this.length=1;var M=0;for(W=this.length-1;W>=0&&(M!==0||W>=K);W--){var w=this.words[W]|0;this.words[W]=M<<26-H|w>>>H,M=w&P}if(D&&M!==0)D.words[D.length++]=M;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function E(J,U,O){return Y(this.negative===0),this.iushrn(J,U,O)},G.prototype.shln=function E(J){return this.clone().ishln(J)},G.prototype.ushln=function E(J){return this.clone().iushln(J)},G.prototype.shrn=function E(J){return this.clone().ishrn(J)},G.prototype.ushrn=function E(J){return this.clone().iushrn(J)},G.prototype.testn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return!1;var H=this.words[O];return!!(H&K)},G.prototype.imaskn=function E(J){Y(typeof J==="number"&&J>=0);var U=J%26,O=(J-U)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(U!==0)O++;if(this.length=Math.min(O,this.length),U!==0){var K=67108863^67108863>>>U<<U;this.words[this.length-1]&=K}return this.strip()},G.prototype.maskn=function E(J){return this.clone().imaskn(J)},G.prototype.iaddn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function E(J){this.words[0]+=J;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)if(this.words[U]-=67108864,U===this.length-1)this.words[U+1]=1;else this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},G.prototype.isubn=function E(J){if(Y(typeof J==="number"),Y(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},G.prototype.addn=function E(J){return this.clone().iaddn(J)},G.prototype.subn=function E(J){return this.clone().isubn(J)},G.prototype.iabs=function E(){return this.negative=0,this},G.prototype.abs=function E(){return this.clone().iabs()},G.prototype._ishlnsubmul=function E(J,U,O){var K=J.length+O,H;this._expand(K);var T,P=0;for(H=0;H<J.length;H++){T=(this.words[H+O]|0)+P;var D=(J.words[H]|0)*U;T-=D&67108863,P=(T>>26)-(D/67108864|0),this.words[H+O]=T&67108863}for(;H<this.length-O;H++)T=(this.words[H+O]|0)+P,P=T>>26,this.words[H+O]=T&67108863;if(P===0)return this.strip();Y(P===-1),P=0;for(H=0;H<this.length;H++)T=-(this.words[H]|0)+P,P=T>>26,this.words[H]=T&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function E(J,U){var O=this.length-J.length,K=this.clone(),H=J,T=H.words[H.length-1]|0,P=this._countBits(T);if(O=26-P,O!==0)H=H.ushln(O),K.iushln(O),T=H.words[H.length-1]|0;var D=K.length-H.length,W;if(U!=="mod"){W=new G(null),W.length=D+1,W.words=new Array(W.length);for(var M=0;M<W.length;M++)W.words[M]=0}var w=K.clone()._ishlnsubmul(H,1,D);if(w.negative===0){if(K=w,W)W.words[D]=1}for(var j=D-1;j>=0;j--){var x=(K.words[H.length+j]|0)*67108864+(K.words[H.length+j-1]|0);x=Math.min(x/T|0,67108863),K._ishlnsubmul(H,x,j);while(K.negative!==0)if(x--,K.negative=0,K._ishlnsubmul(H,1,j),!K.isZero())K.negative^=1;if(W)W.words[j]=x}if(W)W.strip();if(K.strip(),U!=="div"&&O!==0)K.iushrn(O);return{div:W||null,mod:K}},G.prototype.divmod=function E(J,U,O){if(Y(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var K,H,T;if(this.negative!==0&&J.negative===0){if(T=this.neg().divmod(J,U),U!=="mod")K=T.div.neg();if(U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.iadd(J)}return{div:K,mod:H}}if(this.negative===0&&J.negative!==0){if(T=this.divmod(J.neg(),U),U!=="mod")K=T.div.neg();return{div:K,mod:T.mod}}if((this.negative&J.negative)!==0){if(T=this.neg().divmod(J.neg(),U),U!=="div"){if(H=T.mod.neg(),O&&H.negative!==0)H.isub(J)}return{div:T.div,mod:H}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(U==="div")return{div:this.divn(J.words[0]),mod:null};if(U==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,U)},G.prototype.div=function E(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function E(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function E(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function E(J){var U=this.divmod(J);if(U.mod.isZero())return U.div;var O=U.div.negative!==0?U.mod.isub(J):U.mod,K=J.ushrn(1),H=J.andln(1),T=O.cmp(K);if(T<0||H===1&&T===0)return U.div;return U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},G.prototype.modn=function E(J){Y(J<=67108863);var U=67108864%J,O=0;for(var K=this.length-1;K>=0;K--)O=(U*O+(this.words[K]|0))%J;return O},G.prototype.idivn=function E(J){Y(J<=67108863);var U=0;for(var O=this.length-1;O>=0;O--){var K=(this.words[O]|0)+U*67108864;this.words[O]=K/J|0,U=K%J}return this.strip()},G.prototype.divn=function E(J){return this.clone().idivn(J)},G.prototype.egcd=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=new G(0),P=new G(1),D=0;while(U.isEven()&&O.isEven())U.iushrn(1),O.iushrn(1),++D;var W=O.clone(),M=U.clone();while(!U.isZero()){for(var w=0,j=1;(U.words[0]&j)===0&&w<26;++w,j<<=1);if(w>0){U.iushrn(w);while(w-- >0){if(K.isOdd()||H.isOdd())K.iadd(W),H.isub(M);K.iushrn(1),H.iushrn(1)}}for(var x=0,m=1;(O.words[0]&m)===0&&x<26;++x,m<<=1);if(x>0){O.iushrn(x);while(x-- >0){if(T.isOdd()||P.isOdd())T.iadd(W),P.isub(M);T.iushrn(1),P.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(T),H.isub(P);else O.isub(U),T.isub(K),P.isub(H)}return{a:T,b:P,gcd:O.iushln(D)}},G.prototype._invmp=function E(J){Y(J.negative===0),Y(!J.isZero());var U=this,O=J.clone();if(U.negative!==0)U=U.umod(J);else U=U.clone();var K=new G(1),H=new G(0),T=O.clone();while(U.cmpn(1)>0&&O.cmpn(1)>0){for(var P=0,D=1;(U.words[0]&D)===0&&P<26;++P,D<<=1);if(P>0){U.iushrn(P);while(P-- >0){if(K.isOdd())K.iadd(T);K.iushrn(1)}}for(var W=0,M=1;(O.words[0]&M)===0&&W<26;++W,M<<=1);if(W>0){O.iushrn(W);while(W-- >0){if(H.isOdd())H.iadd(T);H.iushrn(1)}}if(U.cmp(O)>=0)U.isub(O),K.isub(H);else O.isub(U),H.isub(K)}var w;if(U.cmpn(1)===0)w=K;else w=H;if(w.cmpn(0)<0)w.iadd(J);return w},G.prototype.gcd=function E(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var U=this.clone(),O=J.clone();U.negative=0,O.negative=0;for(var K=0;U.isEven()&&O.isEven();K++)U.iushrn(1),O.iushrn(1);do{while(U.isEven())U.iushrn(1);while(O.isEven())O.iushrn(1);var H=U.cmp(O);if(H<0){var T=U;U=O,O=T}else if(H===0||O.cmpn(1)===0)break;U.isub(O)}while(!0);return O.iushln(K)},G.prototype.invm=function E(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function E(){return(this.words[0]&1)===0},G.prototype.isOdd=function E(){return(this.words[0]&1)===1},G.prototype.andln=function E(J){return this.words[0]&J},G.prototype.bincn=function E(J){Y(typeof J==="number");var U=J%26,O=(J-U)/26,K=1<<U;if(this.length<=O)return this._expand(O+1),this.words[O]|=K,this;var H=K;for(var T=O;H!==0&&T<this.length;T++){var P=this.words[T]|0;P+=H,H=P>>>26,P&=67108863,this.words[T]=P}if(H!==0)this.words[T]=H,this.length++;return this},G.prototype.isZero=function E(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function E(J){var U=J<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var O;if(this.length>1)O=1;else{if(U)J=-J;Y(J<=67108863,"Number is too big");var K=this.words[0]|0;O=K===J?0:K<J?-1:1}if(this.negative!==0)return-O|0;return O},G.prototype.cmp=function E(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var U=this.ucmp(J);if(this.negative!==0)return-U|0;return U},G.prototype.ucmp=function E(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var U=0;for(var O=this.length-1;O>=0;O--){var K=this.words[O]|0,H=J.words[O]|0;if(K===H)continue;if(K<H)U=-1;else if(K>H)U=1;break}return U},G.prototype.gtn=function E(J){return this.cmpn(J)===1},G.prototype.gt=function E(J){return this.cmp(J)===1},G.prototype.gten=function E(J){return this.cmpn(J)>=0},G.prototype.gte=function E(J){return this.cmp(J)>=0},G.prototype.ltn=function E(J){return this.cmpn(J)===-1},G.prototype.lt=function E(J){return this.cmp(J)===-1},G.prototype.lten=function E(J){return this.cmpn(J)<=0},G.prototype.lte=function E(J){return this.cmp(J)<=0},G.prototype.eqn=function E(J){return this.cmpn(J)===0},G.prototype.eq=function E(J){return this.cmp(J)===0},G.red=function E(J){return new h(J)},G.prototype.toRed=function E(J){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function E(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function E(J){return this.red=J,this},G.prototype.forceRed=function E(J){return Y(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function E(J){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function E(J){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function E(J){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function E(J){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function E(J){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function E(J){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function E(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function E(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function E(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function E(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function E(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function E(J){return Y(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var f={k256:null,p224:null,p192:null,p25519:null};function v(E,J){this.name=E,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function E(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},v.prototype.ireduce=function E(J){var U=J,O;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),O=U.bitLength();while(O>this.n);var K=O<this.n?-1:U.ucmp(this.p);if(K===0)U.words[0]=0,U.length=1;else if(K>0)U.isub(this.p);else if(U.strip!==void 0)U.strip();else U._strip();return U},v.prototype.split=function E(J,U){J.iushrn(this.n,0,U)},v.prototype.imulK=function E(J){return J.imul(this.k)};function p(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(p,v),p.prototype.split=function E(J,U){var O=4194303,K=Math.min(J.length,9);for(var H=0;H<K;H++)U.words[H]=J.words[H];if(U.length=K,J.length<=9){J.words[0]=0,J.length=1;return}var T=J.words[9];U.words[U.length++]=T&O;for(H=10;H<J.length;H++){var P=J.words[H]|0;J.words[H-10]=(P&O)<<4|T>>>22,T=P}if(T>>>=22,J.words[H-10]=T,T===0&&J.length>10)J.length-=10;else J.length-=9},p.prototype.imulK=function E(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var U=0;for(var O=0;O<J.length;O++){var K=J.words[O]|0;U+=K*977,J.words[O]=U&67108863,U=K*64+(U/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(c,v);function X0(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(X0,v);function t(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(t,v),t.prototype.imulK=function E(J){var U=0;for(var O=0;O<J.length;O++){var K=(J.words[O]|0)*19+U,H=K&67108863;K>>>=26,J.words[O]=H,U=K}if(U!==0)J.words[J.length++]=U;return J},G._prime=function E(J){if(f[J])return f[J];var U;if(J==="k256")U=new p;else if(J==="p224")U=new c;else if(J==="p192")U=new X0;else if(J==="p25519")U=new t;else throw new Error("Unknown prime "+J);return f[J]=U,U};function h(E){if(typeof E==="string"){var J=G._prime(E);this.m=J.p,this.prime=J}else Y(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}h.prototype._verify1=function E(J){Y(J.negative===0,"red works only with positives"),Y(J.red,"red works only with red numbers")},h.prototype._verify2=function E(J,U){Y((J.negative|U.negative)===0,"red works only with positives"),Y(J.red&&J.red===U.red,"red works only with red numbers")},h.prototype.imod=function E(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},h.prototype.neg=function E(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},h.prototype.add=function E(J,U){this._verify2(J,U);var O=J.add(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O._forceRed(this)},h.prototype.iadd=function E(J,U){this._verify2(J,U);var O=J.iadd(U);if(O.cmp(this.m)>=0)O.isub(this.m);return O},h.prototype.sub=function E(J,U){this._verify2(J,U);var O=J.sub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O._forceRed(this)},h.prototype.isub=function E(J,U){this._verify2(J,U);var O=J.isub(U);if(O.cmpn(0)<0)O.iadd(this.m);return O},h.prototype.shl=function E(J,U){return this._verify1(J),this.imod(J.ushln(U))},h.prototype.imul=function E(J,U){return this._verify2(J,U),this.imod(J.imul(U))},h.prototype.mul=function E(J,U){return this._verify2(J,U),this.imod(J.mul(U))},h.prototype.isqr=function E(J){return this.imul(J,J.clone())},h.prototype.sqr=function E(J){return this.mul(J,J)},h.prototype.sqrt=function E(J){if(J.isZero())return J.clone();var U=this.m.andln(3);if(Y(U%2===1),U===3){var O=this.m.add(new G(1)).iushrn(2);return this.pow(J,O)}var K=this.m.subn(1),H=0;while(!K.isZero()&&K.andln(1)===0)H++,K.iushrn(1);Y(!K.isZero());var T=new G(1).toRed(this),P=T.redNeg(),D=this.m.subn(1).iushrn(1),W=this.m.bitLength();W=new G(2*W*W).toRed(this);while(this.pow(W,D).cmp(P)!==0)W.redIAdd(P);var M=this.pow(W,K),w=this.pow(J,K.addn(1).iushrn(1)),j=this.pow(J,K),x=H;while(j.cmp(T)!==0){var m=j;for(var o=0;m.cmp(T)!==0;o++)m=m.redSqr();Y(o<x);var r=this.pow(M,new G(1).iushln(x-o-1));w=w.redMul(r),M=r.redSqr(),j=j.redMul(M),x=o}return w},h.prototype.invm=function E(J){var U=J._invmp(this.m);if(U.negative!==0)return U.negative=0,this.imod(U).redNeg();else return this.imod(U)},h.prototype.pow=function E(J,U){if(U.isZero())return new G(1).toRed(this);if(U.cmpn(1)===0)return J.clone();var O=4,K=new Array(1<<O);K[0]=new G(1).toRed(this),K[1]=J;for(var H=2;H<K.length;H++)K[H]=this.mul(K[H-1],J);var T=K[0],P=0,D=0,W=U.bitLength()%26;if(W===0)W=26;for(H=U.length-1;H>=0;H--){var M=U.words[H];for(var w=W-1;w>=0;w--){var j=M>>w&1;if(T!==K[0])T=this.sqr(T);if(j===0&&P===0){D=0;continue}if(P<<=1,P|=j,D++,D!==O&&(H!==0||w!==0))continue;T=this.mul(T,K[P]),D=0,P=0}W=26}return T},h.prototype.convertTo=function E(J){var U=J.umod(this.m);return U===J?U.clone():U},h.prototype.convertFrom=function E(J){var U=J.clone();return U.red=null,U},G.mont=function E(J){return new l(J)};function l(E){if(h.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(l,h),l.prototype.convertTo=function E(J){return this.imod(J.ushln(this.shift))},l.prototype.convertFrom=function E(J){var U=this.imod(J.mul(this.rinv));return U.red=null,U},l.prototype.imul=function E(J,U){if(J.isZero()||U.isZero())return J.words[0]=0,J.length=1,J;var O=J.imul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.mul=function E(J,U){if(J.isZero()||U.isZero())return new G(0)._forceRed(this);var O=J.mul(U),K=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=O.isub(K).iushrn(this.shift),T=H;if(H.cmp(this.m)>=0)T=H.isub(this.m);else if(H.cmpn(0)<0)T=H.iadd(this.m);return T._forceRed(this)},l.prototype.invm=function E(J){var U=this.imod(J._invmp(this.m).mul(this.r2));return U._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),dq=c0(($,Q)=>{var X=x5(),Z=FX().Buffer;function Y(V,G){return Z.from(V.toRed(X.mont(G.modulus)).redPow(new X(G.publicExponent)).fromRed().toArray())}Q.exports=Y}),r3=c0(($,Q)=>{(function(X,Z){function Y(O,K){if(!O)throw new Error(K||"Assertion failed")}function V(O,K){O.super_=K;var H=function(){};H.prototype=K.prototype,O.prototype=new H,O.prototype.constructor=O}function G(O,K,H){if(G.isBN(O))return O;if(this.negative=0,this.words=null,this.length=0,this.red=null,O!==null){if(K==="le"||K==="be")H=K,K=10;this._init(O||0,K||10,H||"be")}}if(typeof X==="object")X.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var z;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")z=window.Buffer;else z=(c$(),X$(m$)).Buffer}catch(O){}G.isBN=function O(K){if(K instanceof G)return!0;return K!==null&&typeof K==="object"&&K.constructor.wordSize===G.wordSize&&Array.isArray(K.words)},G.max=function O(K,H){if(K.cmp(H)>0)return K;return H},G.min=function O(K,H){if(K.cmp(H)<0)return K;return H},G.prototype._init=function O(K,H,T){if(typeof K==="number")return this._initNumber(K,H,T);if(typeof K==="object")return this._initArray(K,H,T);if(H==="hex")H=16;Y(H===(H|0)&&H>=2&&H<=36),K=K.toString().replace(/\s+/g,"");var P=0;if(K[0]==="-")P++,this.negative=1;if(P<K.length){if(H===16)this._parseHex(K,P,T);else if(this._parseBase(K,H,P),T==="le")this._initArray(this.toArray(),H,T)}},G.prototype._initNumber=function O(K,H,T){if(K<0)this.negative=1,K=-K;if(K<67108864)this.words=[K&67108863],this.length=1;else if(K<4503599627370496)this.words=[K&67108863,K/67108864&67108863],this.length=2;else Y(K<9007199254740992),this.words=[K&67108863,K/67108864&67108863,1],this.length=3;if(T!=="le")return;this._initArray(this.toArray(),H,T)},G.prototype._initArray=function O(K,H,T){if(Y(typeof K.length==="number"),K.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(K.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var D,W,M=0;if(T==="be"){for(P=K.length-1,D=0;P>=0;P-=3)if(W=K[P]|K[P-1]<<8|K[P-2]<<16,this.words[D]|=W<<M&67108863,this.words[D+1]=W>>>26-M&67108863,M+=24,M>=26)M-=26,D++}else if(T==="le"){for(P=0,D=0;P<K.length;P+=3)if(W=K[P]|K[P+1]<<8|K[P+2]<<16,this.words[D]|=W<<M&67108863,this.words[D+1]=W>>>26-M&67108863,M+=24,M>=26)M-=26,D++}return this._strip()};function L(O,K){var H=O.charCodeAt(K);if(H>=48&&H<=57)return H-48;else if(H>=65&&H<=70)return H-55;else if(H>=97&&H<=102)return H-87;else Y(!1,"Invalid character in "+O)}function A(O,K,H){var T=L(O,H);if(H-1>=K)T|=L(O,H-1)<<4;return T}G.prototype._parseHex=function O(K,H,T){this.length=Math.ceil((K.length-H)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var D=0,W=0,M;if(T==="be")for(P=K.length-1;P>=H;P-=2)if(M=A(K,H,P)<<D,this.words[W]|=M&67108863,D>=18)D-=18,W+=1,this.words[W]|=M>>>26;else D+=8;else{var w=K.length-H;for(P=w%2===0?H+1:H;P<K.length;P+=2)if(M=A(K,H,P)<<D,this.words[W]|=M&67108863,D>=18)D-=18,W+=1,this.words[W]|=M>>>26;else D+=8}this._strip()};function F(O,K,H,T){var P=0,D=0,W=Math.min(O.length,H);for(var M=K;M<W;M++){var w=O.charCodeAt(M)-48;if(P*=T,w>=49)D=w-49+10;else if(w>=17)D=w-17+10;else D=w;Y(w>=0&&D<T,"Invalid character"),P+=D}return P}G.prototype._parseBase=function O(K,H,T){this.words=[0],this.length=1;for(var P=0,D=1;D<=67108863;D*=H)P++;P--,D=D/H|0;var W=K.length-T,M=W%P,w=Math.min(W,W-M)+T,j=0;for(var x=T;x<w;x+=P)if(j=F(K,x,x+P,H),this.imuln(D),this.words[0]+j<67108864)this.words[0]+=j;else this._iaddn(j);if(M!==0){var m=1;j=F(K,x,K.length,H);for(x=0;x<M;x++)m*=H;if(this.imuln(m),this.words[0]+j<67108864)this.words[0]+=j;else this._iaddn(j)}this._strip()},G.prototype.copy=function O(K){K.words=new Array(this.length);for(var H=0;H<this.length;H++)K.words[H]=this.words[H];K.length=this.length,K.negative=this.negative,K.red=this.red};function C(O,K){O.words=K.words,O.length=K.length,O.negative=K.negative,O.red=K.red}if(G.prototype._move=function O(K){C(K,this)},G.prototype.clone=function O(){var K=new G(null);return this.copy(K),K},G.prototype._expand=function O(K){while(this.length<K)this.words[this.length++]=0;return this},G.prototype._strip=function O(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function O(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},typeof Symbol!=="undefined"&&typeof Symbol.for==="function")try{G.prototype[Symbol.for("nodejs.util.inspect.custom")]=q}catch(O){G.prototype.inspect=q}else G.prototype.inspect=q;function q(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function O(K,H){K=K||10,H=H|0||1;var T;if(K===16||K==="hex"){T="";var P=0,D=0;for(var W=0;W<this.length;W++){var M=this.words[W],w=((M<<P|D)&16777215).toString(16);if(D=M>>>24-P&16777215,P+=2,P>=26)P-=26,W--;if(D!==0||W!==this.length-1)T=R[6-w.length]+w+T;else T=w+T}if(D!==0)T=D.toString(16)+T;while(T.length%H!==0)T="0"+T;if(this.negative!==0)T="-"+T;return T}if(K===(K|0)&&K>=2&&K<=36){var j=I[K],x=S[K];T="";var m=this.clone();m.negative=0;while(!m.isZero()){var o=m.modrn(x).toString(K);if(m=m.idivn(x),!m.isZero())T=R[j-o.length]+o+T;else T=o+T}if(this.isZero())T="0"+T;while(T.length%H!==0)T="0"+T;if(this.negative!==0)T="-"+T;return T}Y(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function O(){var K=this.words[0];if(this.length===2)K+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)K+=4503599627370496+this.words[1]*67108864;else if(this.length>2)Y(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-K:K},G.prototype.toJSON=function O(){return this.toString(16,2)},z)G.prototype.toBuffer=function O(K,H){return this.toArrayLike(z,K,H)};G.prototype.toArray=function O(K,H){return this.toArrayLike(Array,K,H)};var N=function O(K,H){if(K.allocUnsafe)return K.allocUnsafe(H);return new K(H)};if(G.prototype.toArrayLike=function O(K,H,T){this._strip();var P=this.byteLength(),D=T||Math.max(1,P);Y(P<=D,"byte array longer than desired length"),Y(D>0,"Requested array length <= 0");var W=N(K,D),M=H==="le"?"LE":"BE";return this["_toArrayLike"+M](W,P),W},G.prototype._toArrayLikeLE=function O(K,H){var T=0,P=0;for(var D=0,W=0;D<this.length;D++){var M=this.words[D]<<W|P;if(K[T++]=M&255,T<K.length)K[T++]=M>>8&255;if(T<K.length)K[T++]=M>>16&255;if(W===6){if(T<K.length)K[T++]=M>>24&255;P=0,W=0}else P=M>>>24,W+=2}if(T<K.length){K[T++]=P;while(T<K.length)K[T++]=0}},G.prototype._toArrayLikeBE=function O(K,H){var T=K.length-1,P=0;for(var D=0,W=0;D<this.length;D++){var M=this.words[D]<<W|P;if(K[T--]=M&255,T>=0)K[T--]=M>>8&255;if(T>=0)K[T--]=M>>16&255;if(W===6){if(T>=0)K[T--]=M>>24&255;P=0,W=0}else P=M>>>24,W+=2}if(T>=0){K[T--]=P;while(T>=0)K[T--]=0}},Math.clz32)G.prototype._countBits=function O(K){return 32-Math.clz32(K)};else G.prototype._countBits=function O(K){var H=K,T=0;if(H>=4096)T+=13,H>>>=13;if(H>=64)T+=7,H>>>=7;if(H>=8)T+=4,H>>>=4;if(H>=2)T+=2,H>>>=2;return T+H};G.prototype._zeroBits=function O(K){if(K===0)return 26;var H=K,T=0;if((H&8191)===0)T+=13,H>>>=13;if((H&127)===0)T+=7,H>>>=7;if((H&15)===0)T+=4,H>>>=4;if((H&3)===0)T+=2,H>>>=2;if((H&1)===0)T++;return T},G.prototype.bitLength=function O(){var K=this.words[this.length-1],H=this._countBits(K);return(this.length-1)*26+H};function B(O){var K=new Array(O.bitLength());for(var H=0;H<K.length;H++){var T=H/26|0,P=H%26;K[H]=O.words[T]>>>P&1}return K}G.prototype.zeroBits=function O(){if(this.isZero())return 0;var K=0;for(var H=0;H<this.length;H++){var T=this._zeroBits(this.words[H]);if(K+=T,T!==26)break}return K},G.prototype.byteLength=function O(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function O(K){if(this.negative!==0)return this.abs().inotn(K).iaddn(1);return this.clone()},G.prototype.fromTwos=function O(K){if(this.testn(K-1))return this.notn(K).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function O(){return this.negative!==0},G.prototype.neg=function O(){return this.clone().ineg()},G.prototype.ineg=function O(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function O(K){while(this.length<K.length)this.words[this.length++]=0;for(var H=0;H<K.length;H++)this.words[H]=this.words[H]|K.words[H];return this._strip()},G.prototype.ior=function O(K){return Y((this.negative|K.negative)===0),this.iuor(K)},G.prototype.or=function O(K){if(this.length>K.length)return this.clone().ior(K);return K.clone().ior(this)},G.prototype.uor=function O(K){if(this.length>K.length)return this.clone().iuor(K);return K.clone().iuor(this)},G.prototype.iuand=function O(K){var H;if(this.length>K.length)H=K;else H=this;for(var T=0;T<H.length;T++)this.words[T]=this.words[T]&K.words[T];return this.length=H.length,this._strip()},G.prototype.iand=function O(K){return Y((this.negative|K.negative)===0),this.iuand(K)},G.prototype.and=function O(K){if(this.length>K.length)return this.clone().iand(K);return K.clone().iand(this)},G.prototype.uand=function O(K){if(this.length>K.length)return this.clone().iuand(K);return K.clone().iuand(this)},G.prototype.iuxor=function O(K){var H,T;if(this.length>K.length)H=this,T=K;else H=K,T=this;for(var P=0;P<T.length;P++)this.words[P]=H.words[P]^T.words[P];if(this!==H)for(;P<H.length;P++)this.words[P]=H.words[P];return this.length=H.length,this._strip()},G.prototype.ixor=function O(K){return Y((this.negative|K.negative)===0),this.iuxor(K)},G.prototype.xor=function O(K){if(this.length>K.length)return this.clone().ixor(K);return K.clone().ixor(this)},G.prototype.uxor=function O(K){if(this.length>K.length)return this.clone().iuxor(K);return K.clone().iuxor(this)},G.prototype.inotn=function O(K){Y(typeof K==="number"&&K>=0);var H=Math.ceil(K/26)|0,T=K%26;if(this._expand(H),T>0)H--;for(var P=0;P<H;P++)this.words[P]=~this.words[P]&67108863;if(T>0)this.words[P]=~this.words[P]&67108863>>26-T;return this._strip()},G.prototype.notn=function O(K){return this.clone().inotn(K)},G.prototype.setn=function O(K,H){Y(typeof K==="number"&&K>=0);var T=K/26|0,P=K%26;if(this._expand(T+1),H)this.words[T]=this.words[T]|1<<P;else this.words[T]=this.words[T]&~(1<<P);return this._strip()},G.prototype.iadd=function O(K){var H;if(this.negative!==0&&K.negative===0)return this.negative=0,H=this.isub(K),this.negative^=1,this._normSign();else if(this.negative===0&&K.negative!==0)return K.negative=0,H=this.isub(K),K.negative=1,H._normSign();var T,P;if(this.length>K.length)T=this,P=K;else T=K,P=this;var D=0;for(var W=0;W<P.length;W++)H=(T.words[W]|0)+(P.words[W]|0)+D,this.words[W]=H&67108863,D=H>>>26;for(;D!==0&&W<T.length;W++)H=(T.words[W]|0)+D,this.words[W]=H&67108863,D=H>>>26;if(this.length=T.length,D!==0)this.words[this.length]=D,this.length++;else if(T!==this)for(;W<T.length;W++)this.words[W]=T.words[W];return this},G.prototype.add=function O(K){var H;if(K.negative!==0&&this.negative===0)return K.negative=0,H=this.sub(K),K.negative^=1,H;else if(K.negative===0&&this.negative!==0)return this.negative=0,H=K.sub(this),this.negative=1,H;if(this.length>K.length)return this.clone().iadd(K);return K.clone().iadd(this)},G.prototype.isub=function O(K){if(K.negative!==0){K.negative=0;var H=this.iadd(K);return K.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(K),this.negative=1,this._normSign();var T=this.cmp(K);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,D;if(T>0)P=this,D=K;else P=K,D=this;var W=0;for(var M=0;M<D.length;M++)H=(P.words[M]|0)-(D.words[M]|0)+W,W=H>>26,this.words[M]=H&67108863;for(;W!==0&&M<P.length;M++)H=(P.words[M]|0)+W,W=H>>26,this.words[M]=H&67108863;if(W===0&&M<P.length&&P!==this)for(;M<P.length;M++)this.words[M]=P.words[M];if(this.length=Math.max(this.length,M),P!==this)this.negative=1;return this._strip()},G.prototype.sub=function O(K){return this.clone().isub(K)};function _(O,K,H){H.negative=K.negative^O.negative;var T=O.length+K.length|0;H.length=T,T=T-1|0;var P=O.words[0]|0,D=K.words[0]|0,W=P*D,M=W&67108863,w=W/67108864|0;H.words[0]=M;for(var j=1;j<T;j++){var x=w>>>26,m=w&67108863,o=Math.min(j,K.length-1);for(var r=Math.max(0,j-O.length+1);r<=o;r++){var z0=j-r|0;P=O.words[z0]|0,D=K.words[r]|0,W=P*D+m,x+=W/67108864|0,m=W&67108863}H.words[j]=m|0,w=x|0}if(w!==0)H.words[j]=w|0;else H.length--;return H._strip()}var k=function O(K,H,T){var P=K.words,D=H.words,W=T.words,M=0,w,j,x,m=P[0]|0,o=m&8191,r=m>>>13,z0=P[1]|0,d=z0&8191,n=z0>>>13,R0=P[2]|0,W0=R0&8191,V0=R0>>>13,a=P[3]|0,u=a&8191,s=a>>>13,b0=P[4]|0,Q0=b0&8191,$0=b0>>>13,e=P[5]|0,i=e&8191,Y0=e>>>13,A0=P[6]|0,U0=A0&8191,L0=A0>>>13,e0=P[7]|0,H0=e0&8191,F0=e0>>>13,E$=P[8]|0,q0=E$&8191,E0=E$>>>13,i$=P[9]|0,T0=i$&8191,f0=i$>>>13,jQ=D[0]|0,v0=jQ&8191,g0=jQ>>>13,pQ=D[1]|0,_0=pQ&8191,w0=pQ>>>13,mQ=D[2]|0,x0=mQ&8191,S0=mQ>>>13,cQ=D[3]|0,y0=cQ&8191,N0=cQ>>>13,_Q=D[4]|0,g=_Q&8191,y=_Q>>>13,p0=D[5]|0,Z0=p0&8191,K0=p0>>>13,I$=D[6]|0,C0=I$&8191,P0=I$>>>13,wQ=D[7]|0,h0=wQ&8191,k0=wQ>>>13,xQ=D[8]|0,B0=xQ&8191,j0=xQ>>>13,p$=D[9]|0,$$=p$&8191,a0=p$>>>13;T.negative=K.negative^H.negative,T.length=19,w=Math.imul(o,v0),j=Math.imul(o,g0),j=j+Math.imul(r,v0)|0,x=Math.imul(r,g0);var B$=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(B$>>>26)|0,B$&=67108863,w=Math.imul(d,v0),j=Math.imul(d,g0),j=j+Math.imul(n,v0)|0,x=Math.imul(n,g0),w=w+Math.imul(o,_0)|0,j=j+Math.imul(o,w0)|0,j=j+Math.imul(r,_0)|0,x=x+Math.imul(r,w0)|0;var XQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(XQ>>>26)|0,XQ&=67108863,w=Math.imul(W0,v0),j=Math.imul(W0,g0),j=j+Math.imul(V0,v0)|0,x=Math.imul(V0,g0),w=w+Math.imul(d,_0)|0,j=j+Math.imul(d,w0)|0,j=j+Math.imul(n,_0)|0,x=x+Math.imul(n,w0)|0,w=w+Math.imul(o,x0)|0,j=j+Math.imul(o,S0)|0,j=j+Math.imul(r,x0)|0,x=x+Math.imul(r,S0)|0;var ZQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(ZQ>>>26)|0,ZQ&=67108863,w=Math.imul(u,v0),j=Math.imul(u,g0),j=j+Math.imul(s,v0)|0,x=Math.imul(s,g0),w=w+Math.imul(W0,_0)|0,j=j+Math.imul(W0,w0)|0,j=j+Math.imul(V0,_0)|0,x=x+Math.imul(V0,w0)|0,w=w+Math.imul(d,x0)|0,j=j+Math.imul(d,S0)|0,j=j+Math.imul(n,x0)|0,x=x+Math.imul(n,S0)|0,w=w+Math.imul(o,y0)|0,j=j+Math.imul(o,N0)|0,j=j+Math.imul(r,y0)|0,x=x+Math.imul(r,N0)|0;var YQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(YQ>>>26)|0,YQ&=67108863,w=Math.imul(Q0,v0),j=Math.imul(Q0,g0),j=j+Math.imul($0,v0)|0,x=Math.imul($0,g0),w=w+Math.imul(u,_0)|0,j=j+Math.imul(u,w0)|0,j=j+Math.imul(s,_0)|0,x=x+Math.imul(s,w0)|0,w=w+Math.imul(W0,x0)|0,j=j+Math.imul(W0,S0)|0,j=j+Math.imul(V0,x0)|0,x=x+Math.imul(V0,S0)|0,w=w+Math.imul(d,y0)|0,j=j+Math.imul(d,N0)|0,j=j+Math.imul(n,y0)|0,x=x+Math.imul(n,N0)|0,w=w+Math.imul(o,g)|0,j=j+Math.imul(o,y)|0,j=j+Math.imul(r,g)|0,x=x+Math.imul(r,y)|0;var JQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(JQ>>>26)|0,JQ&=67108863,w=Math.imul(i,v0),j=Math.imul(i,g0),j=j+Math.imul(Y0,v0)|0,x=Math.imul(Y0,g0),w=w+Math.imul(Q0,_0)|0,j=j+Math.imul(Q0,w0)|0,j=j+Math.imul($0,_0)|0,x=x+Math.imul($0,w0)|0,w=w+Math.imul(u,x0)|0,j=j+Math.imul(u,S0)|0,j=j+Math.imul(s,x0)|0,x=x+Math.imul(s,S0)|0,w=w+Math.imul(W0,y0)|0,j=j+Math.imul(W0,N0)|0,j=j+Math.imul(V0,y0)|0,x=x+Math.imul(V0,N0)|0,w=w+Math.imul(d,g)|0,j=j+Math.imul(d,y)|0,j=j+Math.imul(n,g)|0,x=x+Math.imul(n,y)|0,w=w+Math.imul(o,Z0)|0,j=j+Math.imul(o,K0)|0,j=j+Math.imul(r,Z0)|0,x=x+Math.imul(r,K0)|0;var GQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(GQ>>>26)|0,GQ&=67108863,w=Math.imul(U0,v0),j=Math.imul(U0,g0),j=j+Math.imul(L0,v0)|0,x=Math.imul(L0,g0),w=w+Math.imul(i,_0)|0,j=j+Math.imul(i,w0)|0,j=j+Math.imul(Y0,_0)|0,x=x+Math.imul(Y0,w0)|0,w=w+Math.imul(Q0,x0)|0,j=j+Math.imul(Q0,S0)|0,j=j+Math.imul($0,x0)|0,x=x+Math.imul($0,S0)|0,w=w+Math.imul(u,y0)|0,j=j+Math.imul(u,N0)|0,j=j+Math.imul(s,y0)|0,x=x+Math.imul(s,N0)|0,w=w+Math.imul(W0,g)|0,j=j+Math.imul(W0,y)|0,j=j+Math.imul(V0,g)|0,x=x+Math.imul(V0,y)|0,w=w+Math.imul(d,Z0)|0,j=j+Math.imul(d,K0)|0,j=j+Math.imul(n,Z0)|0,x=x+Math.imul(n,K0)|0,w=w+Math.imul(o,C0)|0,j=j+Math.imul(o,P0)|0,j=j+Math.imul(r,C0)|0,x=x+Math.imul(r,P0)|0;var WQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(WQ>>>26)|0,WQ&=67108863,w=Math.imul(H0,v0),j=Math.imul(H0,g0),j=j+Math.imul(F0,v0)|0,x=Math.imul(F0,g0),w=w+Math.imul(U0,_0)|0,j=j+Math.imul(U0,w0)|0,j=j+Math.imul(L0,_0)|0,x=x+Math.imul(L0,w0)|0,w=w+Math.imul(i,x0)|0,j=j+Math.imul(i,S0)|0,j=j+Math.imul(Y0,x0)|0,x=x+Math.imul(Y0,S0)|0,w=w+Math.imul(Q0,y0)|0,j=j+Math.imul(Q0,N0)|0,j=j+Math.imul($0,y0)|0,x=x+Math.imul($0,N0)|0,w=w+Math.imul(u,g)|0,j=j+Math.imul(u,y)|0,j=j+Math.imul(s,g)|0,x=x+Math.imul(s,y)|0,w=w+Math.imul(W0,Z0)|0,j=j+Math.imul(W0,K0)|0,j=j+Math.imul(V0,Z0)|0,x=x+Math.imul(V0,K0)|0,w=w+Math.imul(d,C0)|0,j=j+Math.imul(d,P0)|0,j=j+Math.imul(n,C0)|0,x=x+Math.imul(n,P0)|0,w=w+Math.imul(o,h0)|0,j=j+Math.imul(o,k0)|0,j=j+Math.imul(r,h0)|0,x=x+Math.imul(r,k0)|0;var VQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(VQ>>>26)|0,VQ&=67108863,w=Math.imul(q0,v0),j=Math.imul(q0,g0),j=j+Math.imul(E0,v0)|0,x=Math.imul(E0,g0),w=w+Math.imul(H0,_0)|0,j=j+Math.imul(H0,w0)|0,j=j+Math.imul(F0,_0)|0,x=x+Math.imul(F0,w0)|0,w=w+Math.imul(U0,x0)|0,j=j+Math.imul(U0,S0)|0,j=j+Math.imul(L0,x0)|0,x=x+Math.imul(L0,S0)|0,w=w+Math.imul(i,y0)|0,j=j+Math.imul(i,N0)|0,j=j+Math.imul(Y0,y0)|0,x=x+Math.imul(Y0,N0)|0,w=w+Math.imul(Q0,g)|0,j=j+Math.imul(Q0,y)|0,j=j+Math.imul($0,g)|0,x=x+Math.imul($0,y)|0,w=w+Math.imul(u,Z0)|0,j=j+Math.imul(u,K0)|0,j=j+Math.imul(s,Z0)|0,x=x+Math.imul(s,K0)|0,w=w+Math.imul(W0,C0)|0,j=j+Math.imul(W0,P0)|0,j=j+Math.imul(V0,C0)|0,x=x+Math.imul(V0,P0)|0,w=w+Math.imul(d,h0)|0,j=j+Math.imul(d,k0)|0,j=j+Math.imul(n,h0)|0,x=x+Math.imul(n,k0)|0,w=w+Math.imul(o,B0)|0,j=j+Math.imul(o,j0)|0,j=j+Math.imul(r,B0)|0,x=x+Math.imul(r,j0)|0;var KQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(KQ>>>26)|0,KQ&=67108863,w=Math.imul(T0,v0),j=Math.imul(T0,g0),j=j+Math.imul(f0,v0)|0,x=Math.imul(f0,g0),w=w+Math.imul(q0,_0)|0,j=j+Math.imul(q0,w0)|0,j=j+Math.imul(E0,_0)|0,x=x+Math.imul(E0,w0)|0,w=w+Math.imul(H0,x0)|0,j=j+Math.imul(H0,S0)|0,j=j+Math.imul(F0,x0)|0,x=x+Math.imul(F0,S0)|0,w=w+Math.imul(U0,y0)|0,j=j+Math.imul(U0,N0)|0,j=j+Math.imul(L0,y0)|0,x=x+Math.imul(L0,N0)|0,w=w+Math.imul(i,g)|0,j=j+Math.imul(i,y)|0,j=j+Math.imul(Y0,g)|0,x=x+Math.imul(Y0,y)|0,w=w+Math.imul(Q0,Z0)|0,j=j+Math.imul(Q0,K0)|0,j=j+Math.imul($0,Z0)|0,x=x+Math.imul($0,K0)|0,w=w+Math.imul(u,C0)|0,j=j+Math.imul(u,P0)|0,j=j+Math.imul(s,C0)|0,x=x+Math.imul(s,P0)|0,w=w+Math.imul(W0,h0)|0,j=j+Math.imul(W0,k0)|0,j=j+Math.imul(V0,h0)|0,x=x+Math.imul(V0,k0)|0,w=w+Math.imul(d,B0)|0,j=j+Math.imul(d,j0)|0,j=j+Math.imul(n,B0)|0,x=x+Math.imul(n,j0)|0,w=w+Math.imul(o,$$)|0,j=j+Math.imul(o,a0)|0,j=j+Math.imul(r,$$)|0,x=x+Math.imul(r,a0)|0;var UQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(UQ>>>26)|0,UQ&=67108863,w=Math.imul(T0,_0),j=Math.imul(T0,w0),j=j+Math.imul(f0,_0)|0,x=Math.imul(f0,w0),w=w+Math.imul(q0,x0)|0,j=j+Math.imul(q0,S0)|0,j=j+Math.imul(E0,x0)|0,x=x+Math.imul(E0,S0)|0,w=w+Math.imul(H0,y0)|0,j=j+Math.imul(H0,N0)|0,j=j+Math.imul(F0,y0)|0,x=x+Math.imul(F0,N0)|0,w=w+Math.imul(U0,g)|0,j=j+Math.imul(U0,y)|0,j=j+Math.imul(L0,g)|0,x=x+Math.imul(L0,y)|0,w=w+Math.imul(i,Z0)|0,j=j+Math.imul(i,K0)|0,j=j+Math.imul(Y0,Z0)|0,x=x+Math.imul(Y0,K0)|0,w=w+Math.imul(Q0,C0)|0,j=j+Math.imul(Q0,P0)|0,j=j+Math.imul($0,C0)|0,x=x+Math.imul($0,P0)|0,w=w+Math.imul(u,h0)|0,j=j+Math.imul(u,k0)|0,j=j+Math.imul(s,h0)|0,x=x+Math.imul(s,k0)|0,w=w+Math.imul(W0,B0)|0,j=j+Math.imul(W0,j0)|0,j=j+Math.imul(V0,B0)|0,x=x+Math.imul(V0,j0)|0,w=w+Math.imul(d,$$)|0,j=j+Math.imul(d,a0)|0,j=j+Math.imul(n,$$)|0,x=x+Math.imul(n,a0)|0;var OQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(OQ>>>26)|0,OQ&=67108863,w=Math.imul(T0,x0),j=Math.imul(T0,S0),j=j+Math.imul(f0,x0)|0,x=Math.imul(f0,S0),w=w+Math.imul(q0,y0)|0,j=j+Math.imul(q0,N0)|0,j=j+Math.imul(E0,y0)|0,x=x+Math.imul(E0,N0)|0,w=w+Math.imul(H0,g)|0,j=j+Math.imul(H0,y)|0,j=j+Math.imul(F0,g)|0,x=x+Math.imul(F0,y)|0,w=w+Math.imul(U0,Z0)|0,j=j+Math.imul(U0,K0)|0,j=j+Math.imul(L0,Z0)|0,x=x+Math.imul(L0,K0)|0,w=w+Math.imul(i,C0)|0,j=j+Math.imul(i,P0)|0,j=j+Math.imul(Y0,C0)|0,x=x+Math.imul(Y0,P0)|0,w=w+Math.imul(Q0,h0)|0,j=j+Math.imul(Q0,k0)|0,j=j+Math.imul($0,h0)|0,x=x+Math.imul($0,k0)|0,w=w+Math.imul(u,B0)|0,j=j+Math.imul(u,j0)|0,j=j+Math.imul(s,B0)|0,x=x+Math.imul(s,j0)|0,w=w+Math.imul(W0,$$)|0,j=j+Math.imul(W0,a0)|0,j=j+Math.imul(V0,$$)|0,x=x+Math.imul(V0,a0)|0;var zQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(zQ>>>26)|0,zQ&=67108863,w=Math.imul(T0,y0),j=Math.imul(T0,N0),j=j+Math.imul(f0,y0)|0,x=Math.imul(f0,N0),w=w+Math.imul(q0,g)|0,j=j+Math.imul(q0,y)|0,j=j+Math.imul(E0,g)|0,x=x+Math.imul(E0,y)|0,w=w+Math.imul(H0,Z0)|0,j=j+Math.imul(H0,K0)|0,j=j+Math.imul(F0,Z0)|0,x=x+Math.imul(F0,K0)|0,w=w+Math.imul(U0,C0)|0,j=j+Math.imul(U0,P0)|0,j=j+Math.imul(L0,C0)|0,x=x+Math.imul(L0,P0)|0,w=w+Math.imul(i,h0)|0,j=j+Math.imul(i,k0)|0,j=j+Math.imul(Y0,h0)|0,x=x+Math.imul(Y0,k0)|0,w=w+Math.imul(Q0,B0)|0,j=j+Math.imul(Q0,j0)|0,j=j+Math.imul($0,B0)|0,x=x+Math.imul($0,j0)|0,w=w+Math.imul(u,$$)|0,j=j+Math.imul(u,a0)|0,j=j+Math.imul(s,$$)|0,x=x+Math.imul(s,a0)|0;var HQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(HQ>>>26)|0,HQ&=67108863,w=Math.imul(T0,g),j=Math.imul(T0,y),j=j+Math.imul(f0,g)|0,x=Math.imul(f0,y),w=w+Math.imul(q0,Z0)|0,j=j+Math.imul(q0,K0)|0,j=j+Math.imul(E0,Z0)|0,x=x+Math.imul(E0,K0)|0,w=w+Math.imul(H0,C0)|0,j=j+Math.imul(H0,P0)|0,j=j+Math.imul(F0,C0)|0,x=x+Math.imul(F0,P0)|0,w=w+Math.imul(U0,h0)|0,j=j+Math.imul(U0,k0)|0,j=j+Math.imul(L0,h0)|0,x=x+Math.imul(L0,k0)|0,w=w+Math.imul(i,B0)|0,j=j+Math.imul(i,j0)|0,j=j+Math.imul(Y0,B0)|0,x=x+Math.imul(Y0,j0)|0,w=w+Math.imul(Q0,$$)|0,j=j+Math.imul(Q0,a0)|0,j=j+Math.imul($0,$$)|0,x=x+Math.imul($0,a0)|0;var DQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(DQ>>>26)|0,DQ&=67108863,w=Math.imul(T0,Z0),j=Math.imul(T0,K0),j=j+Math.imul(f0,Z0)|0,x=Math.imul(f0,K0),w=w+Math.imul(q0,C0)|0,j=j+Math.imul(q0,P0)|0,j=j+Math.imul(E0,C0)|0,x=x+Math.imul(E0,P0)|0,w=w+Math.imul(H0,h0)|0,j=j+Math.imul(H0,k0)|0,j=j+Math.imul(F0,h0)|0,x=x+Math.imul(F0,k0)|0,w=w+Math.imul(U0,B0)|0,j=j+Math.imul(U0,j0)|0,j=j+Math.imul(L0,B0)|0,x=x+Math.imul(L0,j0)|0,w=w+Math.imul(i,$$)|0,j=j+Math.imul(i,a0)|0,j=j+Math.imul(Y0,$$)|0,x=x+Math.imul(Y0,a0)|0;var LQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(LQ>>>26)|0,LQ&=67108863,w=Math.imul(T0,C0),j=Math.imul(T0,P0),j=j+Math.imul(f0,C0)|0,x=Math.imul(f0,P0),w=w+Math.imul(q0,h0)|0,j=j+Math.imul(q0,k0)|0,j=j+Math.imul(E0,h0)|0,x=x+Math.imul(E0,k0)|0,w=w+Math.imul(H0,B0)|0,j=j+Math.imul(H0,j0)|0,j=j+Math.imul(F0,B0)|0,x=x+Math.imul(F0,j0)|0,w=w+Math.imul(U0,$$)|0,j=j+Math.imul(U0,a0)|0,j=j+Math.imul(L0,$$)|0,x=x+Math.imul(L0,a0)|0;var qQ=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(qQ>>>26)|0,qQ&=67108863,w=Math.imul(T0,h0),j=Math.imul(T0,k0),j=j+Math.imul(f0,h0)|0,x=Math.imul(f0,k0),w=w+Math.imul(q0,B0)|0,j=j+Math.imul(q0,j0)|0,j=j+Math.imul(E0,B0)|0,x=x+Math.imul(E0,j0)|0,w=w+Math.imul(H0,$$)|0,j=j+Math.imul(H0,a0)|0,j=j+Math.imul(F0,$$)|0,x=x+Math.imul(F0,a0)|0;var _U=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(_U>>>26)|0,_U&=67108863,w=Math.imul(T0,B0),j=Math.imul(T0,j0),j=j+Math.imul(f0,B0)|0,x=Math.imul(f0,j0),w=w+Math.imul(q0,$$)|0,j=j+Math.imul(q0,a0)|0,j=j+Math.imul(E0,$$)|0,x=x+Math.imul(E0,a0)|0;var wU=(M+w|0)+((j&8191)<<13)|0;M=(x+(j>>>13)|0)+(wU>>>26)|0,wU&=67108863,w=Math.imul(T0,$$),j=Math.imul(T0,a0),j=j+Math.imul(f0,$$)|0,x=Math.imul(f0,a0);var xU=(M+w|0)+((j&8191)<<13)|0;if(M=(x+(j>>>13)|0)+(xU>>>26)|0,xU&=67108863,W[0]=B$,W[1]=XQ,W[2]=ZQ,W[3]=YQ,W[4]=JQ,W[5]=GQ,W[6]=WQ,W[7]=VQ,W[8]=KQ,W[9]=UQ,W[10]=OQ,W[11]=zQ,W[12]=HQ,W[13]=DQ,W[14]=LQ,W[15]=qQ,W[16]=_U,W[17]=wU,W[18]=xU,M!==0)W[19]=M,T.length++;return T};if(!Math.imul)k=_;function f(O,K,H){H.negative=K.negative^O.negative,H.length=O.length+K.length;var T=0,P=0;for(var D=0;D<H.length-1;D++){var W=P;P=0;var M=T&67108863,w=Math.min(D,K.length-1);for(var j=Math.max(0,D-O.length+1);j<=w;j++){var x=D-j,m=O.words[x]|0,o=K.words[j]|0,r=m*o,z0=r&67108863;W=W+(r/67108864|0)|0,z0=z0+M|0,M=z0&67108863,W=W+(z0>>>26)|0,P+=W>>>26,W&=67108863}H.words[D]=M,T=W,W=P}if(T!==0)H.words[D]=T;else H.length--;return H._strip()}function v(O,K,H){return f(O,K,H)}G.prototype.mulTo=function O(K,H){var T,P=this.length+K.length;if(this.length===10&&K.length===10)T=k(this,K,H);else if(P<63)T=_(this,K,H);else if(P<1024)T=f(this,K,H);else T=v(this,K,H);return T};function p(O,K){this.x=O,this.y=K}p.prototype.makeRBT=function O(K){var H=new Array(K),T=G.prototype._countBits(K)-1;for(var P=0;P<K;P++)H[P]=this.revBin(P,T,K);return H},p.prototype.revBin=function O(K,H,T){if(K===0||K===T-1)return K;var P=0;for(var D=0;D<H;D++)P|=(K&1)<<H-D-1,K>>=1;return P},p.prototype.permute=function O(K,H,T,P,D,W){for(var M=0;M<W;M++)P[M]=H[K[M]],D[M]=T[K[M]]},p.prototype.transform=function O(K,H,T,P,D,W){this.permute(W,K,H,T,P,D);for(var M=1;M<D;M<<=1){var w=M<<1,j=Math.cos(2*Math.PI/w),x=Math.sin(2*Math.PI/w);for(var m=0;m<D;m+=w){var o=j,r=x;for(var z0=0;z0<M;z0++){var d=T[m+z0],n=P[m+z0],R0=T[m+z0+M],W0=P[m+z0+M],V0=o*R0-r*W0;if(W0=o*W0+r*R0,R0=V0,T[m+z0]=d+R0,P[m+z0]=n+W0,T[m+z0+M]=d-R0,P[m+z0+M]=n-W0,z0!==w)V0=j*o-x*r,r=j*r+x*o,o=V0}}}},p.prototype.guessLen13b=function O(K,H){var T=Math.max(H,K)|1,P=T&1,D=0;for(T=T/2|0;T;T=T>>>1)D++;return 1<<D+1+P},p.prototype.conjugate=function O(K,H,T){if(T<=1)return;for(var P=0;P<T/2;P++){var D=K[P];K[P]=K[T-P-1],K[T-P-1]=D,D=H[P],H[P]=-H[T-P-1],H[T-P-1]=-D}},p.prototype.normalize13b=function O(K,H){var T=0;for(var P=0;P<H/2;P++){var D=Math.round(K[2*P+1]/H)*8192+Math.round(K[2*P]/H)+T;if(K[P]=D&67108863,D<67108864)T=0;else T=D/67108864|0}return K},p.prototype.convert13b=function O(K,H,T,P){var D=0;for(var W=0;W<H;W++)D=D+(K[W]|0),T[2*W]=D&8191,D=D>>>13,T[2*W+1]=D&8191,D=D>>>13;for(W=2*H;W<P;++W)T[W]=0;Y(D===0),Y((D&-8192)===0)},p.prototype.stub=function O(K){var H=new Array(K);for(var T=0;T<K;T++)H[T]=0;return H},p.prototype.mulp=function O(K,H,T){var P=2*this.guessLen13b(K.length,H.length),D=this.makeRBT(P),W=this.stub(P),M=new Array(P),w=new Array(P),j=new Array(P),x=new Array(P),m=new Array(P),o=new Array(P),r=T.words;r.length=P,this.convert13b(K.words,K.length,M,P),this.convert13b(H.words,H.length,x,P),this.transform(M,W,w,j,P,D),this.transform(x,W,m,o,P,D);for(var z0=0;z0<P;z0++){var d=w[z0]*m[z0]-j[z0]*o[z0];j[z0]=w[z0]*o[z0]+j[z0]*m[z0],w[z0]=d}return this.conjugate(w,j,P),this.transform(w,j,r,W,P,D),this.conjugate(r,W,P),this.normalize13b(r,P),T.negative=K.negative^H.negative,T.length=K.length+H.length,T._strip()},G.prototype.mul=function O(K){var H=new G(null);return H.words=new Array(this.length+K.length),this.mulTo(K,H)},G.prototype.mulf=function O(K){var H=new G(null);return H.words=new Array(this.length+K.length),v(this,K,H)},G.prototype.imul=function O(K){return this.clone().mulTo(K,this)},G.prototype.imuln=function O(K){var H=K<0;if(H)K=-K;Y(typeof K==="number"),Y(K<67108864);var T=0;for(var P=0;P<this.length;P++){var D=(this.words[P]|0)*K,W=(D&67108863)+(T&67108863);T>>=26,T+=D/67108864|0,T+=W>>>26,this.words[P]=W&67108863}if(T!==0)this.words[P]=T,this.length++;return this.length=K===0?1:this.length,H?this.ineg():this},G.prototype.muln=function O(K){return this.clone().imuln(K)},G.prototype.sqr=function O(){return this.mul(this)},G.prototype.isqr=function O(){return this.imul(this.clone())},G.prototype.pow=function O(K){var H=B(K);if(H.length===0)return new G(1);var T=this;for(var P=0;P<H.length;P++,T=T.sqr())if(H[P]!==0)break;if(++P<H.length)for(var D=T.sqr();P<H.length;P++,D=D.sqr()){if(H[P]===0)continue;T=T.mul(D)}return T},G.prototype.iushln=function O(K){Y(typeof K==="number"&&K>=0);var H=K%26,T=(K-H)/26,P=67108863>>>26-H<<26-H,D;if(H!==0){var W=0;for(D=0;D<this.length;D++){var M=this.words[D]&P,w=(this.words[D]|0)-M<<H;this.words[D]=w|W,W=M>>>26-H}if(W)this.words[D]=W,this.length++}if(T!==0){for(D=this.length-1;D>=0;D--)this.words[D+T]=this.words[D];for(D=0;D<T;D++)this.words[D]=0;this.length+=T}return this._strip()},G.prototype.ishln=function O(K){return Y(this.negative===0),this.iushln(K)},G.prototype.iushrn=function O(K,H,T){Y(typeof K==="number"&&K>=0);var P;if(H)P=(H-H%26)/26;else P=0;var D=K%26,W=Math.min((K-D)/26,this.length),M=67108863^67108863>>>D<<D,w=T;if(P-=W,P=Math.max(0,P),w){for(var j=0;j<W;j++)w.words[j]=this.words[j];w.length=W}if(W===0);else if(this.length>W){this.length-=W;for(j=0;j<this.length;j++)this.words[j]=this.words[j+W]}else this.words[0]=0,this.length=1;var x=0;for(j=this.length-1;j>=0&&(x!==0||j>=P);j--){var m=this.words[j]|0;this.words[j]=x<<26-D|m>>>D,x=m&M}if(w&&x!==0)w.words[w.length++]=x;if(this.length===0)this.words[0]=0,this.length=1;return this._strip()},G.prototype.ishrn=function O(K,H,T){return Y(this.negative===0),this.iushrn(K,H,T)},G.prototype.shln=function O(K){return this.clone().ishln(K)},G.prototype.ushln=function O(K){return this.clone().iushln(K)},G.prototype.shrn=function O(K){return this.clone().ishrn(K)},G.prototype.ushrn=function O(K){return this.clone().iushrn(K)},G.prototype.testn=function O(K){Y(typeof K==="number"&&K>=0);var H=K%26,T=(K-H)/26,P=1<<H;if(this.length<=T)return!1;var D=this.words[T];return!!(D&P)},G.prototype.imaskn=function O(K){Y(typeof K==="number"&&K>=0);var H=K%26,T=(K-H)/26;if(Y(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(H!==0)T++;if(this.length=Math.min(T,this.length),H!==0){var P=67108863^67108863>>>H<<H;this.words[this.length-1]&=P}return this._strip()},G.prototype.maskn=function O(K){return this.clone().imaskn(K)},G.prototype.iaddn=function O(K){if(Y(typeof K==="number"),Y(K<67108864),K<0)return this.isubn(-K);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=K)return this.words[0]=K-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(K),this.negative=1,this}return this._iaddn(K)},G.prototype._iaddn=function O(K){this.words[0]+=K;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)if(this.words[H]-=67108864,H===this.length-1)this.words[H+1]=1;else this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},G.prototype.isubn=function O(K){if(Y(typeof K==="number"),Y(K<67108864),K<0)return this.iaddn(-K);if(this.negative!==0)return this.negative=0,this.iaddn(K),this.negative=1,this;if(this.words[0]-=K,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this._strip()},G.prototype.addn=function O(K){return this.clone().iaddn(K)},G.prototype.subn=function O(K){return this.clone().isubn(K)},G.prototype.iabs=function O(){return this.negative=0,this},G.prototype.abs=function O(){return this.clone().iabs()},G.prototype._ishlnsubmul=function O(K,H,T){var P=K.length+T,D;this._expand(P);var W,M=0;for(D=0;D<K.length;D++){W=(this.words[D+T]|0)+M;var w=(K.words[D]|0)*H;W-=w&67108863,M=(W>>26)-(w/67108864|0),this.words[D+T]=W&67108863}for(;D<this.length-T;D++)W=(this.words[D+T]|0)+M,M=W>>26,this.words[D+T]=W&67108863;if(M===0)return this._strip();Y(M===-1),M=0;for(D=0;D<this.length;D++)W=-(this.words[D]|0)+M,M=W>>26,this.words[D]=W&67108863;return this.negative=1,this._strip()},G.prototype._wordDiv=function O(K,H){var T=this.length-K.length,P=this.clone(),D=K,W=D.words[D.length-1]|0,M=this._countBits(W);if(T=26-M,T!==0)D=D.ushln(T),P.iushln(T),W=D.words[D.length-1]|0;var w=P.length-D.length,j;if(H!=="mod"){j=new G(null),j.length=w+1,j.words=new Array(j.length);for(var x=0;x<j.length;x++)j.words[x]=0}var m=P.clone()._ishlnsubmul(D,1,w);if(m.negative===0){if(P=m,j)j.words[w]=1}for(var o=w-1;o>=0;o--){var r=(P.words[D.length+o]|0)*67108864+(P.words[D.length+o-1]|0);r=Math.min(r/W|0,67108863),P._ishlnsubmul(D,r,o);while(P.negative!==0)if(r--,P.negative=0,P._ishlnsubmul(D,1,o),!P.isZero())P.negative^=1;if(j)j.words[o]=r}if(j)j._strip();if(P._strip(),H!=="div"&&T!==0)P.iushrn(T);return{div:j||null,mod:P}},G.prototype.divmod=function O(K,H,T){if(Y(!K.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var P,D,W;if(this.negative!==0&&K.negative===0){if(W=this.neg().divmod(K,H),H!=="mod")P=W.div.neg();if(H!=="div"){if(D=W.mod.neg(),T&&D.negative!==0)D.iadd(K)}return{div:P,mod:D}}if(this.negative===0&&K.negative!==0){if(W=this.divmod(K.neg(),H),H!=="mod")P=W.div.neg();return{div:P,mod:W.mod}}if((this.negative&K.negative)!==0){if(W=this.neg().divmod(K.neg(),H),H!=="div"){if(D=W.mod.neg(),T&&D.negative!==0)D.isub(K)}return{div:W.div,mod:D}}if(K.length>this.length||this.cmp(K)<0)return{div:new G(0),mod:this};if(K.length===1){if(H==="div")return{div:this.divn(K.words[0]),mod:null};if(H==="mod")return{div:null,mod:new G(this.modrn(K.words[0]))};return{div:this.divn(K.words[0]),mod:new G(this.modrn(K.words[0]))}}return this._wordDiv(K,H)},G.prototype.div=function O(K){return this.divmod(K,"div",!1).div},G.prototype.mod=function O(K){return this.divmod(K,"mod",!1).mod},G.prototype.umod=function O(K){return this.divmod(K,"mod",!0).mod},G.prototype.divRound=function O(K){var H=this.divmod(K);if(H.mod.isZero())return H.div;var T=H.div.negative!==0?H.mod.isub(K):H.mod,P=K.ushrn(1),D=K.andln(1),W=T.cmp(P);if(W<0||D===1&&W===0)return H.div;return H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},G.prototype.modrn=function O(K){var H=K<0;if(H)K=-K;Y(K<=67108863);var T=67108864%K,P=0;for(var D=this.length-1;D>=0;D--)P=(T*P+(this.words[D]|0))%K;return H?-P:P},G.prototype.modn=function O(K){return this.modrn(K)},G.prototype.idivn=function O(K){var H=K<0;if(H)K=-K;Y(K<=67108863);var T=0;for(var P=this.length-1;P>=0;P--){var D=(this.words[P]|0)+T*67108864;this.words[P]=D/K|0,T=D%K}return this._strip(),H?this.ineg():this},G.prototype.divn=function O(K){return this.clone().idivn(K)},G.prototype.egcd=function O(K){Y(K.negative===0),Y(!K.isZero());var H=this,T=K.clone();if(H.negative!==0)H=H.umod(K);else H=H.clone();var P=new G(1),D=new G(0),W=new G(0),M=new G(1),w=0;while(H.isEven()&&T.isEven())H.iushrn(1),T.iushrn(1),++w;var j=T.clone(),x=H.clone();while(!H.isZero()){for(var m=0,o=1;(H.words[0]&o)===0&&m<26;++m,o<<=1);if(m>0){H.iushrn(m);while(m-- >0){if(P.isOdd()||D.isOdd())P.iadd(j),D.isub(x);P.iushrn(1),D.iushrn(1)}}for(var r=0,z0=1;(T.words[0]&z0)===0&&r<26;++r,z0<<=1);if(r>0){T.iushrn(r);while(r-- >0){if(W.isOdd()||M.isOdd())W.iadd(j),M.isub(x);W.iushrn(1),M.iushrn(1)}}if(H.cmp(T)>=0)H.isub(T),P.isub(W),D.isub(M);else T.isub(H),W.isub(P),M.isub(D)}return{a:W,b:M,gcd:T.iushln(w)}},G.prototype._invmp=function O(K){Y(K.negative===0),Y(!K.isZero());var H=this,T=K.clone();if(H.negative!==0)H=H.umod(K);else H=H.clone();var P=new G(1),D=new G(0),W=T.clone();while(H.cmpn(1)>0&&T.cmpn(1)>0){for(var M=0,w=1;(H.words[0]&w)===0&&M<26;++M,w<<=1);if(M>0){H.iushrn(M);while(M-- >0){if(P.isOdd())P.iadd(W);P.iushrn(1)}}for(var j=0,x=1;(T.words[0]&x)===0&&j<26;++j,x<<=1);if(j>0){T.iushrn(j);while(j-- >0){if(D.isOdd())D.iadd(W);D.iushrn(1)}}if(H.cmp(T)>=0)H.isub(T),P.isub(D);else T.isub(H),D.isub(P)}var m;if(H.cmpn(1)===0)m=P;else m=D;if(m.cmpn(0)<0)m.iadd(K);return m},G.prototype.gcd=function O(K){if(this.isZero())return K.abs();if(K.isZero())return this.abs();var H=this.clone(),T=K.clone();H.negative=0,T.negative=0;for(var P=0;H.isEven()&&T.isEven();P++)H.iushrn(1),T.iushrn(1);do{while(H.isEven())H.iushrn(1);while(T.isEven())T.iushrn(1);var D=H.cmp(T);if(D<0){var W=H;H=T,T=W}else if(D===0||T.cmpn(1)===0)break;H.isub(T)}while(!0);return T.iushln(P)},G.prototype.invm=function O(K){return this.egcd(K).a.umod(K)},G.prototype.isEven=function O(){return(this.words[0]&1)===0},G.prototype.isOdd=function O(){return(this.words[0]&1)===1},G.prototype.andln=function O(K){return this.words[0]&K},G.prototype.bincn=function O(K){Y(typeof K==="number");var H=K%26,T=(K-H)/26,P=1<<H;if(this.length<=T)return this._expand(T+1),this.words[T]|=P,this;var D=P;for(var W=T;D!==0&&W<this.length;W++){var M=this.words[W]|0;M+=D,D=M>>>26,M&=67108863,this.words[W]=M}if(D!==0)this.words[W]=D,this.length++;return this},G.prototype.isZero=function O(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function O(K){var H=K<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this._strip();var T;if(this.length>1)T=1;else{if(H)K=-K;Y(K<=67108863,"Number is too big");var P=this.words[0]|0;T=P===K?0:P<K?-1:1}if(this.negative!==0)return-T|0;return T},G.prototype.cmp=function O(K){if(this.negative!==0&&K.negative===0)return-1;if(this.negative===0&&K.negative!==0)return 1;var H=this.ucmp(K);if(this.negative!==0)return-H|0;return H},G.prototype.ucmp=function O(K){if(this.length>K.length)return 1;if(this.length<K.length)return-1;var H=0;for(var T=this.length-1;T>=0;T--){var P=this.words[T]|0,D=K.words[T]|0;if(P===D)continue;if(P<D)H=-1;else if(P>D)H=1;break}return H},G.prototype.gtn=function O(K){return this.cmpn(K)===1},G.prototype.gt=function O(K){return this.cmp(K)===1},G.prototype.gten=function O(K){return this.cmpn(K)>=0},G.prototype.gte=function O(K){return this.cmp(K)>=0},G.prototype.ltn=function O(K){return this.cmpn(K)===-1},G.prototype.lt=function O(K){return this.cmp(K)===-1},G.prototype.lten=function O(K){return this.cmpn(K)<=0},G.prototype.lte=function O(K){return this.cmp(K)<=0},G.prototype.eqn=function O(K){return this.cmpn(K)===0},G.prototype.eq=function O(K){return this.cmp(K)===0},G.red=function O(K){return new J(K)},G.prototype.toRed=function O(K){return Y(!this.red,"Already a number in reduction context"),Y(this.negative===0,"red works only with positives"),K.convertTo(this)._forceRed(K)},G.prototype.fromRed=function O(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function O(K){return this.red=K,this},G.prototype.forceRed=function O(K){return Y(!this.red,"Already a number in reduction context"),this._forceRed(K)},G.prototype.redAdd=function O(K){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,K)},G.prototype.redIAdd=function O(K){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,K)},G.prototype.redSub=function O(K){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,K)},G.prototype.redISub=function O(K){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,K)},G.prototype.redShl=function O(K){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,K)},G.prototype.redMul=function O(K){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,K),this.red.mul(this,K)},G.prototype.redIMul=function O(K){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,K),this.red.imul(this,K)},G.prototype.redSqr=function O(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function O(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function O(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function O(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function O(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function O(K){return Y(this.red&&!K.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,K)};var c={k256:null,p224:null,p192:null,p25519:null};function X0(O,K){this.name=O,this.p=new G(K,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X0.prototype._tmp=function O(){var K=new G(null);return K.words=new Array(Math.ceil(this.n/13)),K},X0.prototype.ireduce=function O(K){var H=K,T;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),T=H.bitLength();while(T>this.n);var P=T<this.n?-1:H.ucmp(this.p);if(P===0)H.words[0]=0,H.length=1;else if(P>0)H.isub(this.p);else if(H.strip!==void 0)H.strip();else H._strip();return H},X0.prototype.split=function O(K,H){K.iushrn(this.n,0,H)},X0.prototype.imulK=function O(K){return K.imul(this.k)};function t(){X0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}V(t,X0),t.prototype.split=function O(K,H){var T=4194303,P=Math.min(K.length,9);for(var D=0;D<P;D++)H.words[D]=K.words[D];if(H.length=P,K.length<=9){K.words[0]=0,K.length=1;return}var W=K.words[9];H.words[H.length++]=W&T;for(D=10;D<K.length;D++){var M=K.words[D]|0;K.words[D-10]=(M&T)<<4|W>>>22,W=M}if(W>>>=22,K.words[D-10]=W,W===0&&K.length>10)K.length-=10;else K.length-=9},t.prototype.imulK=function O(K){K.words[K.length]=0,K.words[K.length+1]=0,K.length+=2;var H=0;for(var T=0;T<K.length;T++){var P=K.words[T]|0;H+=P*977,K.words[T]=H&67108863,H=P*64+(H/67108864|0)}if(K.words[K.length-1]===0){if(K.length--,K.words[K.length-1]===0)K.length--}return K};function h(){X0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}V(h,X0);function l(){X0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}V(l,X0);function E(){X0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}V(E,X0),E.prototype.imulK=function O(K){var H=0;for(var T=0;T<K.length;T++){var P=(K.words[T]|0)*19+H,D=P&67108863;P>>>=26,K.words[T]=D,H=P}if(H!==0)K.words[K.length++]=H;return K},G._prime=function O(K){if(c[K])return c[K];var H;if(K==="k256")H=new t;else if(K==="p224")H=new h;else if(K==="p192")H=new l;else if(K==="p25519")H=new E;else throw new Error("Unknown prime "+K);return c[K]=H,H};function J(O){if(typeof O==="string"){var K=G._prime(O);this.m=K.p,this.prime=K}else Y(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}J.prototype._verify1=function O(K){Y(K.negative===0,"red works only with positives"),Y(K.red,"red works only with red numbers")},J.prototype._verify2=function O(K,H){Y((K.negative|H.negative)===0,"red works only with positives"),Y(K.red&&K.red===H.red,"red works only with red numbers")},J.prototype.imod=function O(K){if(this.prime)return this.prime.ireduce(K)._forceRed(this);return C(K,K.umod(this.m)._forceRed(this)),K},J.prototype.neg=function O(K){if(K.isZero())return K.clone();return this.m.sub(K)._forceRed(this)},J.prototype.add=function O(K,H){this._verify2(K,H);var T=K.add(H);if(T.cmp(this.m)>=0)T.isub(this.m);return T._forceRed(this)},J.prototype.iadd=function O(K,H){this._verify2(K,H);var T=K.iadd(H);if(T.cmp(this.m)>=0)T.isub(this.m);return T},J.prototype.sub=function O(K,H){this._verify2(K,H);var T=K.sub(H);if(T.cmpn(0)<0)T.iadd(this.m);return T._forceRed(this)},J.prototype.isub=function O(K,H){this._verify2(K,H);var T=K.isub(H);if(T.cmpn(0)<0)T.iadd(this.m);return T},J.prototype.shl=function O(K,H){return this._verify1(K),this.imod(K.ushln(H))},J.prototype.imul=function O(K,H){return this._verify2(K,H),this.imod(K.imul(H))},J.prototype.mul=function O(K,H){return this._verify2(K,H),this.imod(K.mul(H))},J.prototype.isqr=function O(K){return this.imul(K,K.clone())},J.prototype.sqr=function O(K){return this.mul(K,K)},J.prototype.sqrt=function O(K){if(K.isZero())return K.clone();var H=this.m.andln(3);if(Y(H%2===1),H===3){var T=this.m.add(new G(1)).iushrn(2);return this.pow(K,T)}var P=this.m.subn(1),D=0;while(!P.isZero()&&P.andln(1)===0)D++,P.iushrn(1);Y(!P.isZero());var W=new G(1).toRed(this),M=W.redNeg(),w=this.m.subn(1).iushrn(1),j=this.m.bitLength();j=new G(2*j*j).toRed(this);while(this.pow(j,w).cmp(M)!==0)j.redIAdd(M);var x=this.pow(j,P),m=this.pow(K,P.addn(1).iushrn(1)),o=this.pow(K,P),r=D;while(o.cmp(W)!==0){var z0=o;for(var d=0;z0.cmp(W)!==0;d++)z0=z0.redSqr();Y(d<r);var n=this.pow(x,new G(1).iushln(r-d-1));m=m.redMul(n),x=n.redSqr(),o=o.redMul(x),r=d}return m},J.prototype.invm=function O(K){var H=K._invmp(this.m);if(H.negative!==0)return H.negative=0,this.imod(H).redNeg();else return this.imod(H)},J.prototype.pow=function O(K,H){if(H.isZero())return new G(1).toRed(this);if(H.cmpn(1)===0)return K.clone();var T=4,P=new Array(1<<T);P[0]=new G(1).toRed(this),P[1]=K;for(var D=2;D<P.length;D++)P[D]=this.mul(P[D-1],K);var W=P[0],M=0,w=0,j=H.bitLength()%26;if(j===0)j=26;for(D=H.length-1;D>=0;D--){var x=H.words[D];for(var m=j-1;m>=0;m--){var o=x>>m&1;if(W!==P[0])W=this.sqr(W);if(o===0&&M===0){w=0;continue}if(M<<=1,M|=o,w++,w!==T&&(D!==0||m!==0))continue;W=this.mul(W,P[M]),w=0,M=0}j=26}return W},J.prototype.convertTo=function O(K){var H=K.umod(this.m);return H===K?H.clone():H},J.prototype.convertFrom=function O(K){var H=K.clone();return H.red=null,H},G.mont=function O(K){return new U(K)};function U(O){if(J.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V(U,J),U.prototype.convertTo=function O(K){return this.imod(K.ushln(this.shift))},U.prototype.convertFrom=function O(K){var H=this.imod(K.mul(this.rinv));return H.red=null,H},U.prototype.imul=function O(K,H){if(K.isZero()||H.isZero())return K.words[0]=0,K.length=1,K;var T=K.imul(H),P=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(P).iushrn(this.shift),W=D;if(D.cmp(this.m)>=0)W=D.isub(this.m);else if(D.cmpn(0)<0)W=D.iadd(this.m);return W._forceRed(this)},U.prototype.mul=function O(K,H){if(K.isZero()||H.isZero())return new G(0)._forceRed(this);var T=K.mul(H),P=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(P).iushrn(this.shift),W=D;if(D.cmp(this.m)>=0)W=D.isub(this.m);else if(D.cmpn(0)<0)W=D.iadd(this.m);return W._forceRed(this)},U.prototype.invm=function O(K){var H=this.imod(K._invmp(this.m).mul(this.r2));return H._forceRed(this)}})(typeof Q==="undefined"||Q,$)}),lq=c0(($,Q)=>{var X=r3(),Z=zU(),Y=FX().Buffer;function V(L){var A=L.modulus.byteLength(),F;do F=new X(Z(A));while(F.cmp(L.modulus)>=0||!F.umod(L.prime1)||!F.umod(L.prime2));return F}function G(L){var A=V(L),F=A.toRed(X.mont(L.modulus)).redPow(new X(L.publicExponent)).fromRed();return{blinder:F,unblinder:A.invm(L.modulus)}}function z(L,A){var F=G(A),C=A.modulus.byteLength(),q=new X(L).mul(F.blinder).umod(A.modulus),R=q.toRed(X.mont(A.prime1)),I=q.toRed(X.mont(A.prime2)),S=A.coefficient,N=A.prime1,B=A.prime2,_=R.redPow(A.exponent1).fromRed(),k=I.redPow(A.exponent2).fromRed(),f=_.isub(k).imul(S).umod(N).imul(B);return k.iadd(f).imul(F.unblinder).umod(A.modulus).toArrayLike(Y,"be",C)}z.getr=V,Q.exports=z}),a3=c0(($,Q)=>{var X=mq(),Z=zU(),Y=HU(),V=cq(),G=uq(),z=x5(),L=dq(),A=lq(),F=FX().Buffer;Q.exports=function I(S,N,B){var _;if(S.padding)_=S.padding;else if(B)_=1;else _=4;var k=X(S),f;if(_===4)f=C(k,N);else if(_===1)f=q(k,N,B);else if(_===3){if(f=new z(N),f.cmp(k.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");if(B)return A(f,k);else return L(f,k)};function C(I,S){var N=I.modulus.byteLength(),B=S.length,_=Y("sha1").update(F.alloc(0)).digest(),k=_.length,f=2*k;if(B>N-f-2)throw new Error("message too long");var v=F.alloc(N-B-f-2),p=N-k-1,c=Z(k),X0=G(F.concat([_,v,F.alloc(1,1),S],p),V(c,p)),t=G(c,V(X0,k));return new z(F.concat([F.alloc(1),t,X0],N))}function q(I,S,N){var B=S.length,_=I.modulus.byteLength();if(B>_-11)throw new Error("message too long");var k;if(N)k=F.alloc(_-B-3,255);else k=R(_-B-3);return new z(F.concat([F.from([0,N?1:2]),k,F.alloc(1),S],_))}function R(I){var S=F.allocUnsafe(I),N=0,B=Z(I*2),_=0,k;while(N<I){if(_===B.length)B=Z(I*2),_=0;if(k=B[_++],k)S[N++]=k}return S}}),t3=c0(($,Q)=>{var X=mq(),Z=cq(),Y=uq(),V=x5(),G=lq(),z=HU(),L=dq(),A=FX().Buffer;Q.exports=function R(I,S,N){var B;if(I.padding)B=I.padding;else if(N)B=1;else B=4;var _=X(I),k=_.modulus.byteLength();if(S.length>k||new V(S).cmp(_.modulus)>=0)throw new Error("decryption error");var f;if(N)f=L(new V(S),_);else f=G(S,_);var v=A.alloc(k-f.length);if(f=A.concat([v,f],k),B===4)return F(_,f);else if(B===1)return C(_,f,N);else if(B===3)return f;else throw new Error("unknown padding")};function F(R,I){var S=R.modulus.byteLength(),N=z("sha1").update(A.alloc(0)).digest(),B=N.length;if(I[0]!==0)throw new Error("decryption error");var _=I.slice(1,B+1),k=I.slice(B+1),f=Y(_,Z(k,B)),v=Y(k,Z(f,S-B-1));if(q(N,v.slice(0,B)))throw new Error("decryption error");var p=B;while(v[p]===0)p++;if(v[p++]!==1)throw new Error("decryption error");return v.slice(p)}function C(R,I,S){var N=I.slice(0,2),B=2,_=0;while(I[B++]!==0)if(B>=I.length){_++;break}var k=I.slice(2,B-1);if(N.toString("hex")!=="0002"&&!S||N.toString("hex")!=="0001"&&S)_++;if(k.length<8)_++;if(_)throw new Error("decryption error");return I.slice(B)}function q(R,I){R=A.from(R),I=A.from(I);var S=0,N=R.length;if(R.length!==I.length)S++,N=Math.min(R.length,I.length);var B=-1;while(++B<N)S+=R[B]^I[B];return S}}),S5=c0(($)=>{$.publicEncrypt=a3(),$.privateDecrypt=t3(),$.privateEncrypt=function Q(X,Z){return $.publicEncrypt(X,Z,!0)},$.publicDecrypt=function Q(X,Z){return $.privateDecrypt(X,Z,!0)}}),e3=c0(($)=>{var Q=(WX(),X$(GX));if(typeof Q.publicEncrypt!=="function")Q=S5();if($.publicEncrypt=Q.publicEncrypt,$.privateDecrypt=Q.privateDecrypt,typeof Q.privateEncrypt!=="function")$.privateEncrypt=S5().privateEncrypt;else $.privateEncrypt=Q.privateEncrypt;if(typeof Q.publicDecrypt!=="function")$.publicDecrypt=S5().publicDecrypt;else $.publicDecrypt=Q.publicDecrypt}),$N=c0(($)=>{var Q=FX(),X=zU(),Z=Q.Buffer,Y=Q.kMaxLength,V=globalThis.crypto||globalThis.msCrypto,G=Math.pow(2,32)-1;function z(q,R){if(typeof q!=="number"||q!==q)throw new TypeError("offset must be a number");if(q>G||q<0)throw new TypeError("offset must be a uint32");if(q>Y||q>R)throw new RangeError("offset out of range")}function L(q,R,I){if(typeof q!=="number"||q!==q)throw new TypeError("size must be a number");if(q>G||q<0)throw new TypeError("size must be a uint32");if(q+R>I||q>Y)throw new RangeError("buffer too small")}V&&V.getRandomValues,$.randomFill=A,$.randomFillSync=C;function A(q,R,I,S){if(!Z.isBuffer(q)&&!(q instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof R==="function")S=R,R=0,I=q.length;else if(typeof I==="function")S=I,I=q.length-R;else if(typeof S!=="function")throw new TypeError('"cb" argument must be a function');return z(R,q.length),L(I,R,q.length),F(q,R,I,S)}function F(q,R,I,S){if(!1)var N,B;if(S){X(I,function(k,f){if(k)return S(k);f.copy(q,R),S(null,q)});return}var _=X(I);return _.copy(q,R),q}function C(q,R,I){if(typeof R==="undefined")R=0;if(!Z.isBuffer(q)&&!(q instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(z(R,q.length),I===void 0)I=q.length-R;return L(I,R,q.length),F(q,R,I)}}),QN=c0(($,Q)=>{var X=(WX(),X$(GX));if(typeof X.randomFill==="function"&&typeof X.randomFillSync==="function")$.randomFill=X.randomFill,$.randomFillSync=X.randomFillSync;else Q.exports=$N()}),XN=c0(($)=>{$.randomBytes=$.rng=$.pseudoRandomBytes=$.prng=zU(),$.createHash=$.Hash=HU(),$.createHmac=$.Hmac=Bq();var Q=G3(),X=Object.keys(Q),Z=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(X);$.getHashes=function(){return Z};var Y=_q();$.pbkdf2=Y.pbkdf2,$.pbkdf2Sync=Y.pbkdf2Sync;var V=V3();$.Cipher=V.Cipher,$.createCipher=V.createCipher,$.Cipheriv=V.Cipheriv,$.createCipheriv=V.createCipheriv,$.Decipher=V.Decipher,$.createDecipher=V.createDecipher,$.Decipheriv=V.Decipheriv,$.createDecipheriv=V.createDecipheriv,$.getCiphers=V.getCiphers,$.listCiphers=V.listCiphers;var G=K3();$.DiffieHellmanGroup=G.DiffieHellmanGroup,$.createDiffieHellmanGroup=G.createDiffieHellmanGroup,$.getDiffieHellman=G.getDiffieHellman,$.createDiffieHellman=G.createDiffieHellman,$.DiffieHellman=G.DiffieHellman;var z=U3();$.createSign=z.createSign,$.Sign=z.Sign,$.createVerify=z.createVerify,$.Verify=z.Verify,$.createECDH=k3();var L=e3();$.publicEncrypt=L.publicEncrypt,$.privateEncrypt=L.privateEncrypt,$.publicDecrypt=L.publicDecrypt,$.privateDecrypt=L.privateDecrypt;var A=QN();$.randomFill=A.randomFill,$.randomFillSync=A.randomFillSync,$.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},$.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),W$=J3(XN(),1),ZN=W$.prng,YN=W$.pseudoRandomBytes,JN=W$.rng,GN=W$.randomBytes,WN=W$.Hash,VN=W$.createHash,KN=W$.Hmac,UN=W$.createHmac,ON=W$.getHashes,zN=W$.pbkdf2,HN=W$.pbkdf2Sync,DN=W$.Cipher,LN=W$.createCipher,qN=W$.Cipheriv,MN=W$.createCipheriv,CN=W$.Decipher,AN=W$.createDecipher,FN=W$.Decipheriv,TN=W$.createDecipheriv,RN=W$.getCiphers,PN=W$.listCiphers,EN=W$.DiffieHellmanGroup,IN=W$.createDiffieHellmanGroup,SN=W$.getDiffieHellman,NN=W$.createDiffieHellman,BN=W$.DiffieHellman,jN=W$.createSign,_N=W$.Sign,wN=W$.createVerify,xN=W$.Verify,kN=W$.createECDH,fN=W$.publicEncrypt,vN=W$.privateEncrypt,gN=W$.publicDecrypt,yN=W$.privateDecrypt,hN=W$.randomFill,bN=W$.randomFillSync,pN=W$.createCredentials,mN=W$.constants,lN=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"];nN=crypto,sN=crypto});var nq=A$((fm,oq)=>{var WW=1000,VW=WW*60,KW=VW*60,h8=KW*24,iN=h8*7,rN=h8*365.25;oq.exports=function($,Q){Q=Q||{};var X=typeof $;if(X==="string"&&$.length>0)return aN($);else if(X==="number"&&isFinite($))return Q.long?eN($):tN($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function aN($){if($=String($),$.length>100)return;var Q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!Q)return;var X=parseFloat(Q[1]),Z=(Q[2]||"ms").toLowerCase();switch(Z){case"years":case"year":case"yrs":case"yr":case"y":return X*rN;case"weeks":case"week":case"w":return X*iN;case"days":case"day":case"d":return X*h8;case"hours":case"hour":case"hrs":case"hr":case"h":return X*KW;case"minutes":case"minute":case"mins":case"min":case"m":return X*VW;case"seconds":case"second":case"secs":case"sec":case"s":return X*WW;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}function tN($){var Q=Math.abs($);if(Q>=h8)return Math.round($/h8)+"d";if(Q>=KW)return Math.round($/KW)+"h";if(Q>=VW)return Math.round($/VW)+"m";if(Q>=WW)return Math.round($/WW)+"s";return $+"ms"}function eN($){var Q=Math.abs($);if(Q>=h8)return LU($,Q,h8,"day");if(Q>=KW)return LU($,Q,KW,"hour");if(Q>=VW)return LU($,Q,VW,"minute");if(Q>=WW)return LU($,Q,WW,"second");return $+" ms"}function LU($,Q,X,Z){var Y=Q>=X*1.5;return Math.round($/X)+" "+Z+(Y?"s":"")}});var iq=A$((vm,sq)=>{function $B($){X.debug=X,X.default=X,X.coerce=L,X.disable=G,X.enable=Y,X.enabled=z,X.humanize=nq(),X.destroy=A,Object.keys($).forEach((F)=>{X[F]=$[F]}),X.names=[],X.skips=[],X.formatters={};function Q(F){let C=0;for(let q=0;q<F.length;q++)C=(C<<5)-C+F.charCodeAt(q),C|=0;return X.colors[Math.abs(C)%X.colors.length]}X.selectColor=Q;function X(F){let C,q=null,R,I;function S(...N){if(!S.enabled)return;let B=S,_=Number(new Date),k=_-(C||_);if(B.diff=k,B.prev=C,B.curr=_,C=_,N[0]=X.coerce(N[0]),typeof N[0]!=="string")N.unshift("%O");let f=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(p,c)=>{if(p==="%%")return"%";f++;let X0=X.formatters[c];if(typeof X0==="function"){let t=N[f];p=X0.call(B,t),N.splice(f,1),f--}return p}),X.formatArgs.call(B,N),(B.log||X.log).apply(B,N)}if(S.namespace=F,S.useColors=X.useColors(),S.color=X.selectColor(F),S.extend=Z,S.destroy=X.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(q!==null)return q;if(R!==X.namespaces)R=X.namespaces,I=X.enabled(F);return I},set:(N)=>{q=N}}),typeof X.init==="function")X.init(S);return S}function Z(F,C){let q=X(this.namespace+(typeof C==="undefined"?":":C)+F);return q.log=this.log,q}function Y(F){X.save(F),X.namespaces=F,X.names=[],X.skips=[];let C=(typeof F==="string"?F:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let q of C)if(q[0]==="-")X.skips.push(q.slice(1));else X.names.push(q)}function V(F,C){let q=0,R=0,I=-1,S=0;while(q<F.length)if(R<C.length&&(C[R]===F[q]||C[R]==="*"))if(C[R]==="*")I=R,S=q,R++;else q++,R++;else if(I!==-1)R=I+1,S++,q=S;else return!1;while(R<C.length&&C[R]==="*")R++;return R===C.length}function G(){let F=[...X.names,...X.skips.map((C)=>"-"+C)].join(",");return X.enable(""),F}function z(F){for(let C of X.skips)if(V(F,C))return!1;for(let C of X.names)if(V(F,C))return!0;return!1}function L(F){if(F instanceof Error)return F.stack||F.message;return F}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}sq.exports=$B});var aq=A$((rq,qU)=>{rq.formatArgs=XB;rq.save=ZB;rq.load=YB;rq.useColors=QB;rq.storage=JB();rq.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();rq.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function QB(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function XB($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+qU.exports.humanize(this.diff),!this.useColors)return;let Q="color: "+this.color;$.splice(1,0,Q,"color: inherit");let X=0,Z=0;$[0].replace(/%[a-zA-Z%]/g,(Y)=>{if(Y==="%%")return;if(X++,Y==="%c")Z=X}),$.splice(Z,0,Q)}rq.log=console.debug||console.log||(()=>{});function ZB($){try{if($)rq.storage.setItem("debug",$);else rq.storage.removeItem("debug")}catch(Q){}}function YB(){let $;try{$=rq.storage.getItem("debug")||rq.storage.getItem("DEBUG")}catch(Q){}if(!$&&typeof process!=="undefined"&&"env"in process)$=process.env.DEBUG;return $}function JB(){try{return localStorage}catch($){}}qU.exports=iq()(rq);var{formatters:GB}=qU.exports;GB.j=function($){try{return JSON.stringify($)}catch(Q){return"[UnexpectedJSONParseError]: "+Q.message}}});var XM={};RQ(XM,{sha256Hash20:()=>FB,sha256Hash:()=>AB,randomBytes:()=>DB,log:()=>r0,isBrowser:()=>j$,hashObject:()=>CB,hash20:()=>$M,hash:()=>MB,getSignerDisplayInfo:()=>f5,getSignerAddress:()=>tq,getEntityDisplayInfo:()=>k5,generateSignerAvatar:()=>TV,generateEntityAvatar:()=>FJ,formatSignerDisplay:()=>TJ,formatEntityDisplay:()=>C$,extractNumberFromEntityId:()=>f8,deterministicStringify:()=>QM,cryptoHash:()=>OW,createHash:()=>MU,clearDatabase:()=>CU,DEMO_SIGNERS:()=>AU,DEBUG:()=>u0,Buffer:()=>RV});async function OW($){let X=new TextEncoder().encode($),Z=await crypto.subtle.digest("SHA-256",X),Y=new Uint8Array(Z);return`0x${Array.from(Y).map((G)=>G.toString(16).padStart(2,"0")).join("")}`}async function CB($){let Q=QM($);return await OW(Q)}async function $M($){return(await OW($)).slice(0,42)}function QM($){return JSON.stringify($,(Q,X)=>{if(typeof X==="bigint")return X.toString();return X})}var j$,MU,DB,LB=()=>{if(j$)return{from:($,Q="utf8")=>{if(typeof $==="string")return new TextEncoder().encode($);return new Uint8Array($)}};return(c$(),X$(m$)).Buffer},RV,qB=($)=>{return $.includes("state")||$.includes("tx")||$.includes("block")||$.includes("error")||$.includes("diff")||$.includes("info")?console.log.bind(console,`[${$}]`):()=>{}},UW,r0,MB=($)=>{let Q=MU("sha256").update($.toString()).digest();return RV.from(Q)},u0=!0,CU=async($)=>{if(console.log("Clearing database and resetting history..."),$)await $.clear(),console.log(" Database cleared via provided instance");else if(typeof indexedDB!=="undefined"){let Q=["db","level-js-db","level-db"];try{let X=Q.map((Z)=>{return new Promise((Y)=>{let V=indexedDB.deleteDatabase(Z);V.onsuccess=()=>{console.log(` Cleared IndexedDB: ${Z}`),Y()},V.onerror=()=>{console.log(` Could not clear IndexedDB: ${Z} (may not exist)`),Y()},V.onblocked=()=>{console.log(` IndexedDB deletion blocked: ${Z}`),Y()}})});if(await Promise.all(X),console.log(" All databases cleared, re-initializing..."),typeof window!=="undefined"&&window.reinitializeAfterClear)window.reinitializeAfterClear();return}catch(X){if(console.log(" Error clearing IndexedDB:",X),typeof window!=="undefined"&&window.reinitializeAfterClear)window.reinitializeAfterClear();return}}console.log("Database cleared.")},C$=($)=>{if(!$)return"undefined";let Q=f8($);if(Q!==null)return Q.toString();else return $},k5=($)=>{if(!$)return{name:"Entity (undefined)",avatar:"",type:"numbered"};let Q=f8($);if(Q!==null)return{name:`Entity #${Q}`,avatar:FJ($),type:"numbered"};else return{name:$,avatar:FJ($),type:"lazy"}},AU,TJ=($)=>{let Q=AU[$];if(Q)return`\uD83D\uDC64 ${Q.name}`;return $},f5=($)=>{let Q=AU[$];if(Q)return{name:Q.name,address:Q.address,avatar:TV($)};return{name:$,address:$,avatar:TV($)}},tq=($)=>{let Q=AU[$];if(Q)return Q.address;return $},FJ=($)=>{try{let Q=x6($,40);return`data:image/svg+xml,${encodeURIComponent(Q)}`}catch(Q){return eq($)}},TV=($)=>{try{let Q=tq($),X=x6(Q,32);return`data:image/svg+xml,${encodeURIComponent(X)}`}catch(Q){return eq($)}},eq=($)=>{let Q=0;for(let z=0;z<$.length;z++)Q=(Q<<5)-Q+$.charCodeAt(z)&4294967295;let V=`<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg">
    <circle cx="16" cy="16" r="16" fill="hsl(${Math.abs(Q)%360}, ${70}%, ${50}%)"/>
  </svg>`;return`data:image/svg+xml;base64,${RV.from(V).toString("base64")}`},AB,FB;var YX=G0(()=>{G7();jY();if(typeof global==="undefined")globalThis.global=globalThis;j$=typeof window!=="undefined",MU=j$?($)=>({update:(Q)=>({digest:(X)=>{let Z=new TextEncoder,Y=0;for(let z=0;z<Q.length;z++){let L=Q.charCodeAt(z);Y=(Y<<5)-Y+L,Y=Y&Y}let V=Math.abs(Y).toString(16).padStart(8,"0"),G=(V+V+V+V).slice(0,64);if(X==="hex")return G;else{let z=new Uint8Array(32);for(let L=0;L<32;L++)z[L]=parseInt(G.substr(L*2,2),16);return RV.from(z)}}})}):(WX(),X$(GX)).createHash,DB=j$?($)=>{let Q=new Uint8Array($);return crypto.getRandomValues(Q),Q}:(WX(),X$(GX)).randomBytes,RV=LB();if(j$)Uint8Array.prototype.toString=function($="utf8"){return new TextDecoder().decode(this)},window.Buffer=RV;UW=j$?qB:aq(),r0={state:UW("state:\uD83D\uDD35"),tx:UW("tx:\uD83D\uDFE1"),block:UW("block:\uD83D\uDFE2"),error:UW("error:\uD83D\uDD34"),diff:UW("diff:\uD83D\uDFE3"),info:UW("info:")},AU={alice:{name:"alice.eth",address:"0x70997970C51812dc3A010C7d01b50e0d17dc79C8"},bob:{name:"bob.eth",address:"0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC"},carol:{name:"carol.eth",address:"0x90F79bf6EB2c4f870365E785982E1f101E93b906"},david:{name:"david.eth",address:"0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65"},eve:{name:"eve.eth",address:"0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc"}};AB=OW,FB=$M});var TB=async($,Q)=>{if(!$)return;try{await $.put(`profile:${Q.entityId}`,uJ(Q)),await RB($,Q.name,Q.entityId),console.log(`\uD83D\uDCDD Stored profile for ${Q.name} (${C$(Q.entityId)})`)}catch{}},FU=async($,Q)=>{if(!$)return null;try{let X=await $.get(`profile:${Q}`);return dJ(X)}catch(X){return null}},RB=async($,Q,X)=>{try{let Z={};try{let Y=await $.get("name-index");Z=dJ(Y)}catch{}Z[Q.toLowerCase()]=X,await $.put("name-index",uJ(Z))}catch(Z){console.error("Error updating name index:",Z)}},ZM=async($,Q,X=10)=>{if(!$||!Q.trim())return[];try{let Z=await $.get("name-index"),Y=dJ(Z),V=Q.toLowerCase(),G=[];for(let[z,L]of Object.entries(Y))if(z.includes(V)){let A=0;if(z.startsWith(V))A=1;else if(z.includes(V))A=0.7;let F=await FU($,L),C=F?.avatar||FJ(L);G.push({entityId:L,name:F?.name||C$(L),avatar:C,relevance:A})}return G.sort((z,L)=>{if(z.relevance!==L.relevance)return L.relevance-z.relevance;return z.name.localeCompare(L.name)}),G.slice(0,X)}catch(Z){return console.error("Error searching entity names:",Z),[]}},YM=($)=>{return{type:"profile-update",data:$}},JM=async($,Q,X,Z,Y)=>{console.log(`\uD83C\uDFF7 processProfileUpdate called for ${Q} with updates:`,X);try{let V=await FU($,Q);if(!V)V={entityId:Q,name:C$(Q),lastUpdated:Date.now(),hankoSignature:Z};if(X.name!==void 0)V.name=X.name;if(X.avatar!==void 0)V.avatar=X.avatar;if(X.bio!==void 0)V.bio=X.bio;if(X.website!==void 0)V.website=X.website;if(V.lastUpdated=Date.now(),V.hankoSignature=Z,Y?.gossip?.announce)try{Y.gossip.announce({entityId:Q,capabilities:[],hubs:[],metadata:{name:V.name,avatar:V.avatar,bio:V.bio,website:V.website,lastUpdated:V.lastUpdated,hankoSignature:V.hankoSignature}}),console.log(`\uD83D\uDCE1 Synced profile update to gossip: ${Q}`)}catch(G){console.error(` Failed to sync profile to gossip layer for ${Q}:`,G)}await TB($,V),console.log(` Updated profile for ${V.name} (${C$(Q)})`)}catch(V){console.error("Error processing profile update:",V)}},GM=async($,Q)=>{return(await FU($,Q))?.name||C$(Q)},WM=async($,Q)=>{let X=await FU($,Q);return{name:X?.name||C$(Q),avatar:X?.avatar||FJ(Q)}};var v5=G0(()=>{W1();YX()});function RJ($,Q="unknown"){if(!$||typeof $!=="object")throw new Error(`Invalid Delta object from ${Q}: ${$}`);let X=$,Z=[];if(typeof X.tokenId!=="number"||!Number.isInteger(X.tokenId)||X.tokenId<0)Z.push(`tokenId must be non-negative integer, got: ${X.tokenId}`);let Y=["collateral","ondelta","offdelta","leftCreditLimit","rightCreditLimit","leftAllowance","rightAllowance"];for(let V of Y){let G=X[V];if(G===null||G===void 0)Z.push(`${V} cannot be null/undefined, got: ${G}`);else if(typeof G!=="bigint")if(typeof G==="string"&&/^-?\d+n?$/.test(G))try{X[V]=BigInt(G.replace(/n$/,""))}catch(z){Z.push(`${V} invalid BigInt string: ${G}`)}else Z.push(`${V} must be BigInt, got: ${typeof G} (${G})`)}if(Z.length>0)throw new Error(`Delta validation failed from ${Q}:
${Z.join(`
`)}`);return{tokenId:X.tokenId,collateral:X.collateral,ondelta:X.ondelta,offdelta:X.offdelta,leftCreditLimit:X.leftCreditLimit,rightCreditLimit:X.rightCreditLimit,leftAllowance:X.leftAllowance,rightAllowance:X.rightAllowance}}function UM($,Q="unknown"){if(!$)return console.warn(`No deltas provided from ${Q}, returning empty Map`),new Map;let X=new Map;if($ instanceof Map)for(let[Z,Y]of $.entries())try{let V=RJ(Y,`${Q}.Map[${Z}]`);X.set(Z,V)}catch(V){console.error(`Skipping invalid delta for token ${Z}:`,V)}else if(typeof $==="object")for(let[Z,Y]of Object.entries($)){let V=parseInt(Z,10);if(isNaN(V)){console.error(`Invalid tokenId: ${Z}`);continue}try{let G=RJ(Y,`${Q}.Object[${V}]`);X.set(V,G)}catch(G){console.error(`Skipping invalid delta for token ${V}:`,G)}}else return console.error(`Invalid deltas format from ${Q}:`,typeof $),new Map;return console.log(` Validated ${X.size} deltas from ${Q}`),X}function OM($){return{tokenId:$,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:1000000000000000000000000n,rightCreditLimit:1000000000000000000000000n,leftAllowance:0n,rightAllowance:0n}}function zM($){try{return RJ($,"type-guard"),!0}catch{return!1}}function y5($){if(!$||typeof $!=="object")throw new Error("FINANCIAL-SAFETY: EntityInput is null/undefined or not an object");let Q=$;if(!Q.entityId||typeof Q.entityId!=="string")throw new Error("FINANCIAL-SAFETY: entityId is missing or invalid - financial routing corruption detected");if(!Q.signerId||typeof Q.signerId!=="string")throw new Error("FINANCIAL-SAFETY: signerId is missing or invalid - payment routing will fail");if(!Q.entityTxs||!Array.isArray(Q.entityTxs))throw new Error("FINANCIAL-SAFETY: entityTxs is missing or invalid");return Q}function HM($){if(!$||typeof $!=="object")throw new Error("FINANCIAL-SAFETY: EntityOutput is null/undefined or not an object");let Q=$;if(!Q.entityId||typeof Q.entityId!=="string")throw new Error("FINANCIAL-SAFETY: EntityOutput entityId is missing - routing corruption");if(!Q.signerId||typeof Q.signerId!=="string")throw new Error("FINANCIAL-SAFETY: EntityOutput signerId is missing - routing corruption");return Q}function VM($,Q){if(typeof $!=="string"||$.length===0)throw new PV(`${Q} must be a non-empty string`,$);return $}function KM($,Q){if(typeof $!=="number"||!Number.isFinite($))throw new PV(`${Q} must be a finite number`,$);return $}function DM($,Q){if(!$||typeof $!=="object"||Array.isArray($))throw new PV(`${Q} must be a non-null object`,$);return $}function g5($,Q){if(!Array.isArray($))throw new PV(`${Q} must be an array`,$);return $}function LM($,Q="AccountFrame"){let X=DM($,Q),Z={height:KM(X.height,`${Q}.height`),timestamp:KM(X.timestamp,`${Q}.timestamp`),accountTxs:g5(X.accountTxs,`${Q}.accountTxs`),prevFrameHash:VM(X.prevFrameHash,`${Q}.prevFrameHash`),stateHash:VM(X.stateHash,`${Q}.stateHash`),tokenIds:g5(X.tokenIds||[],`${Q}.tokenIds`),deltas:g5(X.deltas||[],`${Q}.deltas`)};if(Z.stateHash.length===0)throw new kY("AccountFrame.stateHash cannot be empty");if(Z.timestamp<=0)throw new kY("AccountFrame.timestamp must be positive",{timestamp:Z.timestamp});return Z}function h5($,Q="EntityState"){let X=DM($,Q);if(!X.entityId||typeof X.entityId!=="string")throw new kY(`${Q}.entityId must be a string`);if(typeof X.height!=="number")throw new kY(`${Q}.height must be a number`);if(typeof X.timestamp!=="number")throw new kY(`${Q}.timestamp must be a number`);if(!(X.reserves instanceof Map))throw new kY(`${Q}.reserves must be a Map`);if(!(X.accounts instanceof Map))throw new kY(`${Q}.accounts must be a Map`);for(let[Z,Y]of X.reserves.entries())if(typeof Y!=="bigint")throw new kY(`Reserve amount for token ${Z} must be bigint`,{tokenId:Z,amount:Y});return X}var kY,PV;var EV=G0(()=>{kY=class kY extends Error{constructor($,Q){super(`\uD83D\uDEA8 FINANCIAL-SAFETY VIOLATION: ${$}`);if(this.name="FinancialDataCorruptionError",Q)this.message+=`
Context: ${K$(Q)}`}};PV=class PV extends Error{constructor($,Q){super(`\uD83D\uDEE1 TYPE-SAFETY VIOLATION: ${$}`);if(this.name="TypeSafetyViolationError",Q!==void 0)this.message+=`
Received: ${typeof Q} = ${String(Q)}`}}});function IV($,Q){if(Q===null||Q===void 0)return`0 ${PZ($).symbol}`;let X=PZ($);return`${iY(Q,X.decimals)} ${X.symbol}`}function qM($,Q){let X=PZ($);return nJ(Q,X.decimals)}function MM($,Q,X){if(Q===X)return $;if(Q>X){let Z=10n**BigInt(Q-X);return $/Z}else{let Z=10n**BigInt(X-Q);return $*Z}}function TU($,Q){if($===null||$===void 0||Q===null||Q===void 0)return 0;if(Q===0n)return 0;return Number($*100n/Q)}function b5($){if($.amount===null||$.amount===void 0)return`0 ${$.symbol}`;return`${iY($.amount,$.decimals)} ${$.symbol}`}var CM,AM;var SV=G0(()=>{QW();VZ();CM={add:($,Q)=>{return($??0n)+(Q??0n)},subtract:($,Q)=>{let X=$??0n,Z=Q??0n;if(Z>X)throw new Error(`Underflow: ${X} - ${Z}`);return X-Z},multiply:($,Q)=>{return($??0n)*(Q??0n)},divide:($,Q)=>{let X=$??0n,Z=Q??1n;if(Z===0n)throw new Error("Division by zero");return{quotient:X/Z,remainder:X%Z}},compare:($,Q)=>{let X=$??0n,Z=Q??0n;if(X<Z)return-1;if(X>Z)return 1;return 0},abs:($)=>{let Q=$??0n;return Q<0n?-Q:Q},min:($,Q)=>{let X=$??0n,Z=Q??0n;return X<Z?X:Z},max:($,Q)=>{let X=$??0n,Z=Q??0n;return X>Z?X:Z}},AM={ZERO:0n,ONE:1n,WEI_PER_ETH:10n**18n,USDC_DECIMALS:6,ETH_DECIMALS:18,DEFAULT_DECIMALS:18}});var TM={};RQ(TM,{isLeft:()=>PJ,getTokenInfo:()=>PZ,getDefaultCreditLimit:()=>iQ,formatTokenAmount:()=>IV,deriveDelta:()=>b8,createDemoDelta:()=>NV,calculatePercentage:()=>TU,TOKEN_REGISTRY:()=>FM});function PJ($,Q){return $<Q}function b8($,Q){RJ($,"deriveDelta");let X=(h)=>h<0n?0n:h,Z=$.ondelta+$.offdelta,Y=X($.collateral),V=$.leftCreditLimit,G=$.rightCreditLimit,z=Z>0n?X(Y-Z):Y,L=Z>0n?Z>Y?Y:Z:0n,A=X(-Z);if(A>V)A=V;let F=X(Z-Y);if(F>G)F=G;let C=X(V-A),q=X(G-F),R=$.rightAllowance,I=$.leftAllowance,S=Y+V+G,N=X(A+z+q-R),B=X(F+L+C-I);if(!Q)[z,R,N,L,I,B]=[L,I,B,z,R,N],[V,G]=[G,V],[C,A,F,q]=[q,F,A,C];let _=Number(S),k=Math.floor(Number(V)/_*50),f=Math.floor(Number(Y)/_*50),v=50-k-f,p=Math.floor((Number(Z)+Number(V))/_*50),c="-".repeat(k)+"=".repeat(f)+"-".repeat(v),X0=Math.max(0,Math.min(p,c.length)),t="["+c.substring(0,X0)+"|"+c.substring(X0)+"]";return{delta:Z,collateral:Y,inCollateral:z,outCollateral:L,inOwnCredit:A,outPeerCredit:F,inAllowence:R,outAllowence:I,totalCapacity:S,ownCreditLimit:V,peerCreditLimit:G,inCapacity:N,outCapacity:B,outOwnCredit:C,inPeerCredit:q,ascii:t}}function NV($,Q=1000n,X=0n){let Z=iQ($);return RJ({tokenId:$,collateral:Q,ondelta:X,offdelta:0n,leftCreditLimit:Z,rightCreditLimit:Z,leftAllowance:0n,rightAllowance:0n},"createDemoDelta")}function PZ($){return FM[$]||{symbol:`TKN${$}`,name:`Token ${$}`,decimals:18,color:"#999"}}function iQ($){let Q=PZ($),X=BigInt(Q.decimals??18);return PB*10n**X}var PB=1000000n,FM;var VZ=G0(()=>{EV();SV();SV();FM={1:{symbol:"USDC",name:"USD Coin",decimals:18,color:"#2775ca"},2:{symbol:"ETH",name:"Ethereum",decimals:18,color:"#627eea"}}});function BV($){let Q=[];for(let[Z,Y]of $.accounts.entries()){let V=new Map;for(let[G,z]of Y.deltas.entries()){let L=PJ(Y.proofHeader.fromEntity,Y.proofHeader.toEntity),A=b8(z,L);V.set(G,{inCapacity:A.inCapacity,outCapacity:A.outCapacity})}Q.push({counterpartyId:Z,tokenCapacities:V})}return{entityId:$.entityId,capabilities:[],hubs:[],metadata:{lastUpdated:Date.now(),isHub:!1,routingFeePPM:100,baseFee:0n},accounts:Q}}var p5=G0(()=>{VZ()});function g$($,Q){if($.messages.push(Q),$.messages.length>EB)$.messages.shift()}function RU($,Q){for(let X of Q)g$($,X)}function VX($){try{let Q=structuredClone($);if(typeof Q.jBlock!=="number")console.error("\uD83D\uDCA5 CLONE-CORRUPTION: structuredClone corrupted jBlock!"),console.error(`\uD83D\uDCA5   Original: ${$.jBlock} (${typeof $.jBlock})`),console.error(`\uD83D\uDCA5   Cloned: ${Q.jBlock} (${typeof Q.jBlock})`),Q.jBlock=$.jBlock??0;return h5(Q,"cloneEntityState.structuredClone")}catch(Q){let X=IB($);return h5(X,"cloneEntityState.manual")}}function IB($){return{...$,nonces:zW($.nonces),messages:HW($.messages),proposals:new Map(Array.from($.proposals.entries()).map(([Q,X])=>[Q,{...X,votes:zW(X.votes)}])),reserves:zW($.reserves),accounts:new Map(Array.from($.accounts.entries()).map(([Q,X])=>[Q,{...X,mempool:HW(X.mempool),deltas:zW(X.deltas),proofHeader:{...X.proofHeader},proofBody:{tokenIds:[...X.proofBody.tokenIds],deltas:[...X.proofBody.deltas]}}])),accountInputQueue:HW($.accountInputQueue||[]),jBlock:$.jBlock??0}}function m5($){try{return structuredClone($)}catch(Q){return PM($)}}function PM($){let Q={counterpartyEntityId:$.counterpartyEntityId,mempool:[...$.mempool],currentFrame:{...$.currentFrame,tokenIds:[...$.currentFrame.tokenIds],deltas:[...$.currentFrame.deltas]},sentTransitions:$.sentTransitions,ackedTransitions:$.ackedTransitions,deltas:new Map(Array.from($.deltas.entries()).map(([X,Z])=>[X,{...Z}])),globalCreditLimits:{...$.globalCreditLimits},currentHeight:$.currentHeight,pendingSignatures:[...$.pendingSignatures],rollbackCount:$.rollbackCount,sendCounter:$.sendCounter,receiveCounter:$.receiveCounter,frameHistory:[...$.frameHistory],proofHeader:{...$.proofHeader},proofBody:{...$.proofBody,tokenIds:[...$.proofBody.tokenIds],deltas:[...$.proofBody.deltas]},pendingWithdrawals:new Map($.pendingWithdrawals),requestedRebalance:new Map($.requestedRebalance)};if($.pendingFrame)Q.pendingFrame={...$.pendingFrame,accountTxs:[...$.pendingFrame.accountTxs],tokenIds:[...$.pendingFrame.tokenIds],deltas:[...$.pendingFrame.deltas]};if($.clonedForValidation)Q.clonedForValidation=PM($.clonedForValidation);if($.hankoSignature)Q.hankoSignature=$.hankoSignature;return Q}var EB=10,zW=($)=>new Map($),HW=($)=>[...$],jV=($)=>{return{entityId:$.entityId,signerId:$.signerId,state:VX($.state),mempool:HW($.mempool),...$.proposal&&{proposal:{height:$.proposal.height,txs:HW($.proposal.txs),hash:$.proposal.hash,newState:$.proposal.newState,signatures:zW($.proposal.signatures)}},...$.lockedFrame&&{lockedFrame:{height:$.lockedFrame.height,txs:HW($.lockedFrame.txs),hash:$.lockedFrame.hash,newState:$.lockedFrame.newState,signatures:zW($.lockedFrame.signatures)}},isProposer:$.isProposer,...$.sentTransitions!==void 0&&{sentTransitions:$.sentTransitions},...$.position&&{position:{...$.position}}}},RM=($,Q,X,Z,Y,V)=>{let G=$.gossip?.getProfiles?$.gossip.getProfiles().map((C)=>{try{return structuredClone(C)}catch(q){try{return Qq(K$(C))}catch{return C}}}):[],z={height:$.height,timestamp:$.timestamp,replicas:new Map(Array.from($.replicas.entries()).map(([C,q])=>[C,jV(q)])),runtimeInput:{runtimeTxs:[...Z.runtimeTxs],entityInputs:Z.entityInputs.map((C)=>({entityId:C.entityId,signerId:C.signerId,...C.entityTxs&&{entityTxs:[...C.entityTxs]},...C.precommits&&{precommits:new Map(C.precommits)},...C.proposedFrame&&{proposedFrame:C.proposedFrame}}))},runtimeOutputs:Y.map((C)=>({entityId:C.entityId,signerId:C.signerId,...C.entityTxs&&{entityTxs:[...C.entityTxs]},...C.precommits&&{precommits:new Map(C.precommits)},...C.proposedFrame&&{proposedFrame:C.proposedFrame}})),description:V,gossip:{profiles:G}};Q.push(z);let L=uJ(z),A=L.length,F=(A/1024/1024).toFixed(2);if(A>1e6){console.warn(`\uD83D\uDCE6 LARGE SNAPSHOT: ${F}MB at height ${z.height}`),console.warn(`   Replicas: ${z.replicas.size}`);for(let[C,q]of z.replicas){let R=q.state.messages?.length||0,I=q.state.accounts?.size||0;if(R>20||I>10)console.warn(`   ${C.slice(0,25)}...: ${R} msgs, ${I} accounts`)}}try{let C=X.batch();C.put(Buffer.from(`snapshot:${z.height}`),L),C.put(Buffer.from("latest_height"),Buffer.from(z.height.toString())),C.write()}catch(C){}if(u0){if(console.log(`\uD83D\uDCF8 Snapshot ${z.height}: ${F}MB - "${V}" (total: ${Q.length})`),Z.runtimeTxs.length>0)console.log(`    \uD83D\uDDA5  RuntimeTxs: ${Z.runtimeTxs.length}`),Z.runtimeTxs.forEach((C,q)=>{console.log(`      ${q+1}. ${C.type} ${C.entityId}:${C.signerId} (${C.data.isProposer?"proposer":"validator"})`)});if(Z.entityInputs.length>0)console.log(`    \uD83D\uDCE8 EntityInputs: ${Z.entityInputs.length}`),Z.entityInputs.forEach((C,q)=>{let R=[];if(C.entityTxs?.length)R.push(`${C.entityTxs.length} txs`);if(C.precommits?.size)R.push(`${C.precommits.size} precommits`);if(C.proposedFrame)R.push(`frame: ${C.proposedFrame.hash.slice(0,10)}...`);console.log(`      ${q+1}. ${C.entityId}:${C.signerId} (${R.join(", ")||"empty"})`)})}};var fY=G0(()=>{W1();YX();EV()});function _V($,Q,X="mock-private-key"){let Z=`${$}-${Q}-${X}`,Y=`sig_${Buffer.from(Z).toString("base64").slice(0,32)}`;return console.log(` Signed frame ${Q.slice(0,10)} by ${$.slice(-4)}: ${Y.slice(0,20)}...`),Y}function c5($,Q,X,Z="mock-private-key"){let Y=_V($,Q,Z),V=X===Y;if(V)console.log(` Valid signature from ${$.slice(-4)} for frame ${Q.slice(0,10)}`);else console.log(` Invalid signature from ${$.slice(-4)} for frame ${Q.slice(0,10)}`),console.log(`   Expected: ${Y.slice(0,20)}...`),console.log(`   Received: ${X.slice(0,20)}...`);return V}function EM($,Q,X=!0){let{tokenId:Z}=Q.data,Y=[];if($.deltas.has(Z))return console.warn(` Delta for token ${Z} already exists, skipping add_delta`),{success:!0,events:Y};let V={tokenId:Z,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:0n,rightCreditLimit:0n,leftAllowance:0n,rightAllowance:0n};return $.deltas.set(Z,V),console.log(` Added delta for token ${Z} to account with ${$.counterpartyEntityId.slice(-4)}`),Y.push(` Added token ${Z} to account`),{success:!0,events:Y}}function IM($,Q,X=!0){let{tokenId:Z,amount:Y,side:V}=Q.data,G=[],z=$.deltas.get(Z);if(!z)return console.error(` Delta for token ${Z} not found - cannot set credit limit`),{success:!1,error:`Delta for token ${Z} not found. Use add_delta first.`,events:G};if(V==="left")z.leftCreditLimit=Y,G.push(`\uD83D\uDCB3 Left entity credit limit set to ${Y.toString()} for token ${Z}`);else z.rightCreditLimit=Y,G.push(`\uD83D\uDCB3 Right entity credit limit set to ${Y.toString()} for token ${Z}`);return console.log(` Set credit limit for token ${Z}: left=${z.leftCreditLimit}, right=${z.rightCreditLimit}`),{success:!0,events:G}}function SM($,Q,X=!0){let{tokenId:Z,amount:Y,route:V,description:G}=Q.data,z=[],L=$.deltas.get(Z);if(!L){let f=iQ(Z);L={tokenId:Z,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:f,rightCreditLimit:f,leftAllowance:0n,rightAllowance:0n},$.deltas.set(Z,L)}let A=$.proofHeader.fromEntity<$.proofHeader.toEntity?$.proofHeader.fromEntity:$.proofHeader.toEntity,F=A===$.proofHeader.fromEntity?$.proofHeader.toEntity:$.proofHeader.fromEntity,C=Q.data.fromEntityId,q=Q.data.toEntityId;if(!C||!q)return console.error(" CONSENSUS-FAILURE: Missing explicit payment direction"),console.error("  AccountTx:",K$(Q)),{success:!1,error:"FATAL: Payment must have explicit fromEntityId/toEntityId",events:z};let R;if(C===A&&q===F)R=-Y;else if(C===F&&q===A)R=Y;else return console.error(" CONSENSUS-FAILURE: Payment entities don't match account"),console.error(`  Account: ${A.slice(-4)}  ${F.slice(-4)}`),console.error(`  Payment: ${C.slice(-4)}  ${q.slice(-4)}`),{success:!1,error:"FATAL: Payment entities must match account entities (no cross-account routing)",events:z};let S=b8(L,C===A);if(Y>S.outCapacity)return{success:!1,error:`Insufficient capacity for sender ${C.slice(-4)}: need ${Y.toString()}, available ${S.outCapacity.toString()}`,events:z};let N=L.ondelta+L.offdelta+R;if(Z===1&&N>$.globalCreditLimits.peerLimit)return{success:!1,error:`Exceeds global credit limit: ${N.toString()} > ${$.globalCreditLimits.peerLimit.toString()}`,events:z};if(L.offdelta+=R,X)z.push(`\uD83D\uDCB8 Sent ${Y.toString()} token ${Z} to Entity ${$.counterpartyEntityId.slice(-4)} ${G?"("+G+")":""}`);else z.push(`\uD83D\uDCB0 Received ${Y.toString()} token ${Z} from Entity ${C.slice(-4)} ${G?"("+G+")":""}`);let B=$.currentFrame.tokenIds.indexOf(Z),_=L.ondelta+L.offdelta;if(B>=0)$.currentFrame.deltas[B]=_;else $.currentFrame.tokenIds.push(Z),$.currentFrame.deltas.push(_);let k=C===$.proofHeader.fromEntity;if(console.log(`\uD83D\uDD0D FORWARD-CHECK: route=${V?`[${V.map((f)=>f.slice(-4)).join(",")}]`:"null"}`),console.log(`\uD83D\uDD0D FORWARD-CHECK: isOutgoing=${k}, paymentFrom=${C.slice(-4)}, proofHeader.from=${$.proofHeader.fromEntity.slice(-4)}`),V&&V.length>0&&!k){console.log(`\uD83D\uDD0D FORWARD-CHECK: Passed first check (route.length=${V.length}, isOutgoing=${k})`);let f=V[0],v=V[V.length-1];if(!f||!v)return console.error(" Empty route in payment - invalid payment routing"),{success:!1,error:"Invalid payment route",events:z};if(console.log(`\uD83D\uDD0D FORWARD-CHECK: currentInRoute=${f.slice(-4)}, proofHeader.from=${$.proofHeader.fromEntity.slice(-4)}, final=${v.slice(-4)}`),console.log(`\uD83D\uDD0D FORWARD-CHECK: Check result: ${f===$.proofHeader.fromEntity&&f!==v}`),f===$.proofHeader.fromEntity&&f!==v){let p=V[1];if(!p)return console.error(" No next hop in route for forwarding"),{success:!1,error:"Invalid route: no next hop",events:z};if($.counterpartyEntityId===p)console.error(` Routing error: received from ${p} but should forward to them`);else z.push(` Forwarding payment to ${v.slice(-4)} via ${V.length-1} more hops`),$.pendingForward={tokenId:Z,amount:Y,route:V.slice(1),...G?{description:G}:{}}}}return{success:!0,events:z}}var NM=G0(()=>{VZ()});function BM($,Q){let{tokenId:X,collateral:Z,ondelta:Y,side:V}=Q.data,G=[];console.log(`\uD83D\uDCB0 Processing RC event: token ${X}, collateral=${Z}, ondelta=${Y}, side=${V}`);let z=BigInt(Z),L=BigInt(Y),A=$.deltas.get(X);if(!A){console.log(`\uD83D\uDCB0 Creating new delta for token ${X} (first RC event)`);let N=iQ(X);A={tokenId:X,collateral:0n,ondelta:0n,offdelta:0n,leftCreditLimit:N,rightCreditLimit:N,leftAllowance:0n,rightAllowance:0n},$.deltas.set(X,A)}let{collateral:F,ondelta:C}=A;A.collateral=z,A.ondelta=L;let q=z-F,R=L-C;if(console.log("\uD83D\uDCB0 RC state update:"),console.log(`   Collateral: ${F}  ${z} (diff: ${q})`),console.log(`   Ondelta: ${C}  ${L} (diff: ${R})`),V==="receiving")G.push(`\uD83D\uDCB0 Collateral +${q} (now ${z}) - counterparty deposited token ${X}`);else G.push(`\uD83D\uDCE4 Collateral +${q} (now ${z}) - we deposited token ${X}`);let I=A.ondelta+A.offdelta,S=$.currentFrame.tokenIds.indexOf(X);if(S>=0)$.currentFrame.deltas[S]=I;else $.currentFrame.tokenIds.push(X),$.currentFrame.deltas.push(I);return console.log(` RC processed successfully for token ${X}`),{success:!0,events:G}}var jM=G0(()=>{VZ()});function _M($,Q,X=!0){let{tokenId:Z,amount:Y,requestId:V}=Q.data,G=[],z=$.deltas.get(Z);if(!z)return{success:!1,error:`No delta for token ${Z}`,events:G};let L=z.ondelta+z.offdelta,A=L>0n?L:-L,F=z.collateral>A?z.collateral-A:0n;if(Y>F)return{success:!1,error:`Insufficient withdrawable: ${Y} > ${F} (collateral ${z.collateral}, uninsured ${A})`,events:G};if(X)$.pendingWithdrawals.set(V,{requestId:V,tokenId:Z,amount:Y,requestedAt:0,direction:"outgoing",status:"pending"}),G.push(`\uD83D\uDCE4 Withdrawal requested: ${Y} token ${Z} (${V.slice(-4)})`);else return $.pendingWithdrawals.set(V,{requestId:V,tokenId:Z,amount:Y,requestedAt:0,direction:"incoming",status:"pending"}),G.push(`\uD83D\uDCE5 Withdrawal request received: ${Y} token ${Z} (${V.slice(-4)})`),{success:!0,events:G,approvalNeeded:{type:"approve_withdrawal",data:{tokenId:Z,amount:Y,requestId:V,approved:!0}}};return{success:!0,events:G}}function wM($,Q){let{tokenId:X,amount:Z,requestId:Y,approved:V}=Q.data,G=[],z=$.pendingWithdrawals.get(Y);if(!z)return{success:!1,error:`Withdrawal request ${Y} not found`,events:G};if(z.tokenId!==X||z.amount!==Z)return{success:!1,error:`Approval mismatch: expected ${z.amount} token ${z.tokenId}, got ${Z} token ${X}`,events:G};if(!V)return z.status="rejected",G.push(` Withdrawal ${Y.slice(-4)} rejected`),{success:!0,events:G};if(z.status="approved",G.push(` Withdrawal ${Y.slice(-4)} approved`),z.direction==="outgoing")return{success:!0,events:G,jBatchAction:{type:"collateral_to_reserve",counterpartyId:$.counterpartyEntityId,tokenId:X,amount:Z}};return{success:!0,events:G}}function xM($,Q){let{tokenId:X,amount:Z}=Q.data;return $.requestedRebalance.set(X,Z),console.log(`\uD83D\uDD04 Rebalance requested: ${Z} token ${X} (hub will coordinate)`),{success:!0,events:[`\uD83D\uDD04 Requested rebalance: ${Z} token ${X} (hub will convert creditcollateral)`]}}function u5($,Q,X=!0){switch(console.log(`\uD83D\uDD04 Processing ${Q.type} for ${$.counterpartyEntityId.slice(-4)} (ourFrame: ${X})`),Q.type){case"add_delta":return EM($,Q,X);case"set_credit_limit":return IM($,Q,X);case"direct_payment":return SM($,Q,X);case"account_payment":return console.warn(" account_payment type is deprecated"),{success:!0,events:[]};case"account_settle":return console.log("\uD83D\uDCB0 account_settle processed externally"),{success:!0,events:[" Settlement processed"]};case"reserve_to_collateral":return BM($,Q);case"request_withdrawal":return _M($,Q,X);case"approve_withdrawal":return wM($,Q);case"request_rebalance":return xM($,Q);case"account_frame":return console.error(" FATAL: account_frame should not be in accountTxs array!"),{success:!1,error:"account_frame is not a transaction type",events:[]};default:return{success:!1,error:"Unknown accountTx type",events:[]}}}var kM=G0(()=>{NM();jM()});var bM={};RQ(bM,{validateMessageCounter:()=>gM,validateAccountFrame:()=>vM,shouldProposeFrame:()=>hM,proposeAccountFrame:()=>yM,handleAccountInput:()=>l5,getAccountsToProposeFrames:()=>jB,generateAccountProof:()=>_B,addToAccountMempool:()=>BB});function vM($,Q){if($.height<0)return!1;if($.accountTxs.length>100)return!1;if($.tokenIds.length!==$.deltas.length)return!1;if(Q!==void 0){if(Math.abs($.timestamp-Q)>SB)return!1}return!0}function gM($,Q){if(Q<=0||Q>fM)return console.log(` Counter out of range: ${Q} (must be 1-${fM})`),!1;let X=$.ackedTransitions+1;if(Q!==X)return console.log(` Counter violation: got ${Q}, expected ${X} (ackedTransitions=${$.ackedTransitions})`),!1;return!0}async function NB($){let{ethers:Q}=await Promise.resolve().then(() => (QW(),$q)),X={height:$.height,timestamp:$.timestamp,prevFrameHash:$.prevFrameHash,accountTxs:$.accountTxs.map((Y)=>({type:Y.type,data:Y.data})),tokenIds:$.tokenIds,deltas:$.deltas.map((Y)=>Y.toString()),fullDeltaStates:$.fullDeltaStates?.map((Y)=>({tokenId:Y.tokenId,collateral:Y.collateral.toString(),ondelta:Y.ondelta.toString(),offdelta:Y.offdelta.toString(),leftCreditLimit:Y.leftCreditLimit.toString(),rightCreditLimit:Y.rightCreditLimit.toString(),leftAllowance:Y.leftAllowance.toString(),rightAllowance:Y.rightAllowance.toString()}))},Z=K$(X);return Q.keccak256(Q.toUtf8Bytes(Z))}async function yM($,Q,X=!1){console.log(`\uD83D\uDE80 E-MACHINE: Proposing account frame for ${Q.counterpartyEntityId.slice(-4)}`),console.log(`\uD83D\uDE80 E-MACHINE: Account state - mempool=${Q.mempool.length}, pendingFrame=${!!Q.pendingFrame}, currentHeight=${Q.currentHeight}`);let Z=[];if(Q.mempool.length>DW)return console.log(` E-MACHINE: Mempool overflow ${Q.mempool.length} > ${DW}`),{success:!1,error:`Mempool overflow: ${Q.mempool.length} > ${DW}`,events:Z};if(Q.mempool.length===0)return console.log(" E-MACHINE: No transactions in mempool to propose"),{success:!1,error:"No transactions to propose",events:Z};if(Q.pendingFrame)return console.log(` E-MACHINE: Still waiting for ACK on pending frame #${Q.pendingFrame.height}`),{success:!1,error:"Waiting for ACK on pending frame",events:Z};console.log(` E-MACHINE: Creating frame with ${Q.mempool.length} transactions...`);let Y=m5(Q),V=[];for(let S of Q.mempool){let N=u5(Y,S,!0);if(!N.success)return{success:!1,error:`Tx validation failed: ${N.error}`,events:V};V.push(...N.events)}let G=[],z=[],L=[],A=Array.from(Y.deltas.entries()).sort((S,N)=>S[0]-N[0]);for(let[S,N]of A){let B=N.ondelta+N.offdelta;if(B===0n&&N.leftCreditLimit===0n&&N.rightCreditLimit===0n){console.log(`  Skipping unused token ${S} from frame (zero delta, zero limits)`);continue}G.push(S),z.push(B),L.push({...N})}console.log(`\uD83D\uDCCA Frame state after processing: ${G.length} tokens`),console.log(`\uD83D\uDCCA TokenIds: [${G.join(", ")}]`),console.log(`\uD83D\uDCCA Deltas: [${z.map((S)=>S.toString()).join(", ")}]`);let F={height:Q.currentHeight+1,timestamp:$.timestamp,accountTxs:[...Q.mempool],prevFrameHash:Q.currentHeight===0?"genesis":Q.currentFrame.stateHash||"",stateHash:"",tokenIds:G,deltas:z,fullDeltaStates:L};F.stateHash=await NB(F);let C;try{C=LM(F,"proposeAccountFrame")}catch(S){return l0("FRAME_CONSENSUS"," Frame validation failed:",S),l0("FRAME_CONSENSUS"," Frame data:",K$(F,2)),{success:!1,error:`Frame validation failed: ${S.message}`,events:Z}}let q=K$(C).length;if(q>d5)return l0("FRAME_CONSENSUS",` Frame too large: ${q} bytes > ${d5} bytes (1MB)`),{success:!1,error:`Frame exceeds 1MB limit: ${q} bytes`,events:Z};console.log(` Frame size: ${q} bytes (${(q/d5*100).toFixed(2)}% of 1MB limit)`);let R=_V(Q.proofHeader.fromEntity,C.stateHash);return Q.pendingFrame=C,Q.sentTransitions=Q.mempool.length,Q.clonedForValidation=Y,Q.mempool=[],Z.push(`\uD83D\uDE80 Proposed frame ${C.height} with ${C.accountTxs.length} transactions`),{success:!0,accountInput:{fromEntityId:Q.proofHeader.fromEntity,toEntityId:Q.proofHeader.toEntity,height:C.height,newAccountFrame:C,newSignatures:[R],counter:X?Q.proofHeader.cooperativeNonce:++Q.proofHeader.cooperativeNonce},events:Z}}async function l5($,Q,X){console.log(`\uD83D\uDCE8 A-MACHINE: Received AccountInput from ${X.fromEntityId.slice(-4)}`);let Z=[];if(X.counter!==void 0){let Y=gM(Q,X.counter);if(console.log(`\uD83D\uDD0D Counter validation: ${X.counter} vs acked=${Q.ackedTransitions}, frameId=${Q.currentHeight}, valid=${Y}`),!Y)return{success:!1,error:`Replay attack detected: counter ${X.counter} invalid (expected ${Q.ackedTransitions+1})`,events:Z};Q.ackedTransitions=X.counter}else return{success:!1,error:"Missing counter - replay protection requires sequential counter",events:Z};if(Q.pendingFrame&&X.height===Q.pendingFrame.height&&X.prevSignatures){console.log(` Received confirmation for pending frame ${X.height}`);let Y=Q.pendingFrame.stateHash,V=Q.proofHeader.toEntity,G=X.prevSignatures[0];if(X.prevSignatures.length>0&&G&&c5(V,Y,G)){if(console.log(`\uD83D\uDD12 COMMIT: Frame ${Q.pendingFrame.height}`),console.log(`  Transactions: ${Q.pendingFrame.accountTxs.length}`),console.log(`  TokenIds: ${Q.pendingFrame.tokenIds.join(",")}`),console.log(`  Deltas: ${Q.pendingFrame.deltas.map((z)=>`${z}`).join(",")}`),console.log(`  StateHash: ${Y.slice(0,16)}...`),Q.clonedForValidation){if(Q.deltas=Q.clonedForValidation.deltas,Q.currentFrame={height:Q.pendingFrame.height,timestamp:Q.pendingFrame.timestamp,accountTxs:Q.pendingFrame.accountTxs,prevFrameHash:Q.pendingFrame.prevFrameHash,tokenIds:Q.pendingFrame.tokenIds,deltas:Q.pendingFrame.deltas,stateHash:Q.pendingFrame.stateHash},Q.currentHeight=Q.pendingFrame.height,Q.frameHistory.push({...Q.pendingFrame}),Q.frameHistory.length>10)Q.frameHistory.shift();console.log(`\uD83D\uDCDA Frame ${Q.pendingFrame.height} added to history (total: ${Q.frameHistory.length})`)}if(delete Q.pendingFrame,Q.sentTransitions=0,delete Q.clonedForValidation,Q.rollbackCount=Math.max(0,Q.rollbackCount-1),Z.push(` Frame ${X.height} confirmed and committed`),!X.newAccountFrame)return{success:!0,events:Z};console.log("\uD83D\uDCE6 BATCHED-MESSAGE: ACK processed, now processing bundled new frame...")}else return{success:!1,error:"Invalid confirmation signature",events:Z}}if(X.newAccountFrame){let Y=X.newAccountFrame;if(!vM(Y))return{success:!1,error:"Invalid frame structure",events:Z};let V=Q.currentHeight===0?"genesis":Q.currentFrame.stateHash||"";if(Y.prevFrameHash!==V)return l0("FRAME_CONSENSUS"," FRAME-CHAIN-BROKEN: prevFrameHash mismatch"),l0("FRAME_CONSENSUS",`  Expected: ${V.slice(0,16)}...`),l0("FRAME_CONSENSUS",`  Received: ${Y.prevFrameHash.slice(0,16)}...`),l0("FRAME_CONSENSUS",`  Current height: ${Q.currentHeight}`),{success:!1,error:`Frame chain broken: prevFrameHash mismatch (expected ${V.slice(0,16)}...)`,events:Z};if(console.log(` Frame chain verified: prevFrameHash matches frame ${Q.currentHeight}`),Q.pendingFrame&&Y.height===Q.pendingFrame.height)if(console.log(`\uD83D\uDD04 SIMULTANEOUS-PROPOSALS: Both proposed frame ${Y.height}`),PJ(Q.proofHeader.fromEntity,Q.proofHeader.toEntity))return console.log(`\uD83D\uDCE4 LEFT-WINS: Ignoring right's frame ${Y.height}, waiting for them to accept ours`),{success:!0,events:Z};else if(Q.rollbackCount===0){if(Q.pendingFrame)console.log(`\uD83D\uDCE5 RIGHT-ROLLBACK: Restoring ${Q.pendingFrame.accountTxs.length} txs to mempool`),Q.mempool.unshift(...Q.pendingFrame.accountTxs),console.log(`\uD83D\uDCE5 Mempool now has ${Q.mempool.length} txs after rollback restore`);Q.sentTransitions=0,delete Q.pendingFrame,delete Q.clonedForValidation,Q.rollbackCount++,console.log(`\uD83D\uDCE5 RIGHT-ROLLBACK: Accepting left's frame (rollbacks: ${Q.rollbackCount})`)}else return l0("FRAME_CONSENSUS",` FATAL: Right side rolled back ${Q.rollbackCount} times - consensus broken`),{success:!1,error:"Multiple rollbacks detected - consensus failure",events:Z};if(Q.pendingFrame&&Y.height===Q.currentHeight+1&&Q.rollbackCount>0)Q.rollbackCount--,console.log(` ROLLBACK-RESOLVED: They accepted our frame (rollbacks: ${Q.rollbackCount})`);if(Y.height!==Q.currentHeight+1)return console.log(` Frame sequence mismatch: expected ${Q.currentHeight+1}, got ${Y.height}`),{success:!1,error:`Frame sequence mismatch: expected ${Q.currentHeight+1}, got ${Y.height}`,events:Z};if(X.newSignatures&&X.newSignatures.length>0){let N=X.newSignatures[0];if(!N)return{success:!1,error:"Missing signature in newSignatures array",events:Z};if(!c5(X.fromEntityId,Y.stateHash,N))return{success:!1,error:"Invalid frame signature",events:Z}}let G=m5(Q),z=[];for(let N of Y.accountTxs){let B=u5(G,N,!1);if(!B.success)return{success:!1,error:`Frame application failed: ${B.error}`,events:Z};z.push(...B.events)}let L=[],A=[],F=Array.from(G.deltas.entries()).sort((N,B)=>N[0]-B[0]);for(let[N,B]of F){let _=B.ondelta+B.offdelta;if(_===0n&&B.leftCreditLimit===0n&&B.rightCreditLimit===0n){console.log(`  RECEIVER: Skipping unused token ${N} from validation (zero delta, zero limits)`);continue}L.push(N),A.push(_)}console.log(`\uD83D\uDD0D RECEIVER: Computed ${L.length} tokens after filtering: [${L.join(", ")}]`);let C=Buffer.from(A.map((N)=>N.toString()).join(",")).toString("hex"),q=Buffer.from(Y.deltas.map((N)=>N.toString()).join(",")).toString("hex");if(console.log(`\uD83D\uDD0D STATE-VERIFY Frame ${Y.height}:`),console.log(`  Our computed:  ${C.slice(0,32)}...`),console.log(`  Their claimed: ${q.slice(0,32)}...`),C!==q){l0("FRAME_CONSENSUS"," CONSENSUS-FAILURE: Both sides computed different final states!"),l0("FRAME_CONSENSUS"," FULL CONSENSUS FAILURE DUMP:"),l0("FRAME_CONSENSUS"," AccountMachine BEFORE:",K$(Q)),l0("FRAME_CONSENSUS"," ClonedMachine AFTER:",K$(G)),l0("FRAME_CONSENSUS"," ReceivedFrame COMPLETE:",K$(Y)),l0("FRAME_CONSENSUS"," OurComputedState:",C),l0("FRAME_CONSENSUS"," TheirClaimedState:",q),l0("FRAME_CONSENSUS"," OurFinalDeltas:",A.map((B)=>B.toString())),l0("FRAME_CONSENSUS"," TheirFrameDeltas:",Y.deltas.map((B)=>B.toString()));let N=PJ(Q.proofHeader.fromEntity,Q.proofHeader.toEntity);return l0("FRAME_CONSENSUS",` isLeft=${N}, fromEntity=${Q.proofHeader.fromEntity}, toEntity=${Q.proofHeader.toEntity}`),{success:!1,error:"Bilateral consensus failure - states don't match",events:Z}}if(console.log(` CONSENSUS-SUCCESS: Both sides computed identical state for frame ${Y.height}`),Q.deltas=G.deltas,G.pendingForward)Q.pendingForward=G.pendingForward,console.log(`\uD83D\uDD00 Copied pendingForward for multi-hop: route=[${G.pendingForward.route.map((N)=>N.slice(-4)).join(",")}]`);if(Q.currentFrame={height:Y.height,timestamp:Y.timestamp,accountTxs:Y.accountTxs,prevFrameHash:Y.prevFrameHash,tokenIds:Y.tokenIds,deltas:Y.deltas,stateHash:Y.stateHash},Q.currentHeight=Y.height,Q.frameHistory.push({...Y}),Q.frameHistory.length>10)Q.frameHistory.shift();console.log(`\uD83D\uDCDA Frame ${Y.height} accepted and added to history (total: ${Q.frameHistory.length})`),Z.push(...z),Z.push(`\uD83E\uDD1D Accepted frame ${Y.height} from Entity ${X.fromEntityId.slice(-4)}`);let R=_V(Q.proofHeader.fromEntity,Y.stateHash),I=!1,S={fromEntityId:Q.proofHeader.fromEntity,toEntityId:X.fromEntityId,height:Y.height,prevSignatures:[R],counter:0};if(Q.mempool.length>0&&!Q.pendingFrame){console.log("\uD83D\uDCE6 BATCH-OPTIMIZATION: Sending ACK + new frame in single message (Channel.ts pattern)");let N=await yM($,Q,!0);if(N.success&&N.accountInput){if(I=!0,N.accountInput.newAccountFrame)S.newAccountFrame=N.accountInput.newAccountFrame;if(N.accountInput.newSignatures)S.newSignatures=N.accountInput.newSignatures;let B=N.accountInput.newAccountFrame?.height||0;console.log(` Batched ACK for frame ${Y.height} + proposal for frame ${B}`),Z.push(`\uD83D\uDCE4 Batched ACK + frame ${B}`)}}return S.counter=++Q.proofHeader.cooperativeNonce,console.log(`\uD83D\uDD22 Message counter: ${S.counter} (batched=${I})`),{success:!0,response:S,events:Z}}return{success:!0,events:Z}}function BB($,Q){if($.mempool.length>=DW)return console.log(` Mempool full: ${$.mempool.length} >= ${DW}`),!1;return $.mempool.push(Q),console.log(`\uD83D\uDCE5 Added ${Q.type} to mempool (${$.mempool.length}/${DW})`),!0}function hM($){return $.mempool.length>0&&!$.pendingFrame}function jB($){let Q=[];if(!$.accounts||!($.accounts instanceof Map))return console.log(` No accounts or accounts not a Map: ${typeof $.accounts}`),Q;for(let[X,Z]of $.accounts)if(hM(Z))Q.push(X);return Q}async function _B($){$.proofBody={tokenIds:Array.from($.deltas.keys()).sort((G,z)=>G-z),deltas:Array.from($.deltas.keys()).sort((G,z)=>G-z).map((G)=>{let z=$.deltas.get(G);if(!z)throw l0("FRAME_CONSENSUS",` Missing delta for tokenId ${G} in account ${$.counterpartyEntityId}`),new Error(`Critical financial data missing: delta for token ${G}`);return z.ondelta+z.offdelta})};let Q={fromEntity:$.proofHeader.fromEntity,toEntity:$.proofHeader.toEntity,cooperativeNonce:$.proofHeader.cooperativeNonce,disputeNonce:$.proofHeader.disputeNonce,tokenIds:$.proofBody.tokenIds,deltas:$.proofBody.deltas.map((G)=>G.toString())},X=K$(Q),Y=(await OW(X)).slice(2),V=_V($.proofHeader.fromEntity,`0x${Y}`);return $.hankoSignature=V,console.log(`\uD83D\uDD10 Generated account proof: ${$.proofBody.tokenIds.length} tokens, hash: 0x${Y.slice(0,20)}...`),console.log(`\uD83D\uDD10 ProofBody tokens: [${$.proofBody.tokenIds.join(",")}]`),console.log(`\uD83D\uDD10 ProofBody deltas: [${$.proofBody.deltas.map((G)=>G.toString()).join(",")}]`),{proofHash:`0x${Y}`,signature:V}}var DW=1000,fM=1e6,SB=300000,d5=1048576;var o5=G0(()=>{fY();VZ();YX();XW();EV();kM()});async function pM($,Q,X){console.log(`\uD83D\uDE80 APPLY accountInput: ${Q.fromEntityId.slice(-4)}  ${Q.toEntityId.slice(-4)}`);let Z=VX($),Y=[],V=Z.accounts.get(Q.fromEntityId),G=!1;if(!V){G=!0,console.log(`\uD83D\uDCB3 Creating new account machine for ${Q.fromEntityId.slice(-4)}`);let z=new Map;V={counterpartyEntityId:Q.fromEntityId,mempool:[],currentFrame:{height:0,timestamp:X.timestamp,accountTxs:[],prevFrameHash:"",tokenIds:[],deltas:[],stateHash:""},sentTransitions:0,ackedTransitions:0,deltas:z,globalCreditLimits:{ownLimit:iQ(1),peerLimit:iQ(1)},currentHeight:0,pendingSignatures:[],rollbackCount:0,sendCounter:0,receiveCounter:0,proofHeader:{fromEntity:$.entityId,toEntity:Q.fromEntityId,cooperativeNonce:0,disputeNonce:0},proofBody:{tokenIds:[],deltas:[]},frameHistory:[],pendingWithdrawals:new Map,requestedRebalance:new Map},Z.accounts.set(Q.fromEntityId,V)}if(!V)throw new Error(`CRITICAL: AccountMachine creation failed for ${Q.fromEntityId}`);if(G&&Q.newAccountFrame){if(Q.newAccountFrame.accountTxs.some((L)=>L.type==="add_delta")){let A=iQ(1);console.log("\uD83D\uDCB3 NEW-ACCOUNT: Received opening frame, queueing our credit limit");let C=$.entityId<Q.fromEntityId?"left":"right";V.mempool.push({type:"set_credit_limit",data:{tokenId:1,amount:A,side:C}}),console.log(`\uD83D\uDCDD Queued set_credit_limit(side=${C}, 1M) - will batch with ACK`)}}if(Q.height||Q.newAccountFrame){console.log(`\uD83E\uDD1D Processing frame from ${Q.fromEntityId.slice(-4)}`);let z=await l5(X,V,Q);if(z.success){if(RU(Z,z.events),console.log(`\uD83D\uDD0D PENDING-FORWARD-CHECK: Has pendingForward=${!!V.pendingForward}`),V.pendingForward)console.log(`\uD83D\uDD0D PENDING-FORWARD: route=[${V.pendingForward.route.map((L)=>L.slice(-4)).join(",")}], amount=${V.pendingForward.amount}`);if(V.pendingForward){let L=V.pendingForward;console.log(`\uD83D\uDD00 MULTI-HOP: Payment needs forwarding to ${L.route[L.route.length-1]?.slice(-4)}`);let A=L.route[0];if(A){let F=1000n,C=L.amount/F>1n?L.amount/F:1n,q=L.amount-C;console.log(`\uD83D\uDCB0 Forwarding fee: ${C}, forward amount: ${q}`);let R=Z.accounts.get(A);if(R){let I={type:"direct_payment",data:{tokenId:L.tokenId,amount:q,route:L.route,...L.description?{description:L.description}:{},fromEntityId:$.entityId,toEntityId:A}};R.mempool.push(I),console.log(` Forwarded payment added to account ${A.slice(-4)} mempool`),g$(Z,` Relayed payment to Entity ${A.slice(-4)}`)}else console.error(` No account with next hop ${A.slice(-4)} for forwarding`),g$(Z," Payment routing failed: no account with next hop")}delete V.pendingForward}if(z.response){console.log(`\uD83D\uDCE4 Sending response to ${z.response.toEntityId.slice(-4)}`);let L="alice",A=Array.from(X.replicas.keys()).filter((F)=>F.startsWith(z.response.toEntityId+":"));if(A.length>0){let F=X.replicas.get(A[0]);if(F?.state.config.validators[0])L=F.state.config.validators[0]}Y.push({entityId:z.response.toEntityId,signerId:L,entityTxs:[{type:"accountInput",data:z.response}]}),console.log(" Response queued")}}else console.error(` Frame consensus failed: ${z.error}`),g$(Z,` ${z.error}`)}else console.error(" Received AccountInput without frames - invalid!"),g$(Z,` Invalid AccountInput from ${Q.fromEntityId.slice(-4)}`);return{newState:Z,outputs:Y}}var n5=G0(()=>{o5();fY();VZ()});var s5=($)=>{return PZ($).symbol},i5=($)=>{return PZ($).decimals},mM=($,Q)=>{let{from:X,event:Z,observedAt:Y,blockNumber:V,transactionHash:G}=Q,z=$.jBlock||0;if(console.log(`\uD83D\uDD0D J-EVENT-CHECK: ${Z.type} block=${V} vs entity.jBlock=${z} (raw=${$.jBlock}), from=${X}`),V<=z)return console.log(`\uD83D\uDD04 IGNORING OLD J-EVENT: ${Z.type} from block ${V} (entity already at j-block ${$.jBlock})`),$;console.log(` J-EVENT-ACCEPTED: ${Z.type} block=${V} > entity.jBlock=${$.jBlock}, will process`);let L=VX($);L.jBlock=V??($.jBlock??0);let A=new Date(Y).toLocaleTimeString(),F=G?G.slice(0,10)+"...":"unknown",C="";if(Z.type==="reserve_transferred"){let{from:q,to:R,tokenId:I,amount:S,direction:N}=Z.data,B=s5(I),_=i5(I),k=(Number(S)/10**_).toFixed(4);if(N==="sent")C=`\uD83D\uDCB8 ${X} observed RESERVE TRANSFER: Sent ${k} ${B} to Entity ${R.slice(-1)}
\uD83D\uDCCD Block: ${V} |  ${A} | \uD83D\uDD17 Tx: ${F}
\uD83C\uDFAF Event: ReserveTransferred | \uD83D\uDD22 TokenID: ${I} | \uD83D\uDCB0 Amount: ${S} (raw)`;else C=`\uD83D\uDCB0 ${X} observed RESERVE TRANSFER: Received ${k} ${B} from Entity ${q.slice(-1)}
\uD83D\uDCCD Block: ${V} |  ${A} | \uD83D\uDD17 Tx: ${F}
\uD83C\uDFAF Event: ReserveTransferred | \uD83D\uDD22 TokenID: ${I} | \uD83D\uDCB0 Amount: ${S} (raw)`}else if(Z.type==="ReserveUpdated"){let{tokenId:q,newBalance:R}=Z.data,I=s5(q),S=i5(q),N=(Number(R)/10**S).toFixed(4);C=`\uD83D\uDCCA ${X} observed RESERVE UPDATE: ${I} balance now ${N} (accepted: event.block=${V} > entity.jBlock=${z})
\uD83D\uDCCD Block: ${V} |  ${A} | \uD83D\uDD17 Tx: ${F}
\uD83C\uDFAF Event: ReserveUpdated | \uD83D\uDD22 TokenID: ${q} | \uD83D\uDCB0 New Balance: ${R} (raw)
\uD83C\uDFE6 Decimals: ${S} | \uD83D\uDD24 Symbol: ${I}`}else if(Z.type==="SettlementProcessed"){let{counterpartyEntityId:q,tokenId:R,ownReserve:I,counterpartyReserve:S,collateral:N,ondelta:B,side:_}=Z.data,k=s5(R),f=i5(R),v=(Number(I)/10**f).toFixed(4),p=(Number(S)/10**f).toFixed(4),c=(Number(N)/10**f).toFixed(4);C=` ${X} observed SETTLEMENT: ${k} settled with Entity ${q.slice(-4)}
\uD83D\uDCCD Block: ${V} |  ${A} | \uD83D\uDD17 Tx: ${F}
\uD83C\uDFAF Event: SettlementProcessed | \uD83D\uDD22 TokenID: ${R} | \uD83D\uDC64 Side: ${_}
\uD83D\uDCB0 Own Reserve: ${v} | \uD83E\uDD1D Counterparty: ${p}
\uD83D\uDD12 Collateral: ${c} | \uD83D\uDCCA OnDelta: ${B}`}else C=`\uD83D\uDD0D ${X} observed J-EVENT: ${Z.type}
\uD83D\uDCCD Block: ${V} |  ${A} | \uD83D\uDD17 Tx: ${F}
\uD83D\uDCCB Data: ${K$(Z.data,2)}`;if(g$(L,C),Z.type==="ReserveUpdated"){let{entity:q,tokenId:R,newBalance:I}=Z.data;if(q===$.entityId){if(L.reserves.set(String(R),BigInt(I)),u0)console.log(` Reserve updated for ${q.slice(0,10)}...: Token ${R} new balance is ${I}`)}}else if(Z.type==="reserve_transferred"){let{tokenId:q,amount:R,direction:I}=Z.data;if(I==="sent"){if(L.reserves.get(String(q))===void 0)L.reserves.set(String(q),0n),console.warn(`\uD83D\uDD0D RESERVE-INIT: Initialized new token ${q} reserve to 0n`);let B=L.reserves.get(String(q))-BigInt(R);L.reserves.set(String(q),B>=0n?B:0n)}else if(I==="received"){if(L.reserves.get(String(q))===void 0)L.reserves.set(String(q),0n),console.warn(`\uD83D\uDD0D RESERVE-INIT: Initialized new token ${q} reserve to 0n`);let N=L.reserves.get(String(q));L.reserves.set(String(q),N+BigInt(R))}if(u0)console.log(` Reserve transfer processed: ${I} ${R} token ${q}`)}else if(Z.type==="SettlementProcessed"){let{counterpartyEntityId:q,tokenId:R,ownReserve:I,counterpartyReserve:S,collateral:N,ondelta:B,side:_}=Z.data;L.reserves.set(String(R),BigInt(I));let k={fromEntityId:$.entityId,toEntityId:q,accountTx:{type:"account_settle",data:{tokenId:Number(R),ownReserve:I,counterpartyReserve:S,collateral:N,ondelta:B,side:_,blockNumber:V,transactionHash:G}},metadata:{purpose:"settlement_consensus",description:`Settlement event from j-machine for token ${R}`}};if(!L.accountInputQueue)L.accountInputQueue=[];if(L.accountInputQueue.push(k),u0)console.log(` SettlementProcessed: Created accountInput for token ${R} with counterparty ${q.slice(0,10)}...`)}else if(Z.type==="TransferReserveToCollateral"){let{receivingEntity:q,counterentity:R,collateral:I,ondelta:S,tokenId:N,side:B}=Z.data,_=B==="receiving"?R:q,k={fromEntityId:$.entityId,toEntityId:_,accountTx:{type:"reserve_to_collateral",data:{tokenId:Number(N),collateral:I,ondelta:S,side:B,blockNumber:V,transactionHash:G}},metadata:{purpose:"r2c_consensus",description:`RC event from j-machine for token ${N}`}};if(!L.accountInputQueue)L.accountInputQueue=[];if(L.accountInputQueue.push(k),u0)console.log(` TransferReserveToCollateral: Created accountInput for token ${N} with counterparty ${_.slice(0,10)}...`)}else g$(L,` Unhandled j-event type: ${Z.type}`);return L};var r5=G0(()=>{YX();fY();VZ()});var cM=($,Q,X)=>{let Z=K$({type:$.type,data:$.data,proposer:Q,timestamp:X.timestamp});return`prop_${MU("sha256").update(Z).digest("hex").slice(0,12)}`},a5=($,Q)=>{if(Q.action.type==="collective_message"){let X=`[COLLECTIVE] ${Q.action.data.message}`;if(u0)console.log(`    \uD83C\uDFDB  Executing collective proposal: "${X}"`);let Z=[...$.messages,X];if(Z.length>10)Z.shift();return{...$,messages:Z}}return $};var t5=G0(()=>{YX()});var uM=($)=>{try{if(typeof $!=="string")return r0.error(` Message must be string, got: ${typeof $}`),!1;if($.length>1000)return r0.error(` Message too long: ${$.length} > 1000 chars`),!1;if($.length===0)return r0.error(" Empty message not allowed"),!1;return!0}catch(Q){return r0.error(` Message validation error: ${Q}`),!1}};var e5=G0(()=>{YX()});var LW={};RQ(LW,{shouldBroadcastBatch:()=>gB,isBatchEmpty:()=>QO,initJBatch:()=>wB,getBatchSize:()=>XO,createEmptyBatch:()=>$O,broadcastBatch:()=>vB,batchAddSettlement:()=>kB,batchAddReserveToReserve:()=>fB,batchAddReserveToCollateral:()=>xB});function $O(){return{reserveToExternalToken:[],externalTokenToReserve:[],reserveToReserve:[],reserveToCollateral:[],settlements:[],cooperativeUpdate:[],cooperativeDisputeProof:[],initialDisputeProof:[],finalDisputeProof:[],flashloans:[],hub_id:0}}function wB(){return{batch:$O(),jurisdiction:null,lastBroadcast:0,broadcastCount:0,failedAttempts:0}}function QO($){return $.reserveToExternalToken.length===0&&$.externalTokenToReserve.length===0&&$.reserveToReserve.length===0&&$.reserveToCollateral.length===0&&$.settlements.length===0&&$.cooperativeUpdate.length===0&&$.cooperativeDisputeProof.length===0&&$.initialDisputeProof.length===0&&$.finalDisputeProof.length===0&&$.flashloans.length===0}function xB($,Q,X,Z,Y){let V=$.batch.reserveToCollateral.find((G)=>G.receivingEntity===Q&&G.tokenId===Z);if(V){let G=V.pairs.find((z)=>z.entity===X);if(G)G.amount+=Y;else V.pairs.push({entity:X,amount:Y})}else $.batch.reserveToCollateral.push({tokenId:Z,receivingEntity:Q,pairs:[{entity:X,amount:Y}]});console.log(`\uD83D\uDCE6 jBatch: Added RC ${Y} token ${Z} for ${Q.slice(-4)}${X.slice(-4)}`)}function kB($,Q,X,Z){if(Q>=X)throw new Error(`Settlement entities must be ordered: ${Q} >= ${X}`);let Y=$.batch.settlements.find((V)=>V.leftEntity===Q&&V.rightEntity===X);if(Y)for(let V of Z){let G=Y.diffs.find((z)=>z.tokenId===V.tokenId);if(G)G.leftDiff+=V.leftDiff,G.rightDiff+=V.rightDiff,G.collateralDiff+=V.collateralDiff,G.ondeltaDiff+=V.ondeltaDiff;else Y.diffs.push(V)}else $.batch.settlements.push({leftEntity:Q,rightEntity:X,diffs:Z});console.log(`\uD83D\uDCE6 jBatch: Added settlement ${Q.slice(-4)}${X.slice(-4)}, ${Z.length} tokens`)}function fB($,Q,X,Z){$.batch.reserveToReserve.push({receivingEntity:Q,tokenId:X,amount:Z}),console.log(`\uD83D\uDCE6 jBatch: Added RR ${Z} token ${X} to ${Q.slice(-4)}`)}function XO($){return $.reserveToExternalToken.length+$.externalTokenToReserve.length+$.reserveToReserve.length+$.reserveToCollateral.length+$.settlements.length+$.cooperativeUpdate.length+$.cooperativeDisputeProof.length+$.initialDisputeProof.length+$.finalDisputeProof.length+$.flashloans.length}async function vB($,Q,X){if(QO(Q.batch))return console.log("\uD83D\uDCE6 jBatch: Empty batch, skipping broadcast"),{success:!0};let Z=XO(Q.batch);console.log(`\uD83D\uDCE4 Broadcasting batch for ${$.slice(-4)}: ${Z} operations`),console.log("\uD83D\uDCE4 Batch contents:",K$(Q.batch,2));try{let{connectToEthereum:Y}=await Promise.resolve().then(() => (lZ(),DV)),{depository:V}=await Y(X);console.log("\uD83D\uDCE4 Submitting batch to Depository contract..."),console.log(`   Entity: ${$.slice(-4)}`),console.log(`   Operations: RC=${Q.batch.reserveToCollateral.length}, Settlements=${Q.batch.settlements.length}, RR=${Q.batch.reserveToReserve.length}`);let G=await V.processBatch($,Q.batch,{gasLimit:5000000});console.log(` Waiting for batch transaction to mine: ${G.hash}`);let z=await G.wait();return console.log(" Batch broadcasted successfully!"),console.log(`   Tx Hash: ${z.transactionHash}`),console.log(`   Block: ${z.blockNumber}`),console.log(`   Gas Used: ${z.gasUsed.toString()}`),Q.batch=$O(),Q.lastBroadcast=z.blockNumber,Q.broadcastCount++,Q.failedAttempts=0,{success:!0,txHash:z.transactionHash}}catch(Y){let V=Y instanceof Error?Y.message:String(Y);return console.error(` Batch broadcast failed for ${$.slice(-4)}:`,Y),Q.failedAttempts++,{success:!1,error:V}}}function gB($,Q){if(QO($.batch))return!1;let X=XO($.batch),Z=50,Y=5000;if(X>=Z)return console.log(`\uD83D\uDCE6 jBatch: Full (${X}/${Z}) - triggering broadcast`),!0;let V=Q-$.lastBroadcast;if(V>=Y)return console.log(`\uD83D\uDCE6 jBatch: Timeout (${V}ms) - triggering broadcast`),!0;return!1}var qW=()=>{};var dM={};RQ(dM,{handleDepositCollateral:()=>yB});async function yB($,Q){let{counterpartyId:X,tokenId:Z,amount:Y}=Q.data,V=VX($),G=[],z=$.reserves.get(String(Z))||0n;if(z<Y)return g$(V,` Insufficient reserve for collateral deposit: have ${z}, need ${Y} token ${Z}`),{newState:V,outputs:G};if(!$.accounts.has(X))return g$(V,` Cannot deposit collateral: no account with ${X.slice(-4)}`),{newState:V,outputs:G};if(!V.jBatchState){let{initJBatch:A}=await Promise.resolve().then(() => (qW(),LW));V.jBatchState=A()}let{batchAddReserveToCollateral:L}=await Promise.resolve().then(() => (qW(),LW));return L(V.jBatchState,$.entityId,X,Z,Y),g$(V,`\uD83D\uDCE6 Queued RC: ${Y} token ${Z} to account with ${X.slice(-4)} (will broadcast in next batch)`),console.log(` deposit_collateral: Added to jBatch for ${$.entityId.slice(-4)}`),console.log(`   Counterparty: ${X.slice(-4)}`),console.log(`   Token: ${Z}, Amount: ${Y}`),{newState:V,outputs:G}}var lM=G0(()=>{fY()});var oM={};RQ(oM,{handleRequestWithdrawal:()=>hB});function hB($,Q){let{counterpartyEntityId:X,tokenId:Z,amount:Y}=Q.data,V=$.accounts.get(X);if(!V)throw new Error(`No account exists with ${X.slice(-8)}`);let G=`${$.entityId.slice(0,4)}${X.slice(0,4)}${Z}${Date.now()}`.slice(0,16),z={type:"request_withdrawal",data:{tokenId:Z,amount:Y,requestId:G}};return V.mempool.push(z),console.log(`\uD83D\uDCB8 Queued withdrawal request: ${Y} (token ${Z}) from ${X.slice(-8)}`),console.log(`   Request ID: ${G}`),console.log(`   Account mempool now has ${V.mempool.length} pending transactions`),$}var nM=async($,Q,X)=>{if(!X)return l0("ENTITY_TX"," EntityTx is undefined!"),{newState:Q,outputs:[]};try{if(X.type==="chat"){let{from:Z,message:Y}=X.data;if(!uM(Y))return r0.error(` Invalid chat message from ${Z}`),{newState:Q,outputs:[]};let G=(Q.nonces.get(Z)||0)+1,z=VX(Q);return z.nonces.set(Z,G),g$(z,`${Z}: ${Y}`),{newState:z,outputs:[]}}if(X.type==="chatMessage"){let{message:Z}=X.data,Y=VX(Q);return g$(Y,Z),{newState:Y,outputs:[]}}if(X.type==="propose"){let{action:Z,proposer:Y}=X.data,V=cM(Z,Y,Q);if(u0)console.log(`    \uD83D\uDCDD Creating proposal ${V} by ${Y}: ${Z.data.message}`);let G={id:V,proposer:Y,action:Z,votes:new Map([[Y,"yes"]]),status:"pending",created:Q.timestamp},z=Q.config.shares[Y]||BigInt(0),L=z>=Q.config.threshold,A=VX(Q);if(L){if(G.status="executed",A=a5(A,G),u0)console.log(`     Proposal executed immediately - proposer has ${z} >= ${Q.config.threshold} threshold`)}else if(u0)console.log(`     Proposal pending votes - proposer has ${z} < ${Q.config.threshold} threshold`);return A.proposals.set(V,G),{newState:A,outputs:[]}}if(X.type==="vote"){console.log("\uD83D\uDDF3 PROCESSING VOTE: entityTx.data=",X.data);let{proposalId:Z,voter:Y,choice:V,comment:G}=X.data,z=Q.proposals.get(Z);if(console.log(`\uD83D\uDDF3 Vote lookup: proposalId=${Z}, found=${!!z}, status=${z?.status}`),console.log("\uD83D\uDDF3 Available proposals:",Array.from(Q.proposals.keys())),!z||z.status!=="pending")return console.log(`     Vote ignored - proposal ${Z.slice(0,12)}... not found or not pending`),{newState:Q,outputs:[]};console.log(`    \uD83D\uDDF3  Vote by ${Y}: ${V} on proposal ${Z.slice(0,12)}...`);let L=VX(Q),A={...z,votes:new Map(z.votes)},F=G!==void 0?{choice:V,comment:G}:V;A.votes.set(Y,F);let C=Array.from(A.votes.entries()).filter(([R,I])=>{return(typeof I==="object"?I.choice:I)==="yes"}).map(([R,I])=>R),q=PU(Q.config,C);if(u0){let R=Object.values(Q.config.shares).reduce((S,N)=>S+N,BigInt(0)),I=(Number(q)/Number(Q.config.threshold)*100).toFixed(1);console.log(`    \uD83D\uDD0D Proposal votes: ${q} / ${R} [${I}% threshold${Number(q)>=Number(Q.config.threshold)?"+":""}]`)}if(q>=Q.config.threshold){A.status="executed";let R=a5(L,A);return R.proposals.set(Z,A),{newState:R,outputs:[]}}return L.proposals.set(Z,A),{newState:L,outputs:[]}}if(X.type==="profile-update"){console.log("\uD83C\uDFF7 Profile update transaction processing - data:",X.data);let Z=X.data.profile;if(console.log("\uD83C\uDFF7 Extracted profileData:",Z),Z&&Z.entityId){console.log(`\uD83C\uDFF7 Calling processProfileUpdate for entity ${Z.entityId}`);try{await JM(bQ,Z.entityId,Z,Z.hankoSignature||"",$)}catch(Y){l0("ENTITY_TX",` Failed to process profile update for ${Z.entityId}:`,Y)}}else console.warn(" Invalid profile-update transaction data:",X.data),console.warn(" ProfileData missing or invalid:",Z);return{newState:Q,outputs:[]}}if(X.type==="j_event")return{newState:mM(Q,X.data),outputs:[]};if(X.type==="accountInput")return await pM(Q,X.data,$);if(X.type==="openAccount"){console.log(`\uD83D\uDCB3 OPEN-ACCOUNT: Opening account with ${X.data.targetEntityId}`);let Z=VX(Q),Y=[];if(g$(Z,`\uD83D\uDCB3 Opening account with Entity ${MQ(X.data.targetEntityId)}...`),!Z.accounts.has(X.data.targetEntityId)){console.log(`\uD83D\uDCB3 LOCAL-ACCOUNT: Creating local account with Entity ${MQ(X.data.targetEntityId)}...`);let F=new Map;Z.accounts.set(X.data.targetEntityId,{counterpartyEntityId:X.data.targetEntityId,mempool:[],currentFrame:{height:0,timestamp:$.timestamp,accountTxs:[],prevFrameHash:"",tokenIds:[],deltas:[],stateHash:""},sentTransitions:0,ackedTransitions:0,deltas:F,globalCreditLimits:{ownLimit:iQ(1),peerLimit:iQ(1)},currentHeight:0,pendingSignatures:[],rollbackCount:0,sendCounter:0,receiveCounter:0,proofHeader:{fromEntity:Q.entityId,toEntity:X.data.targetEntityId,cooperativeNonce:0,disputeNonce:0},proofBody:{tokenIds:[],deltas:[]},frameHistory:[],pendingWithdrawals:new Map,requestedRebalance:new Map})}console.log(`\uD83D\uDCB3 Adding account setup transactions to local mempool for ${MQ(X.data.targetEntityId)}`);let V=Z.accounts.get(X.data.targetEntityId);if(!V)throw new Error("CRITICAL: Account machine not found after creation");let G=1,z=iQ(1),A=Q.entityId<X.data.targetEntityId?"left":"right";if(V.mempool.push({type:"add_delta",data:{tokenId:G}}),V.mempool.push({type:"set_credit_limit",data:{tokenId:G,amount:z,side:A}}),console.log(`\uD83D\uDCDD Queued 2 transactions to mempool (total: ${V.mempool.length})`),console.log(" Frame #1 will be auto-proposed on next tick (100ms) via AUTO-PROPOSE"),console.log(`   Transactions: [add_delta, set_credit_limit(side=${A}, amount=1M)]`),g$(Z,` Account opening request sent to Entity ${MQ(X.data.targetEntityId)}`),$.gossip){let F=BV(Z);$.gossip.announce(F),console.log(`\uD83D\uDCE1 Broadcast profile for ${Q.entityId} with ${Z.accounts.size} accounts`)}return{newState:Z,outputs:Y}}if(X.type==="directPayment"){console.log(`\uD83D\uDCB8 DIRECT-PAYMENT: Initiating payment to ${X.data.targetEntityId}`);let Z=VX(Q),Y=[],{targetEntityId:V,tokenId:G,amount:z,route:L,description:A}=X.data;if(!L||L.length===0)if(Z.accounts.has(V))console.log(`\uD83D\uDCB8 Direct account exists with ${MQ(V)}`),L=[Q.entityId,V];else if(console.log(`\uD83D\uDCB8 No direct account, finding route to ${MQ(V)}`),$.gossip){let I=$.gossip.getNetworkGraph().findPaths(Q.entityId,V);if(I.length>0)L=I[0].path,console.log(`\uD83D\uDCB8 Found route: ${L.map((S)=>MQ(S)).join("  ")}`);else return l0("ENTITY_TX",` No route found to ${MQ(V)}`),g$(Z,` Payment failed: No route to ${MQ(V)}`),{newState:Z,outputs:[]}}else return l0("ENTITY_TX"," Cannot find route: Gossip layer not available"),g$(Z," Payment failed: Network routing unavailable"),{newState:Z,outputs:[]};if(L.length<2||L[0]!==Q.entityId)return l0("ENTITY_TX"," Invalid route: doesn't start with current entity"),{newState:Q,outputs:[]};let F=L[1];if(!F)return l0("ENTITY_TX"," Invalid route: no next hop specified in route"),{newState:Q,outputs:[]};if(!Z.accounts.has(F))return l0("ENTITY_TX",` No account with next hop: ${F}`),g$(Z,` Payment failed: No account with ${MQ(F)}`),{newState:Z,outputs:[]};let C={type:"direct_payment",data:{tokenId:G,amount:z,route:L.slice(1),description:A||`Payment to ${MQ(V)}`,fromEntityId:Q.entityId,toEntityId:F}},q=Z.accounts.get(F);if(q){q.mempool.push(C),console.log(`\uD83D\uDCB8 Added payment to mempool for account with ${MQ(F)}`),console.log(`\uD83D\uDCB8 Account mempool now has ${q.mempool.length} pending transactions`);let R=q.proofHeader.fromEntity<q.proofHeader.toEntity;console.log(`\uD83D\uDCB8 Is left entity: ${R}, Has pending frame: ${!!q.pendingFrame}`),g$(Z,`\uD83D\uDCB8 Sending ${z} (token ${G}) to ${MQ(V)} via ${L.length-1} hops`),console.log(`\uD83D\uDCB8 Payment queued for bilateral consensus with ${MQ(F)}`),console.log(`\uD83D\uDCB8 Account ${MQ(F)} should be added to proposableAccounts`);let I=Q.config.validators[0];if(I)Y.push({entityId:Q.entityId,signerId:I,entityTxs:[]});console.log("\uD83D\uDCB8 Added processing trigger to ensure bilateral consensus runs")}return{newState:Z,outputs:Y}}if(X.type==="deposit_collateral"){let{handleDepositCollateral:Z}=await Promise.resolve().then(() => (lM(),dM));return await Z(Q,X)}if(X.type==="requestWithdrawal"){let{handleRequestWithdrawal:Z}=await Promise.resolve().then(() => oM);return{newState:Z(Q,X),outputs:[]}}if(X.type==="settleDiffs"){console.log(`\uD83C\uDFE6 SETTLE-DIFFS: Processing settlement with ${X.data.counterpartyEntityId}`);let Z=VX(Q),{counterpartyEntityId:Y,diffs:V,description:G}=X.data;for(let q of V){let R=q.leftDiff+q.rightDiff+q.collateralDiff;if(R!==0n)throw l0("ENTITY_TX",` INVARIANT-VIOLATION: leftDiff + rightDiff + collateralDiff = ${R} (must be 0)`),new Error(`Settlement invariant violation: ${R} !== 0`)}if(!Z.accounts.has(Y))throw l0("ENTITY_TX",` No account exists with ${MQ(Y)}`),new Error(`No account with ${Y}`);let z=Q.entityId<Y,L=z?Q.entityId:Y,A=z?Y:Q.entityId;console.log(`\uD83C\uDFE6 Canonical order: left=${L.slice(0,10)}..., right=${A.slice(0,10)}...`),console.log(`\uD83C\uDFE6 We are: ${z?"LEFT":"RIGHT"}`);let F=Q.config.jurisdiction;if(!F)throw new Error("No jurisdiction configured for this entity");let C=V.map((q)=>({tokenId:q.tokenId,leftDiff:q.leftDiff,rightDiff:q.rightDiff,collateralDiff:q.collateralDiff,ondeltaDiff:q.ondeltaDiff||0n}));console.log("\uD83C\uDFE6 Calling submitSettle with diffs:",K$(C,2));try{let q=await HV(F,L,A,C);console.log(` Settlement transaction sent: ${q.txHash}`),g$(Z,`\uD83C\uDFE6 ${G||"Settlement"} tx: ${q.txHash.slice(0,10)}... (block ${q.blockNumber})`)}catch(q){throw l0("ENTITY_TX"," Settlement transaction failed:",q),g$(Z,` Settlement failed: ${q.message}`),q}return{newState:Z,outputs:[]}}return{newState:Q,outputs:[]}}catch(Z){return r0.error(` Transaction execution error: ${Z}`),{newState:Q,outputs:[]}}};var sM=G0(()=>{ZO();v5();EZ();YX();p5();VZ();n5();r5();t5();e5();fY();lZ();XW()});var iM=G0(()=>{SV()});var rM=G0(()=>{sM();iM();n5();r5();t5();e5()});var aM={};RQ(aM,{initCrontab:()=>mB,getAccountTimeoutStats:()=>lB,executeCrontab:()=>cB,ACCOUNT_TIMEOUT_MS:()=>bB,ACCOUNT_TIMEOUT_CHECK_INTERVAL_MS:()=>pB});function mB(){let $=new Map;return $.set("checkAccountTimeouts",{name:"checkAccountTimeouts",intervalMs:1e4,lastRun:0,handler:uB}),$.set("broadcastBatch",{name:"broadcastBatch",intervalMs:5000,lastRun:0,handler:oB}),$.set("hubRebalance",{name:"hubRebalance",intervalMs:30000,lastRun:0,handler:nB}),{tasks:$}}async function cB($,Q){let X=$.state.timestamp,Z=[];for(let Y of Q.tasks.values())if(X-Y.lastRun>=Y.intervalMs)try{let G=await Y.handler($);if(Z.push(...G),Y.lastRun=X,G.length>0)console.log(` CRONTAB: Task "${Y.name}" generated ${G.length} outputs`)}catch(G){console.error(` CRONTAB: Task "${Y.name}" failed:`,G)}return Z}async function uB($){let Q=[],X=$.state.timestamp;for(let[Z,Y]of $.state.accounts.entries())if(Y.pendingFrame){let V=X-Y.pendingFrame.timestamp;if(V>30000){console.warn(` TIMEOUT DETECTED: Account with ${Z.slice(-4)} has pending frame ${Y.pendingFrame.height} for ${V}ms`),console.warn(`   Frame timestamp: ${Y.pendingFrame.timestamp}`),console.warn(`   Current time: ${X}`),console.warn(`   Age: ${V}ms (threshold: 30000ms)`);let G=dB($,Z,Y,V);Q.push(G),console.warn(`\uD83D\uDCAC DISPUTE-SUGGESTION: Generated event for entity ${$.entityId.slice(-4)}`),console.warn(`   Counterparty: ${Z.slice(-4)}`),console.warn(`   Frame: ${Y.pendingFrame.height}`),console.warn(`   Age: ${Math.floor(V/1000)}s`)}}return Q}function dB($,Q,X,Z){let Y=`\uD83D\uDEA8 DISPUTE SUGGESTION: Account with ${Q.slice(-4)} has not acknowledged frame #${X.pendingFrame.height} for ${Math.floor(Z/1000)}s (threshold: ${Math.floor(30)}s). Consider initiating dispute or investigating network issues.`;return{entityId:$.entityId,signerId:"system",entityTxs:[{type:"chatMessage",data:{message:Y,timestamp:$.state.timestamp,metadata:{type:"DISPUTE_SUGGESTION",counterpartyId:Q,height:X.pendingFrame.height,frameAge:Z}}}]}}function lB($){let Q=$.state.timestamp,X=0,Z=0,Y=0;for(let V of $.state.accounts.values())if(V.pendingFrame){X++;let G=Q-V.pendingFrame.timestamp;if(G>30000)Z++;if(G>Y)Y=G}return{totalAccounts:$.state.accounts.size,pendingFrames:X,timedOutFrames:Z,oldestPendingFrameAge:Y}}async function oB($){let Q=[];if(!$.state.jBatchState){let{initJBatch:z}=await Promise.resolve().then(() => (qW(),LW));$.state.jBatchState=z()}let{shouldBroadcastBatch:X,isBatchEmpty:Z}=await Promise.resolve().then(() => (qW(),LW));if(!X($.state.jBatchState,$.state.timestamp))return Q;if(Z($.state.jBatchState.batch))return Q;console.log(`\uD83D\uDCE4 CRONTAB: jBatch ready for broadcast (entity ${$.entityId.slice(-4)})`);let Y=$.state.config.jurisdiction;if(!Y)return console.warn(` No jurisdiction configured for entity ${$.entityId.slice(-4)} - skipping batch broadcast`),Q;let{broadcastBatch:V}=await Promise.resolve().then(() => (qW(),LW)),G=await V($.entityId,$.state.jBatchState,Y);if(G.success)console.log(` jBatch broadcasted successfully: ${G.txHash}`),Q.push({entityId:$.entityId,signerId:"system",entityTxs:[{type:"chatMessage",data:{message:`\uD83D\uDCE4 Batch broadcasted: ${G.txHash?.slice(0,16)}...`,timestamp:$.state.timestamp,metadata:{type:"BATCH_BROADCAST",txHash:G.txHash}}}]});else console.error(` jBatch broadcast failed: ${G.error}`);return Q}async function nB($){let Q=[],{deriveDelta:X}=await Promise.resolve().then(() => (VZ(),TM)),Z=new Map;for(let[Y,V]of $.state.accounts.entries())for(let[G,z]of V.deltas.entries()){let L=$.entityId<Y,A=X(z,L);if(A.delta<0n){let C=-A.delta;if(C>0n){if(!Z.has(G))Z.set(G,{netSpenders:[],netReceivers:[]});Z.get(G).netSpenders.push({entityId:Y,debt:C,collateral:z.collateral})}}let F=V.requestedRebalance.get(G);if(F&&F>0n){if(!Z.has(G))Z.set(G,{netSpenders:[],netReceivers:[]});Z.get(G).netReceivers.push({entityId:Y,requested:F})}}for(let[Y,{netSpenders:V,netReceivers:G}]of Z.entries()){if(V.length===0||G.length===0)continue;let z=V.reduce((C,q)=>C+q.debt,0n),L=G.reduce((C,q)=>C+q.requested,0n),A=z<L?z:L;if(A===0n)continue;console.log(`\uD83D\uDD04 REBALANCE OPPORTUNITY token ${Y}: ${A}`);let F=`\uD83D\uDD04 REBALANCE OPPORTUNITY (Token ${Y}):
Spenders: ${V.length} (debt: ${z})
Receivers: ${G.length} (requested: ${L})
Match: ${A} (${Number(A*100n)/Number(z||1n)}%)`;Q.push({entityId:$.entityId,signerId:"system",entityTxs:[{type:"chatMessage",data:{message:F,timestamp:$.state.timestamp,metadata:{type:"REBALANCE_OPPORTUNITY",tokenId:Y,rebalanceAmount:A.toString()}}}]})}return Q}var bB=30000,pB=1e4;var sB=($)=>{try{if(!$.entityId||typeof $.entityId!=="string")return r0.error(` Invalid entityId: ${$.entityId}`),!1;if(!$.signerId||typeof $.signerId!=="string")return r0.error(` Invalid signerId: ${$.signerId}`),!1;if($.entityTxs){if(!Array.isArray($.entityTxs))return r0.error(` EntityTxs must be array, got: ${typeof $.entityTxs}`),!1;if($.entityTxs.length>1000)return r0.error(` Too many transactions: ${$.entityTxs.length} > 1000`),!1;for(let Q of $.entityTxs){if(!Q.type||!Q.data)return r0.error(` Invalid transaction: ${K$(Q)}`),!1;if(typeof Q.type!=="string"||!["chat","propose","vote","profile-update","j_event","accountInput","openAccount","directPayment"].includes(Q.type))return r0.error(` Invalid transaction type: ${Q.type}`),!1}}if($.precommits){if(!($.precommits instanceof Map))return r0.error(` Precommits must be Map, got: ${typeof $.precommits}`),!1;if($.precommits.size>100)return r0.error(` Too many precommits: ${$.precommits.size} > 100`),!1;for(let[Q,X]of $.precommits)if(typeof Q!=="string"||typeof X!=="string")return r0.error(` Invalid precommit format: ${Q} -> ${X}`),!1}if($.proposedFrame){let Q=$.proposedFrame;if(typeof Q.height!=="number"||Q.height<0)return r0.error(` Invalid frame height: ${Q.height}`),!1;if(!Array.isArray(Q.txs))return r0.error(" Frame txs must be array"),!1;if(!Q.hash||typeof Q.hash!=="string")return r0.error(` Invalid frame hash: ${Q.hash}`),!1}return!0}catch(Q){return r0.error(` Input validation error: ${Q}`),!1}},iB=($)=>{try{if(!$.entityId||!$.signerId)return r0.error(` Invalid replica IDs: ${$.entityId}:${$.signerId}`),!1;if($.state.height<0)return r0.error(` Invalid state height: ${$.state.height}`),!1;if($.mempool.length>1e4)return r0.error(` Mempool overflow: ${$.mempool.length} > 10000`),!1;return!0}catch(Q){return r0.error(` Replica validation error: ${Q}`),!1}},rB=($,Q,X)=>{try{let Z=$.get(Q);if(Z&&Z!==X)return r0.error(` BYZANTINE FAULT: Double-sign detected from ${Q}`),r0.error(` Existing: ${Z}`),r0.error(` New: ${X}`),!0;return!1}catch(Z){return r0.error(` Byzantine detection error: ${Z}`),!1}},aB=($,Q)=>{try{let Z=Math.abs($-Q);if(Z>30000)return r0.error(` Timestamp drift too large: ${Z}ms > ${30000}ms`),r0.error(` Proposed: ${new Date($).toISOString()}`),r0.error(` Current: ${new Date(Q).toISOString()}`),!1;return!0}catch(X){return r0.error(` Timestamp validation error: ${X}`),!1}},tB=($)=>{try{if($<0n)return r0.error(` Negative voting power: ${$}`),!1;if($>BigInt(Number.MAX_SAFE_INTEGER))return r0.error(` Voting power overflow: ${$} > ${Number.MAX_SAFE_INTEGER}`),!1;return!0}catch(Q){return r0.error(` Voting power validation error: ${Q}`),!1}},eM=async($,Q,X)=>{let Z=C$(X.entityId),Y=Date.now(),V=Q.proposal?.hash?.slice(0,10)||"none",G=X.proposedFrame?.hash?.slice(0,10)||"none";if(console.log(`\uD83D\uDD0D INPUT-RECEIVED: [${Y}] Processing input for Entity #${Z}:${TJ(X.signerId)}`),console.log(`\uD83D\uDD0D INPUT-STATE: Current proposal: ${V}, Mempool: ${Q.mempool.length}, isProposer: ${Q.isProposer}`),console.log(`\uD83D\uDD0D INPUT-DETAILS: txs=${X.entityTxs?.length||0}, precommits=${X.precommits?.size||0}, frame=${G}`),X.precommits?.size){let C=Array.from(X.precommits.keys());console.log(`\uD83D\uDD0D INPUT-PRECOMMITS: Received precommits from: ${C.join(", ")}`);let q=X.precommits.values().next().value,R=q?q.split("_")[2]?.slice(0,10):"unknown";console.log(`\uD83D\uDD0D PRECOMMIT-PROPOSAL: These precommits are for proposal: ${R}`)}if(!sB(X))return r0.error(` Invalid input for ${X.entityId}:${X.signerId}`),{newState:Q.state,outputs:[]};if(!iB(Q))return r0.error(` Invalid replica state for ${Q.entityId}:${Q.signerId}`),{newState:Q.state,outputs:[]};let z=[],{executeCrontab:L,initCrontab:A}=await Promise.resolve().then(() => aM);if(!Q.state.crontabState)Q.state.crontabState=A();let F=await L(Q,Q.state.crontabState);if(F.length>0)console.log(` CRONTAB: Generated ${F.length} outputs from periodic tasks`),z.push(...F);if(X.entityTxs?.length){let C=X.entityTxs.filter((q)=>q.type==="vote");if(C.length>0)console.log(`\uD83D\uDDF3 VOTE-MEMPOOL: ${Q.signerId} receiving ${C.length} vote transactions`),C.forEach((q)=>{console.log("\uD83D\uDDF3 VOTE-TX:",q)});if(Q.signerId==="alice")console.log(`\uD83D\uDD25 ALICE-RECEIVES: Alice receiving ${X.entityTxs.length} txs from input`),console.log("\uD83D\uDD25 ALICE-RECEIVES: Transaction types:",X.entityTxs.map((q)=>q.type)),console.log(`\uD83D\uDD25 ALICE-RECEIVES: Alice isProposer=${Q.isProposer}, current mempool=${Q.mempool.length}`);for(let q of X.entityTxs)console.log(`\uD83C\uDFDB E-MACHINE: - EntityTx type="${q.type}", data=`,K$(q.data,2));if(Q.mempool.push(...X.entityTxs),u0)console.log(`     Added ${X.entityTxs.length} txs to mempool (total: ${Q.mempool.length})`);if(u0&&X.entityTxs.length>3)console.log(`      CORNER CASE: Large batch of ${X.entityTxs.length} transactions`)}else if(X.entityTxs&&X.entityTxs.length===0);if(!Q.isProposer&&Q.mempool.length>0){let C=Q.state.config.validators[0];if(!C)return l0("FRAME_CONSENSUS",` No proposer found in validators: ${Q.state.config.validators}`),{newState:Q.state,outputs:z};let q=Q.mempool.length;console.log(`\uD83D\uDD25 BOB-TO-ALICE: Bob sending ${q} txs to proposer ${C}`),console.log("\uD83D\uDD25 BOB-TO-ALICE: Transaction types:",Q.mempool.map((R)=>R.type)),z.push({entityId:X.entityId,signerId:C,entityTxs:[...Q.mempool]}),Q.sentTransitions=q,console.log(`\uD83D\uDCCA Tracked ${q} sent transitions (will clear on commit)`)}if(X.precommits?.size&&X.proposedFrame&&!Q.proposal){let C=Array.from(X.precommits.keys());if(PU(Q.state.config,C)>=Q.state.config.threshold){if(Q.lockedFrame){if(Q.lockedFrame.hash!==X.proposedFrame.hash)return l0("FRAME_CONSENSUS"," BYZANTINE: Commit frame doesn't match locked frame!"),l0("FRAME_CONSENSUS",`   Locked: ${Q.lockedFrame.hash}`),l0("FRAME_CONSENSUS",`   Commit: ${X.proposedFrame.hash}`),{newState:Q.state,outputs:z};console.log(` Commit validation: matches locked frame ${Q.lockedFrame.hash.slice(0,10)}`)}for(let[R,I]of X.precommits){let S=`sig_${R}_${X.proposedFrame.hash}`;if(I!==S)return l0("FRAME_CONSENSUS",` BYZANTINE: Invalid signature format from ${R}`),l0("FRAME_CONSENSUS",`   Expected: ${S.slice(0,30)}...`),l0("FRAME_CONSENSUS",`   Received: ${I.slice(0,30)}...`),{newState:Q.state,outputs:z}}if(console.log(` All ${X.precommits.size} signatures validated for frame ${X.proposedFrame.hash.slice(0,10)}`),Q.state={...X.proposedFrame.newState,height:Q.state.height+1},Q.sentTransitions&&Q.sentTransitions>0)console.log(`\uD83D\uDCCA Clearing ${Q.sentTransitions} committed txs from mempool (${Q.mempool.length} total)`),Q.mempool.splice(0,Q.sentTransitions),Q.sentTransitions=0,console.log(`\uD83D\uDCCA Mempool after commit: ${Q.mempool.length} txs remaining`);else Q.mempool.length=0;if(delete Q.lockedFrame,u0)console.log(`     Applied commit, new state: ${Q.state.messages.length} messages, height: ${Q.state.height}`);return{newState:Q.state,outputs:z}}}if(X.proposedFrame&&(!Q.proposal||Q.state.config.mode==="gossip-based"&&Q.isProposer)){let C=`sig_${Q.signerId}_${X.proposedFrame.hash}`,q=Q.state.config;if(Q.lockedFrame=X.proposedFrame,q.mode==="gossip-based")q.validators.forEach((R)=>{console.log(`\uD83D\uDD0D GOSSIP: [${Y}] ${Q.signerId} sending precommit to ${R} for entity ${X.entityId.slice(0,10)}, proposal ${G}, sig: ${C.slice(0,20)}...`),z.push({entityId:X.entityId,signerId:R,precommits:new Map([[Q.signerId,C]])})});else{let R=q.validators[0];if(!R)return l0("FRAME_CONSENSUS",` No proposer found in validators: ${q.validators}`),{newState:Q.state,outputs:z};console.log(`\uD83D\uDD0D PROPOSER: [${Y}] ${Q.signerId} sending precommit to ${R} for entity ${X.entityId.slice(0,10)}, proposal ${G}, sig: ${C.slice(0,20)}...`),console.log(`\uD83D\uDD0D PROPOSER-REASON: Signed new proposal, current state: proposal=${V}, locked=${Q.lockedFrame?.hash?.slice(0,10)||"none"}`),z.push({entityId:X.entityId,signerId:R,precommits:new Map([[Q.signerId,C]])})}}if(X.precommits?.size&&Q.proposal){for(let[R,I]of X.precommits){if(rB(Q.proposal.signatures,R,I))return r0.error(` Rejecting Byzantine input from ${R}`),{newState:Q.state,outputs:z};Q.proposal.signatures.set(R,I)}if(u0)console.log(`     Collected ${X.precommits.size} signatures (total: ${Q.proposal.signatures.size})`);let C=Array.from(Q.proposal.signatures.keys()),q=PU(Q.state.config,C);if(!tB(q))return r0.error(` Invalid voting power calculation: ${q}`),{newState:Q.state,outputs:z};if(u0){let R=Object.values(Q.state.config.shares).reduce((S,N)=>S+N,BigInt(0)),I=(Number(q)/Number(Q.state.config.threshold)*100).toFixed(1);if(r0.info(`    \uD83D\uDD0D Threshold check: ${q} / ${R} [${I}% threshold${Number(q)>=Number(Q.state.config.threshold)?"+":""}]`),Q.state.config.mode==="gossip-based")console.log("      CORNER CASE: Gossip mode - all validators receive precommits")}if(q>=Q.state.config.threshold){Q.state={...Q.proposal.newState,height:Q.state.height+1};let R=eB(Q.proposal.signatures,Q.state.config),I=Q.proposal;if(Q.mempool.length=0,delete Q.proposal,delete Q.lockedFrame,Q.state.config.mode==="proposer-based"){let S=I.hash.slice(0,10);console.log(`\uD83D\uDD0D COMMIT-START: [${Y}] ${Q.signerId} reached threshold for proposal ${S}, sending commit notifications...`),Q.state.config.validators.forEach((N)=>{if(N!==Q.signerId){let B=Array.from(R.keys());console.log(`\uD83D\uDD0D COMMIT: [${Y}] ${Q.signerId} sending commit notification to ${N} for entity ${X.entityId.slice(0,10)}, proposal ${S} (${R.size} precommits from: ${B.join(", ")})`),z.push({entityId:X.entityId,signerId:N,precommits:R,proposedFrame:I})}})}else if(console.log(`\uD83D\uDD0D GOSSIP-COMMIT: [${Y}] ${Q.signerId} NOT sending commit notifications (gossip mode) for entity ${X.entityId.slice(0,10)}...`),u0)console.log("     Gossip mode: No commit notifications needed (everyone has precommits via gossip)")}}if(console.log(`\uD83C\uDFAF CONSENSUS-CHECK: Entity ${Q.entityId}:${Q.signerId}`),console.log(`\uD83C\uDFAF   isProposer: ${Q.isProposer}`),console.log(`\uD83C\uDFAF   mempool.length: ${Q.mempool.length}`),console.log(`\uD83C\uDFAF   hasProposal: ${!!Q.proposal}`),Q.mempool.length>0)console.log("\uD83C\uDFAF   mempoolTypes:",Q.mempool.map((C)=>C.type));if(Q.isProposer&&Q.mempool.length>0&&!Q.proposal){if(console.log("\uD83D\uDD25 ALICE-PROPOSES: Alice auto-propose triggered!"),console.log(`\uD83D\uDD25 ALICE-PROPOSES: mempool=${Q.mempool.length}, isProposer=${Q.isProposer}, hasProposal=${!!Q.proposal}`),console.log("\uD83D\uDD25 ALICE-PROPOSES: Mempool transaction types:",Q.mempool.map((B)=>B.type)),Q.state.config.validators.length===1&&Q.state.config.threshold===BigInt(1)){console.log("\uD83D\uDE80 SINGLE-SIGNER: Direct execution without consensus for single signer entity");let{newState:B,outputs:_}=await tM($,Q.state,Q.mempool);if(Q.state={...B,height:Q.state.height+1},z.push(..._),Q.mempool.length=0,u0)console.log(`     Single signer entity: transactions applied directly, height: ${Q.state.height}`);return{newState:Q.state,outputs:z}}if(u0)console.log(`    \uD83D\uDE80 Auto-propose triggered: mempool=${Q.mempool.length}, isProposer=${Q.isProposer}, hasProposal=${!!Q.proposal}`);let{newState:q,outputs:R}=await tM($,Q.state,Q.mempool);z.push(...R);let I=$.timestamp;if(!aB(I,$.timestamp))return r0.error(` Invalid proposal timestamp: ${I}`),{newState:Q.state,outputs:z};let S=`frame_${Q.state.height+1}_${I}`,N=`sig_${Q.signerId}_${S}`;if(Q.proposal={height:Q.state.height+1,txs:[...Q.mempool],hash:S,newState:{...q,height:Q.state.height+1,timestamp:I},signatures:new Map([[Q.signerId,N]])},u0)console.log(`     Auto-proposing frame ${Q.proposal.hash} with ${Q.proposal.txs.length} txs and self-signature.`);Q.state.config.validators.forEach((B)=>{if(B!==Q.signerId)z.push({entityId:X.entityId,signerId:B,proposedFrame:Q.proposal})})}else if(Q.isProposer&&Q.mempool.length===0&&!Q.proposal);else if(!Q.isProposer&&Q.mempool.length>0){let C=Q.state.config.validators[0];if(!C)return l0("FRAME_CONSENSUS",` No proposer found in validators: ${Q.state.config.validators}`),{newState:Q.state,outputs:z};console.log(`\uD83D\uDD25 BOB-TO-ALICE: Bob sending ${Q.mempool.length} txs to proposer ${C}`),console.log("\uD83D\uDD25 BOB-TO-ALICE: Transaction types:",Q.mempool.map((q)=>q.type)),z.push({entityId:X.entityId,signerId:C,entityTxs:[...Q.mempool]}),Q.mempool.length=0}else if(Q.isProposer&&Q.proposal);return console.log(`\uD83D\uDD0D OUTPUT-GENERATED: [${Y}] Entity #${Z}:${TJ(Q.signerId)} generating ${z.length} outputs`),console.log(`\uD83D\uDD0D OUTPUT-FINAL-STATE: proposal=${Q.proposal?.hash?.slice(0,10)||"none"}, mempool=${Q.mempool.length}, locked=${Q.lockedFrame?.hash?.slice(0,10)||"none"}`),z.forEach((C,q)=>{let R=C$(C.entityId),I=C.proposedFrame?.hash?.slice(0,10)||"none";if(console.log(`\uD83D\uDD0D OUTPUT-${q+1}: [${Y}] To Entity #${R}:${TJ(C.signerId)} - txs=${C.entityTxs?.length||0}, precommits=${C.precommits?.size||0}, frame=${I}`),C.precommits?.size){let S=Array.from(C.precommits.keys());console.log(`\uD83D\uDD0D OUTPUT-${q+1}-PRECOMMITS: Sending precommits from: ${S.join(", ")}`),C.precommits.forEach((N,B)=>{let _=N.slice(0,20),k=N.split("_")[2]?.slice(0,10)||"unknown";console.log(`\uD83D\uDD0D OUTPUT-${q+1}-SIG-DETAIL: ${B} -> ${_}... (proposal: ${k})`)})}if(C.proposedFrame&&C.precommits?.size)console.log(`\uD83D\uDD0D OUTPUT-${q+1}-TYPE: COMMIT_NOTIFICATION (frame + precommits)`);else if(C.precommits?.size)console.log(`\uD83D\uDD0D OUTPUT-${q+1}-TYPE: PRECOMMIT_VOTE (precommits only)`);else if(C.proposedFrame)console.log(`\uD83D\uDD0D OUTPUT-${q+1}-TYPE: PROPOSAL (frame only)`);else if(C.entityTxs?.length)console.log(`\uD83D\uDD0D OUTPUT-${q+1}-TYPE: TRANSACTION_FORWARD (txs only)`);else console.log(`\uD83D\uDD0D OUTPUT-${q+1}-TYPE: UNKNOWN (empty output)`)}),{newState:Q.state,outputs:z}},tM=async($,Q,X)=>{console.log(`\uD83C\uDFAF APPLY-ENTITY-FRAME: Processing ${X.length} transactions`),X.forEach((F,C)=>{console.log(`\uD83C\uDFAF Transaction ${C}: type="${F.type}", data=`,F.data)});let Z=Q,Y=[],V=new Set;for(let F of X){let{newState:C,outputs:q}=await nM($,Z,F);if(Z=C,Y.push(...q),F.type==="accountInput"&&F.data){let R=F.data.fromEntityId,I=Z.accounts.get(R);if(I){let S=F.data.newAccountFrame,N=F.data.height&&F.data.prevSignatures,B=I.mempool.length>0;if(S||B&&!I.pendingFrame)V.add(R),console.log(`\uD83D\uDD04 Added ${R.slice(0,10)} to proposable - NewFrame:${S}, Pending:${B}`);else if(N)console.log(` Received ACK from ${R.slice(0,10)}, no action needed (mempool empty)`)}}else if(F.type==="directPayment"&&F.data){console.log("\uD83D\uDD0D DIRECT-PAYMENT detected in applyEntityFrame"),console.log("\uD83D\uDD0D Payment data:",{targetEntityId:F.data.targetEntityId,route:F.data.route,amount:F.data.amount}),console.log(`\uD83D\uDD0D Current entity has ${Z.accounts.size} accounts`);for(let[R,I]of Z.accounts){let S=I.proofHeader.fromEntity<I.proofHeader.toEntity;if(console.log(`\uD83D\uDD0D Checking account ${R.slice(0,10)}: mempool=${I.mempool.length}, isLeft=${S}, pendingFrame=${!!I.pendingFrame}`),I.mempool.length>0)V.add(R),console.log(`\uD83D\uDD04  Added ${R.slice(0,10)} to proposableAccounts (has ${I.mempool.length} mempool items)`)}}else if(F.type==="openAccount"&&F.data){let R=F.data.targetEntityId,I=Z.accounts.get(R);if(I){if(I.proofHeader.fromEntity<I.proofHeader.toEntity)V.add(R),console.log(`\uD83D\uDD04 Added ${R.slice(0,10)} to proposable (new account opened)`)}}}console.log("\uD83D\uDE80 AUTO-PROPOSE: Starting bilateral consensus check"),console.log(`\uD83D\uDE80 Proposable accounts so far: ${Array.from(V).join(", ")||"none"}`);let{getAccountsToProposeFrames:G,proposeAccountFrame:z}=await Promise.resolve().then(() => (o5(),bM)),L=G(Z);console.log(`\uD83D\uDE80 Additional accounts from getAccountsToProposeFrames: ${L.join(", ")||"none"}`),L.forEach((F)=>V.add(F));let A=Array.from(V).sort();if(A.length>0){console.log(`\uD83D\uDD04 AUTO-PROPOSE: ${A.length} accounts need frame proposals`),console.log(`\uD83D\uDD04 AUTO-PROPOSE: Accounts to propose: ${A.map((F)=>F.slice(0,10)).join(", ")}`);for(let F of A){console.log(`\uD83D\uDD04 AUTO-PROPOSE: Processing account ${F.slice(0,10)}...`);let C=Z.accounts.get(F);if(C){console.log(`\uD83D\uDD04 AUTO-PROPOSE: Account details - mempool=${C.mempool.length}, pendingFrame=${!!C.pendingFrame}`);let q=await z($,C);if(console.log(`\uD83D\uDD04 AUTO-PROPOSE: Proposal result - success=${q.success}, hasInput=${!!q.accountInput}, error=${q.error||"none"}`),q.success&&q.accountInput){let R="alice",I=Array.from($.replicas.keys()).filter((N)=>N.startsWith(q.accountInput.toEntityId+":"));if(I.length>0){let B=$.replicas.get(I[0])?.state.config.validators[0];if(B)R=B}let S={entityId:q.accountInput.toEntityId,signerId:R,entityTxs:[{type:"accountInput",data:q.accountInput}]};Y.push(S),RU(Z,q.events)}}}}return{newState:Z,outputs:Y}},PU=($,Q)=>{return Q.reduce((X,Z)=>{let Y=$.shares[Z];if(Y===void 0)throw new Error(`CONSENSUS-SAFETY: Unknown validator ${Z} - cannot calculate quorum power`);return X+Y},0n)},eB=($,Q)=>{let X=Array.from($.entries()).sort(([Z],[Y])=>{let V=Q.validators.indexOf(Z),G=Q.validators.indexOf(Y);return V-G});return new Map(X)},$C=($)=>{let Q=new Map,X=0,Z=$.filter((Y)=>Y.signerId.includes("carol"));if(Z.length>1)console.log(`\uD83D\uDD0D MERGE-CAROL-ALERT: Found ${Z.length} inputs from Carol - potential duplicate source!`),Z.forEach((Y,V)=>{let G=Y.entityId.slice(0,10),z=Y.precommits?Array.from(Y.precommits.keys()).join(","):"none";console.log(`\uD83D\uDD0D MERGE-CAROL-${V+1}: ${G}:${Y.signerId} - precommits: ${z}`)});for(let Y of $){let V=`${Y.entityId}:${Y.signerId}`,G=Y.entityId.slice(0,10);if(Q.has(V)){let z=Q.get(V);if(X++,console.log(`\uD83D\uDD0D DUPLICATE-FOUND: Merging duplicate input ${X} for ${G}:${Y.signerId}`),Y.entityTxs)z.entityTxs=[...z.entityTxs||[],...Y.entityTxs],console.log(`\uD83D\uDD0D MERGE-TXS: Added ${Y.entityTxs.length} transactions`);if(Y.precommits){let L=z.precommits||new Map;console.log(`\uD83D\uDD0D MERGE-PRECOMMITS: Merging ${Y.precommits.size} precommits into existing ${L.size} for ${G}:${Y.signerId}`),Y.precommits.forEach((A,F)=>{console.log(`\uD83D\uDD0D MERGE-DETAIL: Adding precommit from ${F} (sig: ${A.slice(0,20)}...)`),L.set(F,A)}),z.precommits=L,console.log(`\uD83D\uDD0D MERGE-RESULT: Total ${L.size} precommits after merge`)}if(Y.proposedFrame)z.proposedFrame=Y.proposedFrame;console.log(`    \uD83D\uDD04 Merging inputs for ${V}: txs=${Y.entityTxs?.length||0}, precommits=${Y.precommits?.size||0}, frame=${!!Y.proposedFrame}`)}else Q.set(V,{...Y})}if(X>0)console.log(`      CORNER CASE: Merged ${X} duplicate inputs (${$.length}  ${Q.size})`);return Array.from(Q.values())};var ZO=G0(()=>{rM();YX();XW();fY()});function MW(){let $=new Map,Q=(Y)=>{let V=$.get(Y.entityId),G=Y.metadata?.lastUpdated||0,z=V?.metadata?.lastUpdated||0;if(!V||G>z)$.set(Y.entityId,Y),console.log(`\uD83D\uDCE1 Gossip updated for ${Y.entityId} (timestamp: ${G})`);else console.log(`\uD83D\uDCE1 Gossip ignored older update for ${Y.entityId} (${G} <= ${z})`)},X=()=>{return Array.from($.values())},Z=()=>{return new Map};return{profiles:$,announce:Q,getProfiles:X}}async function QC($,Q){try{let X=0,Z=$.iterator({gte:"profile:",lt:"profile:"});for await(let[Y,V]of Z)try{let G=JSON.parse(V);Q.announce({entityId:G.entityId,capabilities:G.capabilities||[],hubs:G.hubs||[],metadata:{name:G.name,avatar:G.avatar,bio:G.bio,website:G.website,lastUpdated:G.lastUpdated,hankoSignature:G.hankoSignature}}),X++}catch(G){console.warn(` Failed to parse profile from key ${Y}:`,G)}return console.log(`\uD83D\uDCE1 Restored ${X} profiles from DB into gossip`),X}catch(X){return console.error(" Failed to load persisted profiles:",X),0}}class XC{provider;entityProviderContract;depositoryContract;signers=new Map;isWatching=!1;entityProviderABI=["event EntityRegistered(bytes32 indexed entityId, uint256 indexed entityNumber, bytes32 boardHash)","event ControlSharesReleased(bytes32 indexed entityId, address indexed depository, uint256 controlAmount, uint256 dividendAmount, string purpose)","event NameAssigned(string indexed name, uint256 indexed entityNumber)"];depositoryABI=["event ControlSharesReceived(address indexed entityProvider, address indexed fromEntity, uint256 indexed tokenId, uint256 amount, bytes data)","event ReserveUpdated(bytes32 indexed entity, uint256 indexed tokenId, uint256 newBalance)","event ReserveTransferred(bytes32 indexed from, bytes32 indexed to, uint256 indexed tokenId, uint256 amount)","event SettlementProcessed(bytes32 indexed leftEntity, bytes32 indexed rightEntity, uint256 indexed tokenId, uint256 leftReserve, uint256 rightReserve, uint256 collateral, int256 ondelta)","event TransferReserveToCollateral(bytes32 indexed receivingEntity, bytes32 indexed counterentity, uint256 collateral, int256 ondelta, uint256 indexed tokenId)"];constructor($){let Q=$.rpcUrl;if(typeof window!=="undefined"&&$.rpcUrl.startsWith("/"))Q=new URL($.rpcUrl,window.location.origin).href,console.log(`\uD83D\uDD27 J-WATCHER: Resolved ${$.rpcUrl}  ${Q}`);if(this.provider=new hQ.JsonRpcProvider(Q),this.entityProviderContract=new hQ.Contract($.entityProviderAddress,this.entityProviderABI,this.provider),this.depositoryContract=new hQ.Contract($.depositoryAddress,this.depositoryABI,this.provider),TX)console.log(`\uD83D\uDD2D J-WATCHER: Initialized with RPC: ${$.rpcUrl}`),console.log(`\uD83D\uDD2D J-WATCHER: EntityProvider: ${$.entityProviderAddress}`),console.log(`\uD83D\uDD2D J-WATCHER: Depository: ${$.depositoryAddress}`)}addSigner($,Q,X){if(this.signers.set($,{signerId:$,privateKey:Q,entityIds:X}),TX)console.log(`\uD83D\uDD2D J-WATCHER: Added signer ${$} monitoring entities: ${X.join(", ")}`)}async startWatching($){if(this.isWatching){console.log("\uD83D\uDD2D J-WATCHER: Already watching");return}this.isWatching=!0,console.log("\uD83D\uDD2D J-WATCHER: Starting simple first-principles watcher...");try{let Q=await this.provider.getBlockNumber();console.log(`\uD83D\uDD2D J-WATCHER: Connected to blockchain at block ${Q}`)}catch(Q){console.log(`\uD83D\uDD2D  J-WATCHER: Blockchain not ready, will retry: ${Q instanceof Error?Q.message:String(Q)}`)}setInterval(async()=>{if(!this.isWatching)return;try{await this.syncAllProposerReplicas($)}catch(Q){if(TX&&!(Q instanceof Error&&Q.message.includes("ECONNREFUSED")))console.error("\uD83D\uDD2D J-WATCHER: Sync error:",Q instanceof Error?Q.message:String(Q))}},1000),console.log("\uD83D\uDD2D J-WATCHER: Started with simple 1s polling")}stopWatching(){this.isWatching=!1,this.entityProviderContract.removeAllListeners(),this.depositoryContract.removeAllListeners(),console.log("\uD83D\uDD2D J-WATCHER: Stopped watching")}async syncAllProposerReplicas($){try{let Q=await this.provider.getBlockNumber();if(TX){console.log(`\uD83D\uDD2D\uD83D\uDD0D SYNC-START: Current blockchain block=${Q}, total replicas=${$.replicas.size}`),console.log(`\uD83D\uDD2D\uD83D\uDD0D SYNC-ENV-TIMESTAMP: env.timestamp=${$.timestamp}`);for(let[Z,Y]of $.replicas.entries())console.log(`\uD83D\uDD2D\uD83D\uDD0D REPLICA-STATE: ${Z}  jBlock=${Y.state.jBlock}, height=${Y.state.height}, isProposer=${Y.isProposer}`)}let X=[];for(let[Z,Y]of $.replicas.entries())if(Y.isProposer){let[V,G]=Z.split(":");if(!V||!G)continue;let z=Y.state.jBlock||0;if(TX)console.log(`\uD83D\uDD2D\uD83D\uDD0D REPLICA-CHECK: ${G}  Entity ${V.slice(0,10)}... jBlock=${z}, currentBlock=${Q}, isProposer=${Y.isProposer}`);if(z<Q){if(X.push({entityId:V,signerId:G,lastJBlock:z}),wV)console.log(`\uD83D\uDD2D\uD83D\uDD0D PROPOSER-SYNC: Found proposer ${G} for entity ${V.slice(0,10)}... at jBlock ${z}, needs sync to ${Q}`)}else if(TX)console.log(`\uD83D\uDD2D REPLICA-SYNCED: ${G}  Entity ${V.slice(0,10)}... already synced (jBlock=${z} >= currentBlock=${Q})`)}if(X.length===0)return;if(TX){console.log(`\uD83D\uDD2D SYNC: ${X.length} proposer replicas need sync to block ${Q}`);for(let{entityId:Z,signerId:Y,lastJBlock:V}of X)console.log(`\uD83D\uDD2D\uD83D\uDCCB SYNC-QUEUE: ${Y}  Entity ${Z.slice(0,10)}... from j-block ${V+1} to ${Q}`)}for(let{entityId:Z,signerId:Y,lastJBlock:V}of X)await this.syncEntityFromJBlock(Z,Y,V+1,Q,$)}catch(Q){if(!(Q instanceof Error)||!Q.message.includes("ECONNREFUSED"))throw Q}}async syncEntityFromJBlock($,Q,X,Z,Y){if(X>Z)return;if(TX)console.log(`\uD83D\uDD2D\uD83D\uDCE1 ENTITY-SYNC: Entity ${$.slice(0,10)}... (${Q}) from j-block ${X} to ${Z}`);try{let V=await this.getEntityEventsInRange($,X,Z);if(V.length===0){if(wV)console.log(`\uD83D\uDD2D ENTITY-SYNC: No events found for entity ${$.slice(0,10)}... in blocks ${X}-${Z}`);return}console.log(`\uD83D\uDD2D\uD83D\uDCE6 ENTITY-SYNC: Found ${V.length} new events for entity ${$.slice(0,10)}... in blocks ${X}-${Z}`);for(let G of V)this.feedEventToProposer($,Q,G,Y);console.log(`\uD83D\uDD2D ENTITY-SYNC: Queued ${V.length} events for entity ${$.slice(0,10)}... (${Q})`)}catch(V){console.error(`\uD83D\uDD2D ENTITY-SYNC: Error syncing entity ${$.slice(0,10)}...`,V instanceof Error?V.message:String(V))}}async getEntityEventsInRange($,Q,X){if(wV)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Fetching events for entity ${$.slice(0,10)}... blocks ${Q}-${X}`);let Z=this.depositoryContract.filters.ReserveUpdated,Y=this.depositoryContract.filters.SettlementProcessed,V=this.depositoryContract.filters.TransferReserveToCollateral;if(!Z||!Y||!V)throw new Error("Contract filters not available");let[G,z,L,A,F]=await Promise.all([this.depositoryContract.queryFilter(Z($),Q,X),this.depositoryContract.queryFilter(Y($,null,null),Q,X),this.depositoryContract.queryFilter(Y(null,$,null),Q,X),this.depositoryContract.queryFilter(V($,null,null),Q,X),this.depositoryContract.queryFilter(V(null,$,null),Q,X)]);if(wV)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Entity ${$.slice(0,10)}... - Reserve: ${G.length}, SettlementLeft: ${z.length}, SettlementRight: ${L.length}, R2C: ${A.length+F.length}`);let C=[...G.map((q)=>({...q,eventType:"ReserveUpdated"})),...z.map((q)=>({...q,eventType:"SettlementProcessed",side:"left"})),...L.map((q)=>({...q,eventType:"SettlementProcessed",side:"right"})),...A.map((q)=>({...q,eventType:"TransferReserveToCollateral",side:"receiving"})),...F.map((q)=>({...q,eventType:"TransferReserveToCollateral",side:"counterparty"}))].sort((q,R)=>{if(q.blockNumber!==R.blockNumber)return q.blockNumber-R.blockNumber;return(q.transactionIndex||0)-(R.transactionIndex||0)});if(wV&&C.length>0)console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-QUERY: Entity ${$.slice(0,10)}... total events: ${C.length}`),C.forEach((q,R)=>{console.log(`\uD83D\uDD2D\uD83D\uDD0D EVENT-${R}: ${q.eventType} at block ${q.blockNumber} tx ${q.transactionIndex}`)});return C}feedEventToProposer($,Q,X,Z){let Y;if(X.eventType==="ReserveUpdated"){if(Y={type:"j_event",data:{from:Q,event:{type:"ReserveUpdated",data:{entity:$,tokenId:Number(X.args.tokenId),newBalance:X.args.newBalance.toString(),symbol:`TKN${X.args.tokenId}`,decimals:18}},observedAt:Date.now(),blockNumber:X.blockNumber,transactionHash:X.transactionHash}},TX)console.log(`\uD83D\uDD2D\uD83D\uDCB0 R2R-EVENT: Entity ${$.slice(0,10)}... Token ${X.args.tokenId} Balance ${(Number(X.args.newBalance)/1000000000000000000).toFixed(4)} (block ${X.blockNumber})`)}else if(X.eventType==="SettlementProcessed"){let V=X.side==="left",G=V?X.args.rightEntity.toString():X.args.leftEntity.toString(),z=V?X.args.leftReserve:X.args.rightReserve,L=V?X.args.rightReserve:X.args.leftReserve,A=V?X.args.ondelta:-X.args.ondelta;if(Y={type:"j_event",data:{from:Q,event:{type:"SettlementProcessed",data:{leftEntity:X.args.leftEntity.toString(),rightEntity:X.args.rightEntity.toString(),counterpartyEntityId:G,tokenId:Number(X.args.tokenId),ownReserve:z.toString(),counterpartyReserve:L.toString(),collateral:X.args.collateral.toString(),ondelta:A.toString(),side:X.side}},observedAt:Date.now(),blockNumber:X.blockNumber,transactionHash:X.transactionHash}},TX)console.log(`\uD83D\uDD2D\uD83D\uDCB1 SETTLE-EVENT: Entity ${$.slice(0,10)}... vs ${G.slice(0,10)}... (${X.side} side, block ${X.blockNumber})`)}else if(X.eventType==="TransferReserveToCollateral"){if(Y={type:"j_event",data:{from:Q,event:{type:"TransferReserveToCollateral",data:{receivingEntity:X.args.receivingEntity.toString(),counterentity:X.args.counterentity.toString(),collateral:X.args.collateral.toString(),ondelta:X.args.ondelta.toString(),tokenId:Number(X.args.tokenId),side:X.side}},observedAt:Date.now(),blockNumber:X.blockNumber,transactionHash:X.transactionHash}},TX)console.log(`\uD83D\uDD2D\uD83D\uDCB0 R2C-EVENT: Entity ${$.slice(0,10)}... (${X.side} side) collateral=${X.args.collateral.toString()}, block ${X.blockNumber}`)}if(Y)console.log(`\uD83D\uDEA8 J-WATCHER-CREATING-EVENT: ${Q} creating j-event ${X.eventType} block=${X.blockNumber} for entity ${$.slice(0,10)}...`),Z.runtimeInput.entityInputs.push({entityId:$,signerId:Q,entityTxs:[Y]}),console.log(`\uD83D\uDD2D J-WATCHER-QUEUED: ${Q}  Entity ${$.slice(0,10)}... (${X.eventType}) block=${X.blockNumber} - Queue length now: ${Z.runtimeInput.entityInputs.length}`)}async syncNewlyCreatedEntities($){if(TX)console.log("\uD83D\uDD2D  J-WATCHER: syncNewlyCreatedEntities called (legacy) - first-principles design handles this automatically");return!1}async getCurrentBlockNumber(){try{return await this.provider.getBlockNumber()}catch($){if(TX)console.log("\uD83D\uDD2D  J-WATCHER: Could not get current block, using 0:",$ instanceof Error?$.message:String($));return 0}}getStatus(){return{isWatching:this.isWatching,signerCount:this.signers.size}}}function $j($){return new XC($)}async function ZC($,Q,X,Z){let Y=$j({rpcUrl:Q,entityProviderAddress:X,depositoryAddress:Z,startBlock:0});if(Y.addSigner("s1","s1-private-key",["1","2","3","4","5"]),Y.addSigner("s2","s2-private-key",["1","2","3","4","5"]),Y.addSigner("s3","s3-private-key",["1","2","3","4","5"]),await Y.startWatching($),TX)console.log("\uD83D\uDD2D J-WATCHER: Setup complete with first-principles design");return Y}var TX=!1,wV=!1;var YC=G0(()=>{QW()});var YO=($,Q,X,Z="DEPOSIT")=>{let Y={entityId:$,signerId:Q,entityTxs:[{type:"j_event",data:{from:Q,event:{type:"ReserveUpdated",data:{entity:$,tokenId:X.tokenId,newBalance:X.amount,name:X.asset,symbol:X.asset,decimals:X.decimals}},observedAt:Date.now(),blockNumber:1,transactionHash:`0xDEMO_${Z}_${X.asset}_${$.slice(0,10)}`}}]};if(u0)console.log(`\uD83C\uDFAD Mock j_event created: ${Z} ${X.amount} ${X.asset} for entity ${$.slice(0,10)}...`);return Y},EU=async($)=>{if(u0)console.log("\uD83D\uDE80 Starting XLN Demo: First Principles");let Q=await ZW("arrakis");if(!Q)throw new Error(" Arrakis jurisdiction not found");let X="s1",Z="s2";console.log(`
\uD83D\uDCCB Forming entities e1=[${X}] and e2=[${Z}]...`);let Y={mode:"proposer-based",threshold:BigInt(1),validators:[X],shares:{[X]:BigInt(1)},jurisdiction:Q},V=GZ(1),G={mode:"proposer-based",threshold:BigInt(1),validators:[Z],shares:{[Z]:BigInt(1)},jurisdiction:Q},z=GZ(2);await IZ($,{runtimeTxs:[{type:"importReplica",entityId:V,signerId:X,data:{config:Y,isProposer:!0}},{type:"importReplica",entityId:z,signerId:Z,data:{config:G,isProposer:!0}}],entityInputs:[]}),await p8($,[]);let L=$.replicas.get(`${V}:${X}`),A=$.replicas.get(`${z}:${Z}`);if(L)console.log(`\uD83E\uDDF9 Cleared ${L.mempool.length} leftover transactions from e1 mempool`),L.mempool.length=0;if(A)console.log(`\uD83E\uDDF9 Cleared ${A.mempool.length} leftover transactions from e2 mempool`),A.mempool.length=0;console.log(` Entity ${C$(V)} and ${C$(z)} created.`),console.log(`
\uD83D\uDCB0 Prefunding entity ${C$(V)}...`);let C=[{asset:"USDC",amount:"100000000000000000000",decimals:18,tokenId:1},{asset:"ETH",amount:"100000000000000000000",decimals:18,tokenId:2}].map((D)=>YO(V,X,D));await IZ($,{runtimeTxs:[],entityInputs:C}),await p8($,[]);let q=$.replicas.get(`${V}:${X}`);if(u0)if(console.log("\uD83D\uDCCA Debug - Reserves after funding:"),q?.state.reserves)for(let[D,W]of q.state.reserves.entries())console.log(`  Token ${D}: ${W.toString()}`);else console.log("  No reserves found");let R=q?.state.reserves.get("1"),I=100000000000000000000n;if(!q)throw new Error(" Verification failed: e1 replica not found after funding.");if(R===void 0)throw new Error(" Verification failed: e1 ETH reserve not found. Available reserves: "+Array.from(q.state.reserves.keys()).join(", "));if(R!==I)throw new Error(` Verification failed: e1 ETH amount mismatch. Expected: ${I}, Got: ${R}`);console.log(` ${C$(V)} funded successfully with ${R/10n**18n} ETH.`),console.log(`
\uD83D\uDCB8 Performing reserve transfer from ${C$(V)} to ${C$(z)}...`);let S=1000000000000000000n,N=1,B=$.replicas.get(`${V}:${X}`),_=$.replicas.get(`${z}:${Z}`);if(!B)throw new Error(" Entity 1 replica not found before transfer");let k=B.state.reserves.get("1")??0n,f=_?.state.reserves.get("1")??0n;console.log(`\uD83D\uDCCA Pre-transfer: e1=${k}, e2=${f}`);let v=k-S,p=f+S;console.log(`\uD83D\uDCCA Post-transfer: e1=${v}, e2=${p}`);let c=[YO(V,X,{asset:"ETH",amount:v.toString(),decimals:18,tokenId:N},"TRANSFER_OUT"),YO(z,Z,{asset:"ETH",amount:p.toString(),decimals:18,tokenId:N},"TRANSFER_IN")];console.log("\uD83D\uDCB8 Simulating jurisdiction events for reserve transfer..."),await IZ($,{runtimeTxs:[],entityInputs:c}),await p8($,[]),console.log(" Transfer transaction submitted.");let X0=$.replicas.get(`${V}:${X}`),t=$.replicas.get(`${z}:${Z}`);if(u0){if(console.log("\uD83D\uDCCA Debug - Final reserves after transfer:"),console.log("Entity 1 reserves:"),X0?.state.reserves)for(let[D,W]of X0.state.reserves.entries())console.log(`  Token ${D}: ${W.toString()}`);if(console.log("Entity 2 reserves:"),t?.state.reserves)for(let[D,W]of t.state.reserves.entries())console.log(`  Token ${D}: ${W.toString()}`)}let h=X0?.state.reserves.get("1"),l=t?.state.reserves.get("1"),E=99000000000000000000n,J=1000000000000000000n;if(h!==E)throw new Error(` Verification failed: e1 has incorrect final ETH balance. Expected: ${E}, Got: ${h}`);if(l!==J)throw new Error(` Verification failed: e2 did not receive ETH. Expected: ${J}, Got: ${l}`);console.log(` State verified: e1 has ${h/10n**18n} ETH, e2 has ${l/10n**18n} ETH.`),console.log(`
\uD83D\uDCB3 Opening account between ${C$(V)} and ${C$(z)}...`),await IZ($,{runtimeTxs:[],entityInputs:[{entityId:V,signerId:X,entityTxs:[{type:"openAccount",data:{targetEntityId:z}}]}]}),await p8($,[]),console.log(` Account opened between ${C$(V)} and ${C$(z)}`),console.log(`
\uD83D\uDCB8 ${C$(V)} sending direct payment to ${C$(z)}...`),await IZ($,{runtimeTxs:[],entityInputs:[{entityId:V,signerId:X,entityTxs:[{type:"accountInput",data:{fromEntityId:V,toEntityId:z,accountTx:{type:"direct_payment",data:{tokenId:1,amount:50000n,description:"Demo direct payment from e1 to e2"}},metadata:{purpose:"account_direct_payment",description:"Testing direct payment with global credit limits"}}}]}]}),await p8($,[]),console.log(` Direct payment sent: $500 USD from ${C$(V)} to ${C$(z)}`);let K=$.replicas.get(`${V}:${X}`),H=$.replicas.get(`${z}:${Z}`);if(console.log(`
\uD83D\uDD0D BILATERAL BALANCE VERIFICATION:`),K?.state.accounts.has(z)&&H?.state.accounts.has(V)){let D=K.state.accounts.get(z),W=H.state.accounts.get(V),M=D.deltas.get(1),w=W.deltas.get(1);if(M&&w){let j=M.ondelta+M.offdelta,x=w.ondelta+w.offdelta,m=j+x;if(console.log(`\uD83D\uDCB0 E1 owes E2: ${j.toString()} cents ($${(Number(j)/100).toFixed(2)})`),console.log(`\uD83D\uDCB0 E2 owes E1: ${x.toString()} cents ($${(Number(x)/100).toFixed(2)})`),console.log(`\uD83D\uDCB0 Sum: ${m.toString()} cents (should be 0)`),m===0n)console.log(" CONSERVATION LAW VERIFIED: Bilateral balance maintained in rundemo!");else console.log(" CONSERVATION VIOLATED: Bilateral imbalance detected!");if(j===50000n&&x===-50000n)console.log(" PAYMENT VERIFIED: $500 correctly transferred from E1 to E2");else console.log(` PAYMENT MISMATCH: Expected E1:+500, E2:-500, got E1:${j}, E2:${x}`)}else console.log(" Missing deltas for verification")}else console.log(" Account machines not found for verification");let T=$.replicas.get(`${V}:${X}`),P=$.replicas.get(`${z}:${Z}`);if(T?.state.accounts.has(z)){let D=T.state.accounts.get(z);console.log(`\uD83D\uDCB3 ${C$(V)} account with ${C$(z)}:`),console.log(`   Credit limits: own=${D.globalCreditLimits.ownLimit.toString()} USD, peer=${D.globalCreditLimits.peerLimit.toString()} USD`),console.log(`   Frame ${D.currentFrame.height}: tokens=[${D.currentFrame.tokenIds.join(",")}], deltas=[${D.currentFrame.deltas.map((W)=>W.toString()).join(",")}]`),console.log(`   Sent transitions: ${D.sentTransitions}, mempool: ${D.mempool.length}`)}if(P?.state.accounts.has(V)){let D=P.state.accounts.get(V);console.log(`\uD83D\uDCB3 ${C$(z)} account with ${C$(V)}:`),console.log(`   Credit limits: own=${D.globalCreditLimits.ownLimit.toString()} USD, peer=${D.globalCreditLimits.peerLimit.toString()} USD`),console.log(`   Frame ${D.currentFrame.height}: tokens=[${D.currentFrame.tokenIds.join(",")}], deltas=[${D.currentFrame.deltas.map((W)=>W.toString()).join(",")}]`),console.log(`   Sent transitions: ${D.sentTransitions}, mempool: ${D.mempool.length}`)}return console.log(`
\uD83C\uDFAF J-MOCKED Demo completed with Account System!`),console.log("\uD83D\uDCCA Check the dashboard to verify final reserve states and account states."),console.log("\uD83D\uDCB3 Account system: 1M USD credit limits, direct payment processed"),console.log('\uD83C\uDF10 For REAL blockchain integration, use the "Run Demo" button in the UI!'),$};var JC=G0(()=>{jY();lZ();EZ();YX()});function GC($,Q){let X=Array.from($.replicas.entries()).find(([Z])=>Z.startsWith(Q+":"));if(!X)throw new Error(`PREPOPULATE: Replica for entity ${Q} not found`);return X}function Zj($){if(!$.gossip||typeof $.gossip.getProfiles!=="function")return;return{profiles:$.gossip.getProfiles().map((X)=>{let Z=void 0;if(X.metadata){if(Z={...X.metadata},Z.lastUpdated=Z.lastUpdated??Date.now(),Z.baseFee!==void 0)Z.baseFee=BigInt(Z.baseFee.toString())}let Y=X.accounts?X.accounts.map((G)=>{let z=new Map;if(G.tokenCapacities)for(let[L,A]of G.tokenCapacities.entries())z.set(L,{inCapacity:A.inCapacity,outCapacity:A.outCapacity});return{counterpartyId:G.counterpartyId,tokenCapacities:z}}):[],V={entityId:X.entityId,capabilities:[...X.capabilities],hubs:[...X.hubs],accounts:Y};if(Z)V.metadata=Z;return V})}}function WC($,Q,X,Z,Y,V){let G={counterpartyEntityId:Q,mempool:[],currentFrame:{height:0,timestamp:0,accountTxs:[],prevFrameHash:"",tokenIds:[xV],deltas:[V],stateHash:""},sentTransitions:0,ackedTransitions:0,deltas:new Map([[xV,(()=>{let z=NV(xV,Y,V);return z.leftCreditLimit=X,z.rightCreditLimit=Z,z})()]]),globalCreditLimits:{ownLimit:X,peerLimit:Z},currentHeight:0,pendingSignatures:[],rollbackCount:0,sendCounter:0,receiveCounter:0,proofHeader:{fromEntity:$.state.entityId,toEntity:Q,cooperativeNonce:0,disputeNonce:0},proofBody:{tokenIds:[xV],deltas:[V]},frameHistory:[],pendingWithdrawals:new Map,requestedRebalance:new Map};$.state.accounts.set(Q,G)}function VC($,Q){if(!$.state.reserves)$.state.reserves=new Map;$.state.reserves.set(String(xV),Q)}function KC($,Q,X,Z){let[Y,V]=GC($,Q),[G,z]=GC($,X),L=Z.delta??0n;if(WC(V,X,Z.leftCredit,Z.rightCredit,Z.leftCollateral,L),WC(z,Q,Z.rightCredit,Z.leftCredit,Z.rightCollateral,-L),VC(V,Z.leftReserve),VC(z,Z.rightReserve),$.gossip)$.gossip.announce(BV(V.state)),$.gossip.announce(BV(z.state));console.log(`\uD83E\uDD1D Ensured mutual credit: ${Y.slice(0,10)}  ${G.slice(0,10)}`)}function Yj($,Q){let X=Zj($),Z={height:$.height,timestamp:Date.now(),replicas:new Map(Array.from($.replicas.entries()).map(([Y,V])=>[Y,jV(V)])),runtimeInput:{runtimeTxs:[],entityInputs:[]},runtimeOutputs:[],description:Q,...X?{gossip:X}:{}};if(!$.history)$.history=[];$.history.push(Z)}async function UC($,Q){console.log("\uD83C\uDF10 Starting XLN Prepopulation"),console.log("================================"),console.log("Creating H-shaped network topology:"),console.log("   2 Hubs (E1, E2) - connected crossbar"),console.log("   4 Users (E3-E6) - split between hubs"),console.log("    - E3, E4  Hub E1"),console.log("    - E5, E6  Hub E2"),console.log("  Visual: Clean H-shape with 6 entities total"),console.log(`================================
`);let Z=(await NY()).find((B)=>B.name.toLowerCase()==="arrakis");if(!Z)throw new Error("Arrakis jurisdiction not found in available jurisdictions");console.log(`\uD83D\uDCCB Using jurisdiction: ${Z.name}`),console.log(`   EntityProvider: ${Z.entityProviderAddress}`),console.log(`   Depository: ${Z.depositoryAddress}`),console.log("\uD83D\uDCE6 Step 1: Creating 6 entities with blockchain-assigned IDs..."),console.log("  Each entity will get sequential ID from the blockchain");let Y=[],V=[];for(let B=1;B<=6;B++){let _=`s${B}`,k=B<=2,f=k?`Hub ${B}`:`User ${B}`;try{let{config:v,entityNumber:p,entityId:c}=await v8(f,[_],1n,Z);Y.push({id:c,signer:_,isHub:k}),console.log(`   Created ${f}: Entity #${p} (${c.slice(0,10)}...)`),V.push({type:"importReplica",entityId:c,signerId:_,data:{isProposer:!0,config:v}})}catch(v){console.error(`   Failed to create ${f}:`,v);let p=B,c="0x"+p.toString(16).padStart(64,"0");Y.push({id:c,signer:_,isHub:k}),V.push({type:"importReplica",entityId:c,signerId:_,data:{isProposer:!0,config:{mode:"proposer-based",threshold:1n,validators:[_],shares:{[_]:1n},jurisdiction:Z}}}),console.log(`   Using fallback ID for ${f}: Entity #${p}`)}}await IZ($,{runtimeTxs:V,entityInputs:[]}),console.log(`
   Imported ${Y.length} entities`),Y.forEach((B)=>{let _=parseInt(B.id.slice(2),16);console.log(`     Entity #${_}: ${B.isHub?"HUB":"User"} (signer: ${B.signer})`)}),console.log(`
\uD83D\uDCE1 Step 2: Connecting the two hubs (H crossbar)...`);let G=Y[0],z=Y[1];if(!G||!z)throw new Error("Failed to create hubs");await Q($,[{entityId:G.id,signerId:G.signer,entityTxs:[{type:"openAccount",data:{targetEntityId:z.id}}]}]);let L=parseInt(G.id.slice(2),16),A=parseInt(z.id.slice(2),16);console.log(`  \uD83D\uDD17 Hub E${L}  Hub E${A} connected (H crossbar)`),console.log(`
\uD83D\uDC65 Step 3: Connecting users to hubs (H vertical bars)...`);let F=Y.slice(2);for(let[B,_]of F.entries()){let k=B%2===0?G:z;await Q($,[{entityId:_.id,signerId:_.signer,entityTxs:[{type:"openAccount",data:{targetEntityId:k.id}}]}]);let f=parseInt(_.id.slice(2),16),v=parseInt(k.id.slice(2),16);console.log(`  \uD83D\uDC64 User E${f}  Hub E${v} connected (vertical bar)`)}console.log(`
\uD83C\uDFAF Step 4: Setting hub profiles with lower fees...`);for(let B of[G,z]){let _=parseInt(B.id.slice(2),16);await Q($,[{entityId:B.id,signerId:B.signer,entityTxs:[{type:"profile-update",data:{profile:{entityId:B.id,name:`Hub ${_}`,bio:"Professional routing hub with high capacity and low fees",isHub:!0,routingFeePPM:50,baseFee:0n}}}]}]),console.log(`  \uD83D\uDCB0 Hub E${_} - routing fee: 50 PPM (0.005%)`)}console.log(`
\uD83C\uDFE6 Step 5: Seeding mutual credit, collateral, and reserves...`);let C=EJ(250000),q=EJ(120000),R=EJ(420000),I=EJ(90000),S=EJ(25000),N=EJ(80000);KC($,G.id,z.id,{leftCredit:C,rightCredit:C,leftCollateral:q,rightCollateral:q,leftReserve:R,rightReserve:R,delta:0n}),F.forEach((B,_)=>{let k=_%2===0?G:z,f=_%2===0?-EJ(5000):EJ(7500);KC($,k.id,B.id,{leftCredit:C,rightCredit:I,leftCollateral:q,rightCollateral:S,leftReserve:R,rightReserve:N,delta:f})}),console.log("\uD83D\uDDC2 Capturing final snapshot for time machine playback..."),Yj($,"Prepopulate seeded H-topology"),console.log(`
================================`),console.log(" Prepopulation Complete!"),console.log(`
H-shaped network topology created:`),console.log("   2 Hubs connected (H crossbar)"),console.log("   4 Users: 2 per hub (H vertical bars)"),console.log("   Total accounts: 5 (1 hub-to-hub + 4 user-to-hub)"),console.log("   Topology: Clean 6-entity visualization (perfect number)"),console.log(`
You can now:`),console.log("  1. View clean H-shaped topology in bird view"),console.log("  2. Send payments between any entities"),console.log("  3. Payments will route through hubs automatically"),console.log(`================================
`)}var xV=1,Qj=18n,Xj,EJ=($)=>BigInt($)*Xj;var OC=G0(()=>{EZ();jY();lZ();VZ();p5();fY();Xj=10n**Qj});function IU($){let Q=$.match(/^(\d+)\.\.(\d+)$/);if(!Q||!Q[1]||!Q[2])return null;let X=parseInt(Q[1],10),Z=parseInt(Q[2],10);if(X>Z)return null;return{start:X,end:Z}}function SU($){let Q=[];for(let X=$.start;X<=$.end;X++)Q.push(X);return Q}function CW($){let Q=$.match(/^([a-zA-Z_][a-zA-Z0-9_]*)=(.+)$/);if(!Q||!Q[1]||!Q[2])return null;return{key:Q[1],value:Q[2]}}function JO($){let Q={};for(let X of $)if(typeof X==="object"&&!("start"in X))Object.assign(Q,X);return Q}function zC($){return $.filter((Q)=>typeof Q!=="object"||("start"in Q))}function kV($){let Q=$.split(`
`),X=[],Z=[],Y={currentTimestamp:0,currentDescription:[],currentActions:[],lineNumber:0,inRepeatBlock:!1,repeatBlockActions:[]},V=[],G=[],z=[],L="";for(let F=0;F<Q.length;F++){Y.lineNumber=F+1;let C=Q[F];if(!C)continue;let q=C.trim();if(q==="")continue;if(q.startsWith("#"))continue;if(q==="==="){GO(Y,V);continue}if(q.startsWith("SEED ")){L=q.substring(5).trim();continue}if(q.startsWith("INCLUDE ")){let S=q.substring(8).trim();z.push(S),Z.push({lineNumber:Y.lineNumber,message:"INCLUDE directive parsed but not yet implemented",suggestion:"Included scenarios will be merged in future implementation"});continue}if(q.startsWith("REPEAT ")){let S=q.substring(7).trim(),N=parseFloat(S);if(isNaN(N)||N<=0){X.push({lineNumber:Y.lineNumber,message:`Invalid REPEAT interval: ${S}`});continue}Y.inRepeatBlock=!0,Y.repeatInterval=N,Y.repeatStartTimestamp=Y.currentTimestamp,Y.repeatBlockActions=[];continue}if(q==="END_REPEAT"){if(!Y.inRepeatBlock){X.push({lineNumber:Y.lineNumber,message:"END_REPEAT without matching REPEAT"});continue}if(Y.repeatInterval!==void 0&&Y.repeatStartTimestamp!==void 0)G.push({interval:Y.repeatInterval,actions:Y.repeatBlockActions,startTimestamp:Y.repeatStartTimestamp,sourceLineNumber:Y.lineNumber});Y.inRepeatBlock=!1,delete Y.repeatInterval,delete Y.repeatStartTimestamp,Y.repeatBlockActions=[];continue}let R=q.match(/^(\d+(?:\.\d+)?):(.*)$/);if(R){GO(Y,V);let S=R[1],N=R[2];if(!S)continue;Y.currentTimestamp=parseFloat(S);let B=N?.trim();if(B&&B.length>0)Y.currentTitle=B;else delete Y.currentTitle;Y.currentDescription=[],Y.currentActions=[],delete Y.currentViewState;continue}let I=Jj(q,Y.lineNumber);if(I.isAction){let S=I.actions||[I.action];if(Y.inRepeatBlock)Y.repeatBlockActions.push(...S);else Y.currentActions.push(...S)}else if(I.error)X.push(I.error);else if(Y.currentActions.length===0&&!Y.inRepeatBlock)Y.currentDescription.push(q);else Z.push({lineNumber:Y.lineNumber,message:"Text after actions is ignored",suggestion:"Place descriptions before actions in the same timestamp block"})}if(GO(Y,V),Y.inRepeatBlock)X.push({lineNumber:Y.lineNumber,message:"Unclosed REPEAT block (missing END_REPEAT)"});return{scenario:{seed:L,events:V,repeatBlocks:G,includes:z},errors:X,warnings:Z}}function GO($,Q){if($.currentActions.length>0){let X=$.currentDescription.join(`
`).trim(),Z={timestamp:$.currentTimestamp,actions:$.currentActions};if($.currentTitle!==void 0)Z.title=$.currentTitle;if(X.length>0)Z.description=X;if($.currentViewState!==void 0)Z.viewState=$.currentViewState;Q.push(Z),delete $.currentTitle,$.currentDescription=[],$.currentActions=[],delete $.currentViewState}}function Jj($,Q){let X=$.split(/\s+/);if(X.length===0)return{isAction:!1};let Z=X[0];if(!Z)return{isAction:!1};let V=["VIEW","import","PAUSE","ASSERT","grid","payRandom"].includes(Z),G=/^\d+$/.test(Z)||/^\d+\.\.\d+$/.test(Z);if(!V&&!G)return{isAction:!1};if(Z==="VIEW"){let I={};for(let S=1;S<X.length;S++){let N=X[S];if(!N)continue;let B=CW(N);if(!B)return{isAction:!1,error:{lineNumber:Q,message:`Invalid VIEW parameter: ${N}`}};let{key:_,value:k}=B;if(_==="camera"){if(!["orbital","overview","follow","free"].includes(k))return{isAction:!1,error:{lineNumber:Q,message:`Invalid camera mode: ${k}`}};I.camera=k}else if(_==="zoom")I.zoom=parseFloat(k);else if(_==="focus")I.focus=k;else if(_==="panel")I.panel=k;else if(_==="speed")I.speed=parseFloat(k)}return{isAction:!0,action:{type:"VIEW",params:[I],sourceLineNumber:Q}}}if(Z==="import"){let I=X[1];if(!I)return{isAction:!1,error:{lineNumber:Q,message:"import requires entity ID or range"}};let S=IU(I),N=S?SU(S).map(String):[I],B=X.slice(2),_={};for(let f of B){let v=CW(f);if(v)_[v.key]=v.value}let k=[...N];if(Object.keys(_).length>0)k.push(_);return{isAction:!0,action:{type:"import",params:k,sourceLineNumber:Q}}}if(Z==="grid"){let I=X.slice(1),S=[];for(let N of I){let B=CW(N);if(B)S.push({[B.key]:B.value});else S.push(N)}return{isAction:!0,action:{type:"grid",params:S,sourceLineNumber:Q}}}if(Z==="payRandom"){let I=X.slice(1),S=[];for(let N of I){let B=CW(N);if(B)S.push({[B.key]:B.value});else S.push(N)}return{isAction:!0,action:{type:"payRandom",params:S,sourceLineNumber:Q}}}let z=Z,L=X[1];if(!L||!z)return{isAction:!1};let A=IU(z),F=A?SU(A).map(String):[z],C=X.slice(2),q=[];for(let I of F){let S=Gj(C);for(let N of S)q.push({type:L,entityId:I,params:N,sourceLineNumber:Q})}if(q.length===0)return{isAction:!1};let R=q[0];if(!R)return{isAction:!1};if(q.length===1)return{isAction:!0,action:R};return{isAction:!0,actions:q}}function Gj($){let Q=[];for(let X of $){let Z=CW(X);if(Z)Q.push([{[Z.key]:Z.value}]);else{let Y=IU(X);if(Y)Q.push(SU(Y).map(String));else Q.push([X])}}return HC(Q)}function HC($){if($.length===0)return[[]];let Q=$[0];if(!Q)return[[]];if($.length===1)return Q.map((G)=>[G]);let[X,...Z]=$;if(!X)return[[]];let Y=HC(Z),V=[];for(let G of X)for(let z of Y)V.push([G,...z]);return V}function Wj($,Q){let X=[];for(let Z of $.repeatBlocks){let Y=Z.startTimestamp;while(Y<=Q)X.push({timestamp:Y,actions:Z.actions,title:`[REPEAT every ${Z.interval}s]`}),Y+=Z.interval}return X}function NU($,Q){let X=Wj($,Q);return[...$.events,...X].sort((Y,V)=>Y.timestamp-V.timestamp)}var BU=()=>{};async function DC($,Q,X={}){let{maxTimestamp:Z=1000,tickInterval:Y=1000}=X,V=NU(Q,Z),G={scenario:Q,currentFrameIndex:0,totalFrames:0,elapsedTime:0,entityMapping:new Map,viewStateHistory:new Map,tickInterval:Y},z=[];console.log(`\uD83C\uDFAC SCENARIO: Starting execution with seed="${Q.seed}"`),console.log(`\uD83D\uDCCB SCENARIO: ${V.length} events to execute`);let L=new Map;for(let F of V){if(!L.has(F.timestamp))L.set(F.timestamp,[]);L.get(F.timestamp).push(F)}let A=Array.from(L.keys()).sort((F,C)=>F-C);for(let F of A){let C=L.get(F);console.log(`
  t=${F}s: ${C.length} event(s)`);for(let q of C){if(q.title)console.log(`  \uD83D\uDCCC ${q.title}`);if(q.description)console.log(`     ${q.description}`);try{await Vj($,q,G)}catch(R){console.error(` Error executing event at t=${F}:`,R),z.push({timestamp:F,event:q,error:R.message})}}G.elapsedTime=F,G.totalFrames++}return{success:z.length===0,framesGenerated:G.totalFrames,finalTimestamp:G.elapsedTime,errors:z,context:G}}async function Vj($,Q,X){for(let Z of Q.actions)await Kj($,Z,X);if($.history&&$.history.length>0){let Z=$.history[$.history.length-1];if(Z){if(Q.title)Z.title=Q.title;if(Q.description)Z.narrative=Q.description}}if(Q.viewState)Aj($,Q.viewState,X)}async function Kj($,Q,X){let{type:Z,entityId:Y,params:V}=Q;switch(Z){case"import":await Uj(V,X,$);break;case"grid":await Oj(V,X,$);break;case"payRandom":await Hj(V,X,$);break;case"openAccount":await Dj(Y,V,X,$);break;case"deposit":await Lj(Y,V,X);break;case"withdraw":await qj(Y,V,X);break;case"transfer":await Mj(Y,V,X);break;case"chat":await Cj(Y,V,X);break;case"VIEW":break;default:throw new Error(` SCENARIO ERROR: Unknown action type "${Z}" - check scenario syntax`)}}async function Uj($,Q,X){let Z=await NY();if(!Z||Z.length===0)throw new Error("No jurisdictions available");let Y=Z.find((R)=>R.name.toLowerCase()==="arrakis");if(!Y)throw new Error("Arrakis jurisdiction not found");let{getNextEntityNumber:V}=await Promise.resolve().then(() => (lZ(),DV)),G=await V(Y);console.log(`  \uD83D\uDD22 Current max entity number: ${G-1}, next will be: ${G}`);let z=[],L=null;for(let R of $)if(typeof R==="object"&&!Array.isArray(R))L=R;else z.push(String(R));let A=[],F=new Map;for(let R=0;R<z.length;R++){let I=z[R];if(!I)continue;let S=G+R;F.set(I,S)}let C=z.filter((R)=>R&&!Q.entityMapping.has(R));if(C.length===0){console.log("    All entities already imported");return}let q;if(C.length>=10){console.log(`  \uD83D\uDE80 Batch registering ${C.length} entities in ONE transaction...`);let{createNumberedEntitiesBatch:R}=await Promise.resolve().then(() => (jY(),z5));q=await R(C.map((I)=>({name:`Entity-${I}`,validators:[`s${I}`],threshold:1n})),Y),console.log(`   Batch registered ${q.length} entities in single block!`)}else{console.log(`  \uD83D\uDE80 Registering ${C.length} entities (parallel)...`);let R=C.map((I)=>v8(`Entity-${I}`,[`s${I}`],1n,Y));q=await Promise.all(R),console.log(`   All ${q.length} entities registered`)}for(let R=0;R<q.length;R++){let I=q[R],S=C[R];if(!I||!S)continue;if(Q.entityMapping.set(S,I.entityId),console.log(`   import scenario=${S}  entity#${I.entityNumber} (${I.entityId.slice(0,10)}...)`),L&&(("x"in L)||("y"in L)||("z"in L))){let N={x:parseFloat(L.x||"0"),y:parseFloat(L.y||"0"),z:parseFloat(L.z||"0")};X.gossip?.announce({entityId:I.entityId,capabilities:[],hubs:[],metadata:{name:`Entity-${S}`,avatar:"",position:N}}),console.log(`  \uD83D\uDCCD Positioned at (${N.x}, ${N.y}, ${N.z})`)}A.push({type:"importReplica",entityId:I.entityId,signerId:`s${S}`,data:{config:I.config,isProposer:!0}})}if(A.length>0){let{applyRuntimeInput:R}=await Promise.resolve().then(() => (EZ(),IJ));await R(X,{runtimeTxs:A,entityInputs:[]}),console.log(`  \uD83D\uDCE6 Added ${A.length} entities to existing runtime state`),console.log(`  \uD83C\uDF10 Total entities now: ${X.replicas.size}`)}}async function Oj($,Q,X){let Z=zC($),Y=JO($),V=40,G=Z[0]!==void 0?parseInt(String(Z[0])):2,z=G,L=Z[1]!==void 0?parseInt(String(Z[1])):G,A=Z[2]!==void 0?parseInt(String(Z[2])):G,F=parseFloat(String(Y.spacing||40)),C=String(Y.type||"").toLowerCase()==="lazy",q=z*L*A;if(q>1000)throw new Error(`Grid too large: ${z}x${L}x${A} = ${q} entities (max 1000)`);if(C)return zj(z,L,A,F,Q,X);let I=(await NY()).find((h)=>h.name.toLowerCase()==="arrakis");if(!I)throw new Error("Arrakis jurisdiction not found");let S=(h,l,E)=>`${h}_${l}_${E}`,N=0;for(let h of Q.entityMapping.keys()){if(!h.includes("_"))continue;let l=h.split("_");if(l.length===3){let E=Math.max(parseInt(l[0]||"0"),parseInt(l[1]||"0"),parseInt(l[2]||"0"));N=Math.max(N,E+1)}}if(N>0)console.log(`  \uD83D\uDCE6 Existing grid: ${N}x${N}x${N}, growing to ${z}x${z}x${z}`);else console.log(`  \uD83C\uDFB2 Creating ${z}x${L}x${A} grid (${q} entities, ${F}px spacing)`);let B=[],_=new Map;for(let h=0;h<A;h++)for(let l=0;l<L;l++)for(let E=0;E<z;E++){let J=S(E,l,h);if(E<N&&l<N&&h<N)continue;B.push({name:`Grid-${J}`,validators:[`g${J}`],threshold:1n});let U={x:E*F,y:l*F,z:h*F};_.set(J,U),console.log(`\uD83D\uDCCD GRID-POS-A: Entity ${J} generated at (${U.x}, ${U.y}, ${U.z})`)}if(B.length===0){console.log(`   Grid ${z}x${z}x${z} already complete, no new entities needed`);return}console.log(`   Creating ${B.length} new entities (shell growth)`);let{createNumberedEntitiesBatch:k}=await Promise.resolve().then(() => (jY(),z5)),f=await k(B,I),v=[];f.forEach((h,l)=>{let E=B[l];if(!E)return;let J=E.name.replace("Grid-","");Q.entityMapping.set(J,h.entityId);let U=_.get(J);if(U)X.gossip?.announce({entityId:h.entityId,capabilities:[],hubs:[],metadata:{name:E.name,avatar:"",position:U}});let O={config:h.config,isProposer:!0};if(U)O.position=U,console.log(`\uD83D\uDCCD GRID-POS-B: RuntimeTx for ${h.entityId.slice(0,10)} has position:`,U);v.push({type:"importReplica",entityId:h.entityId,signerId:E.validators[0],data:O})});let{applyRuntimeInput:p}=await Promise.resolve().then(() => (EZ(),IJ));await p(X,{runtimeTxs:v,entityInputs:[]}),console.log(`   Created ${f.length} entities in grid formation`);let{process:c}=await Promise.resolve().then(() => (EZ(),IJ)),X0=[],t=(h,l)=>{for(let E of X.replicas.values())if(E.entityId===h&&E.state?.accounts?.has(l))return!0;return!1};for(let h=0;h<A;h++)for(let l=0;l<L;l++)for(let E=0;E<z-1;E++){let J=S(E,l,h),U=S(E+1,l,h),O=Q.entityMapping.get(J),K=Q.entityMapping.get(U);if(O&&K&&!t(O,K))X0.push({entityId:O,signerId:`g${J}`,entityTxs:[{type:"openAccount",data:{targetEntityId:K}}]})}for(let h=0;h<A;h++)for(let l=0;l<L-1;l++)for(let E=0;E<z;E++){let J=S(E,l,h),U=S(E,l+1,h),O=Q.entityMapping.get(J),K=Q.entityMapping.get(U);if(O&&K&&!t(O,K))X0.push({entityId:O,signerId:`g${J}`,entityTxs:[{type:"openAccount",data:{targetEntityId:K}}]})}for(let h=0;h<A-1;h++)for(let l=0;l<L;l++)for(let E=0;E<z;E++){let J=S(E,l,h),U=S(E,l,h+1),O=Q.entityMapping.get(J),K=Q.entityMapping.get(U);if(O&&K&&!t(O,K))X0.push({entityId:O,signerId:`g${J}`,entityTxs:[{type:"openAccount",data:{targetEntityId:K}}]})}if(console.log(`  \uD83D\uDD17 Creating ${X0.length} new grid connections...`),X0.length>0)await c(X,X0);console.log(`   Grid complete: ${q} total entities, ${X0.length} new connections`)}async function zj($,Q,X,Z,Y,V){let{cryptoHash:G}=await Promise.resolve().then(() => (YX(),XM)),z=$*Q*X;console.log(`   LAZY MODE: Creating ${z} in-browser entities (no blockchain)`);let L=[];for(let R=0;R<X;R++)for(let I=0;I<Q;I++)for(let S=0;S<$;S++){let N=`${S}_${I}_${R}`,B=await G(`lazy-grid-${N}-${Date.now()}`),_=`lazy_${N}`;Y.entityMapping.set(N,B);let k={x:S*Z,y:I*Z,z:R*Z};V.gossip?.announce({entityId:B,capabilities:[],hubs:[],metadata:{name:N.slice(0,4),avatar:"",position:k}}),L.push({type:"importReplica",entityId:B,signerId:_,data:{config:{validators:[_],threshold:1n,mode:"proposer-based"},isProposer:!0,position:k}})}let{applyRuntimeInput:A}=await Promise.resolve().then(() => (EZ(),IJ));await A(V,{runtimeTxs:L,entityInputs:[]}),console.log(`   LAZY: Created ${z} in-browser entities`);let{process:F}=await Promise.resolve().then(() => (EZ(),IJ)),C=[],q=(R,I,S)=>`${R}_${I}_${S}`;for(let R=0;R<X;R++)for(let I=0;I<Q;I++)for(let S=0;S<$-1;S++){let N=q(S,I,R),B=q(S+1,I,R),_=Y.entityMapping.get(N),k=Y.entityMapping.get(B);if(_&&k)C.push({entityId:_,signerId:`lazy_${N}`,entityTxs:[{type:"openAccount",data:{targetEntityId:k}}]}),C.push({entityId:k,signerId:`lazy_${B}`,entityTxs:[{type:"openAccount",data:{targetEntityId:_}}]})}for(let R=0;R<X;R++)for(let I=0;I<Q-1;I++)for(let S=0;S<$;S++){let N=q(S,I,R),B=q(S,I+1,R),_=Y.entityMapping.get(N),k=Y.entityMapping.get(B);if(_&&k)C.push({entityId:_,signerId:`lazy_${N}`,entityTxs:[{type:"openAccount",data:{targetEntityId:k}}]}),C.push({entityId:k,signerId:`lazy_${B}`,entityTxs:[{type:"openAccount",data:{targetEntityId:_}}]})}for(let R=0;R<X-1;R++)for(let I=0;I<Q;I++)for(let S=0;S<$;S++){let N=q(S,I,R),B=q(S,I,R+1),_=Y.entityMapping.get(N),k=Y.entityMapping.get(B);if(_&&k)C.push({entityId:_,signerId:`lazy_${N}`,entityTxs:[{type:"openAccount",data:{targetEntityId:k}}]}),C.push({entityId:k,signerId:`lazy_${B}`,entityTxs:[{type:"openAccount",data:{targetEntityId:_}}]})}console.log(`  \uD83D\uDD17 Creating ${C.length} lazy connections...`),await F(V,C),console.log(`   LAZY grid complete: ${z} entities, ${C.length} connections`)}async function Hj($,Q,X){let Z=JO($),Y=parseInt(String(Z.count||"1")),V=parseInt(String(Z.minHops||"0")),G=parseInt(String(Z.maxHops||"99")),z=BigInt(Z.minAmount||"1000"),L=BigInt(Z.maxAmount||"100000"),A=parseInt(String(Z.token||"1"));console.log(`  \uD83C\uDFB2 Executing ${Y} random payments (${V}-${G} hops, ${z}-${L} amount)`);let F=Array.from(X.replicas.keys()).map((q)=>q.split(":")[0]).filter((q,R,I)=>I.indexOf(q)===R);if(F.length<2){console.warn(`    Need at least 2 entities for random payments (found ${F.length})`);return}console.log(`  \uD83D\uDCB8 Found ${F.length} entities in network`);let{process:C}=await Promise.resolve().then(() => (EZ(),IJ));for(let q=0;q<Y;q++){let R=Math.floor(Math.random()*F.length),I=Math.floor(Math.random()*F.length);while(I===R&&F.length>1)I=Math.floor(Math.random()*F.length);let S=F[R],N=F[I];if(!S||!N)continue;let B=Array.from(X.replicas.keys()).find((c)=>c.startsWith(S+":")),_=B?X.replicas.get(B):null;if(!_){console.warn(`    No replica found for ${S.slice(0,10)}`);continue}let k=_.signerId,f=L-z,v=BigInt(Math.floor(Math.random()*Number(f))),p=z+v;if(console.log(`  \uD83D\uDCB8 Payment ${q+1}/${Y}: ${S.slice(0,8)}  ${N.slice(0,8)} (${p} tokens)`),await C(X,[{entityId:S,signerId:k,entityTxs:[{type:"directPayment",data:{targetEntityId:N,tokenId:A,amount:p,route:[],description:`Random payment #${q+1}`}}]}]),q<Y-1&&Q.tickInterval>0)await new Promise((c)=>setTimeout(c,Q.tickInterval))}console.log(`   ${Y} random payments complete`)}async function Dj($,Q,X,Z){let Y=String(Q[0]),V=X.entityMapping.get($),G=X.entityMapping.get(Y);if(!V||!G)throw new Error(`Entity mapping not found: ${$}${V}, ${Y}${G}`);console.log(`  \uD83D\uDD17 ${$} openAccount ${Y}`);let{process:z}=await Promise.resolve().then(() => (EZ(),IJ));await z(Z,[{entityId:V,signerId:`s${$}`,entityTxs:[{type:"openAccount",data:{targetEntityId:G}}]}])}async function Lj($,Q,X){let Z=String(Q[0]),Y=BigInt(Q[1]),V=X.entityMapping.get($),G=X.entityMapping.get(Z);if(!V||!G)throw new Error(`Entity mapping not found: ${$}, ${Z}`);console.log(`  \uD83D\uDCB0 ${$} deposit ${Z} ${Y}`)}async function qj($,Q,X){let Z=String(Q[0]),Y=BigInt(Q[1]),V=X.entityMapping.get($),G=X.entityMapping.get(Z);if(!V||!G)throw new Error(`Entity mapping not found: ${$}, ${Z}`);console.log(`  \uD83D\uDCB8 ${$} withdraw ${Z} ${Y}`)}async function Mj($,Q,X){let Z=String(Q[0]),Y=BigInt(Q[1]),V=X.entityMapping.get($),G=X.entityMapping.get(Z);if(!V||!G)throw new Error(`Entity mapping not found: ${$}, ${Z}`);console.log(`  \uD83D\uDD04 ${$} transfer ${Z} ${Y}`)}async function Cj($,Q,X){let Z=String(Q[0]);if(!X.entityMapping.get($))throw new Error(`Entity mapping not found: ${$}`);console.log(`  \uD83D\uDCAC ${$}: "${Z}"`)}function Aj($,Q,X){if(X.viewStateHistory.set(X.currentFrameIndex,Q),$.history&&$.history.length>0){let Z=$.history[$.history.length-1];if(Z){let Y={...Q};if(Q.focus&&X.entityMapping.has(Q.focus)){let V=X.entityMapping.get(Q.focus);if(V)Y.focus=V}Z.viewState=Y,console.log(`  \uD83C\uDFA5 VIEW: ${K$(Y)}`)}}}var LC=G0(()=>{BU();jY();lZ()});var{readFile:Fj}=(()=>({}));async function qC($){let Q=await Fj($,"utf-8");return kV(Q)}function MC($){return kV($)}var CC=G0(()=>{BU()});var IJ={};RQ(IJ,{validateDelta:()=>RJ,validateAccountDeltas:()=>UM,transferNameBetweenEntities:()=>Z5,submitSettle:()=>HV,submitReserveToReserve:()=>J5,submitProcessBatch:()=>t4,submitPrefundAccount:()=>a4,searchEntityNames:()=>kj,saveEnvToDB:()=>EC,safeStringify:()=>K$,runDemoWrapper:()=>_j,runDemo:()=>EU,resolveEntityName:()=>fj,resolveEntityIdentifier:()=>U5,requestNamedEntity:()=>K5,registerNumberedEntityOnChain:()=>e4,registerEnvChangeCallback:()=>Rj,process:()=>p8,prepopulate:()=>UC,parseTokenAmount:()=>qM,parseScenario:()=>kV,mergeAndSortEvents:()=>NU,main:()=>RC,loadScenarioFromText:()=>MC,loadScenarioFromFile:()=>qC,loadEnvFromDB:()=>wj,isLeft:()=>PJ,isEntityRegistered:()=>O5,isDelta:()=>zM,hashBoard:()=>BY,getTokenInfo:()=>PZ,getSnapshot:()=>Ej,getSignerDisplayInfo:()=>f5,getNextEntityNumber:()=>X5,getJurisdictionByAddress:()=>ZW,getJWatcherStatus:()=>Nj,getHistory:()=>Pj,getEntityShortId:()=>G1,getEntityNumber:()=>tz,getEntityInfoFromChain:()=>Q5,getEntityDisplayInfoFromProfile:()=>vj,getEntityDisplayInfo:()=>k5,getDefaultCreditLimit:()=>iQ,getCurrentHistoryIndex:()=>Ij,getAvailableJurisdictions:()=>NY,generateSignerAvatar:()=>TV,generateNumberedEntityId:()=>GZ,generateNamedEntityId:()=>G5,generateLazyEntityId:()=>XU,generateEntityAvatar:()=>FJ,formatTokenAmountEthers:()=>IV,formatTokenAmount:()=>IV,formatSignerDisplay:()=>TJ,formatEntityId:()=>MQ,formatEntityDisplay:()=>C$,formatAssetAmountEthers:()=>b5,executeScenario:()=>DC,encodeBoard:()=>x8,encode:()=>uJ,detectEntityType:()=>k8,deriveDelta:()=>b8,demoCompleteHanko:()=>jj,decode:()=>dJ,debugFundReserves:()=>r4,db:()=>bQ,createProfileUpdateTx:()=>YM,createNumberedEntity:()=>v8,createNumberedEntitiesBatch:()=>V5,createLazyEntity:()=>W5,createEmptyEnv:()=>PC,createDemoDelta:()=>NV,createDefaultDelta:()=>OM,convertTokenPrecision:()=>MM,connectToEthereum:()=>CX,clearDatabaseAndHistory:()=>Sj,clearDatabase:()=>CU,clearDB:()=>xj,calculatePercentageEthers:()=>TU,assignNameOnChain:()=>$5,applyRuntimeInput:()=>IZ,FINANCIAL_CONSTANTS:()=>AM,BigIntMath:()=>CM});async function Tj($,Q){return Promise.race([$,new Promise((X,Z)=>setTimeout(()=>Z(new Error("TIMEOUT")),Q))])}async function jU(){if(!WO)WO=(async()=>{try{return await bQ.open(),console.log(" Database opened"),!0}catch($){if($ instanceof Error&&($.message?.includes("blocked")||$.name==="SecurityError"||$.name==="InvalidStateError"))return console.log(" IndexedDB blocked (incognito/private mode) - running in-memory"),!1;return console.warn(" DB open warning:",$ instanceof Error?$.message:$),!0}})();return WO}var bQ,WO=null,KO=null,s$,UO=null,AC=!1,Rj=($)=>{KO=$},FC=($)=>{if(KO)KO($)},TC=async($)=>{try{let Q=await ZW("arrakis");if(!Q){console.warn(" Arrakis jurisdiction not found, skipping j-watcher");return}UO=await ZC($,Q.address,Q.entityProviderAddress,Q.depositoryAddress),console.log(" J-Event Watcher started successfully"),console.log(`\uD83D\uDD2D Monitoring: ${Q.address}`),console.log(`\uD83D\uDCCD EntityProvider: ${Q.entityProviderAddress}`),console.log(`\uD83D\uDCCD Depository: ${Q.depositoryAddress}`),setInterval(async()=>{if($.runtimeInput.entityInputs.length>0)await IZ($,{runtimeTxs:[],entityInputs:[...$.runtimeInput.entityInputs]}),$.runtimeInput.entityInputs.length=0},100)}catch(Q){l0("RUNTIME_TICK"," Failed to start J-Event Watcher:",Q)}},IZ=async($,Q)=>{let X=Date.now();try{if(!Q)return r0.error(" Null runtime input provided"),{entityOutbox:[],mergedInputs:[]};if(!Array.isArray(Q.runtimeTxs))return r0.error(` Invalid runtimeTxs: expected array, got ${typeof Q.runtimeTxs}`),{entityOutbox:[],mergedInputs:[]};if(!Array.isArray(Q.entityInputs))return r0.error(` Invalid entityInputs: expected array, got ${typeof Q.entityInputs}`),{entityOutbox:[],mergedInputs:[]};if(Q.runtimeTxs.length>1000)return r0.error(` Too many runtime transactions: ${Q.runtimeTxs.length} > 1000`),{entityOutbox:[],mergedInputs:[]};if(Q.entityInputs.length>1e4)return r0.error(` Too many entity inputs: ${Q.entityInputs.length} > 10000`),{entityOutbox:[],mergedInputs:[]};$.runtimeInput.runtimeTxs.push(...Q.runtimeTxs),$.runtimeInput.entityInputs.push(...Q.entityInputs);let Z=$C($.runtimeInput.entityInputs);Z.forEach((C,q)=>{try{y5(C)}catch(R){throw l0("RUNTIME_TICK",`\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid merged EntityInput[${q}]!`,{error:R.message,input:C}),R}});let Y=[];$.runtimeInput.runtimeTxs.forEach((C)=>{if(C.type==="importReplica"){if(u0)console.log(`Importing replica Entity #${C$(C.entityId)}:${TJ(C.signerId)} (proposer: ${C.data.isProposer})`);let q=`${C.entityId}:${C.signerId}`,R={entityId:C.entityId,signerId:C.signerId,mempool:[],isProposer:C.data.isProposer,state:{entityId:C.entityId,height:0,timestamp:$.timestamp,nonces:new Map,messages:[],proposals:new Map,config:C.data.config,reserves:new Map,accounts:new Map,jBlock:0,crontabState:void 0,jBatchState:void 0}};if(C.data.position)R.position=C.data.position;$.replicas.set(q,R);let I=$.replicas.get(q),S=I?.state.jBlock;if($.gossip&&I){let N={entityId:C.entityId,capabilities:[],hubs:[],metadata:{lastUpdated:Date.now(),routingFeePPM:100,baseFee:0n},accounts:[]};$.gossip.announce(N)}if(typeof S!=="number"){if(l0("RUNTIME_TICK","\uD83D\uDCA5 ENTITY-CREATION-BUG: Just created entity with invalid jBlock!"),l0("RUNTIME_TICK",`\uD83D\uDCA5   Expected: 0 (number), Got: ${typeof S}, Value: ${S}`),I)I.state.jBlock=0,console.log(`\uD83D\uDCA5   FIXED: Set jBlock to 0 for replica ${q}`)}}});for(let C of Z){let q=C.signerId;if(!q||q===""){if(C.entityTxs.some((N)=>N.type==="accountInput")){let N=Array.from($.replicas.keys()).filter((B)=>B.startsWith(C.entityId+":"));if(N.length>0){let B=N[0];if(!B){l0("RUNTIME_TICK",` Invalid replica key for entity ${C.entityId}`);continue}let _=$.replicas.get(B);if(_?.state.config.validators[0])q=_.state.config.validators[0]}}if(!q||q===""){console.warn(` No signerId and unable to determine proposer for entity ${C.entityId.slice(0,10)}...`);continue}}let R=`${C.entityId}:${q}`,I=$.replicas.get(R);if(I){if(u0){if(console.log(`Processing input for ${R}:`),C.entityTxs.length)console.log(`   ${C.entityTxs.length} transactions`);if(C.proposedFrame)console.log(`   Proposed frame: ${C.proposedFrame.hash}`);if(C.precommits?.size)console.log(`   ${C.precommits.size} precommits`)}let{newState:S,outputs:N}=await eM($,I,C);$.replicas.set(R,{...I,state:S}),N.forEach((B,_)=>{try{HM(B)}catch(k){throw l0("RUNTIME_TICK",`\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid EntityOutput[${_}] from ${R}!`,{error:k.message,output:B}),k}}),Y.push(...N)}}let V=$.runtimeInput.runtimeTxs.length>0,G=Z.length>0,z=Y.length>0;if(V||G||z){$.height++,$.timestamp=Date.now();let C=`Tick ${$.height-1}: ${$.runtimeInput.runtimeTxs.length} runtimeTxs, ${Z.length} merged entityInputs  ${Y.length} outputs`,q={runtimeTxs:[...$.runtimeInput.runtimeTxs],entityInputs:[...Z]};$.runtimeInput.runtimeTxs.length=0,$.runtimeInput.entityInputs.length=0,await RM($,$.history,bQ,q,Y,C)}else console.log(" SKIP-FRAME: No runtimeTxs, entityInputs, or outputs - not creating empty frame");if(!$.gossip)console.log("\uD83D\uDEA8 CRITICAL: gossip layer missing from environment, creating new one"),$.gossip=MW(),console.log(" Gossip layer created and added to environment");let L=Array.from($.replicas.keys()).filter((C)=>C.startsWith("0x0000000000000000000000000000000000000000000000000000000000000001:")||C.startsWith("0x0000000000000000000000000000000000000000000000000000000000000002:")),A=Array.from($.replicas.keys()).filter((C)=>!C.startsWith("0x0000000000000000000000000000000000000000000000000000000000000001:")&&!C.startsWith("0x0000000000000000000000000000000000000000000000000000000000000002:")&&!C.startsWith("0x57e360b00f393ea6d898d6119f71db49241be80aec0fbdecf6358b0103d43a31:"));if(L.length>0&&A.length>0){let C=L[0],q=A[0];if(!C||!q)l0("RUNTIME_TICK",` Invalid replica keys: old=${C}, new=${q}`)}if(FC($),u0&&Y.length>0)console.log(`\uD83D\uDCE4 Outputs: ${Y.length} messages`),Y.forEach((C,q)=>{console.log(`  ${q+1}.  ${C.signerId} (${C.entityTxs?`${C.entityTxs.length} txs`:""}${C.proposedFrame?` proposal: ${C.proposedFrame.hash.slice(0,10)}...`:""}${C.precommits?` ${C.precommits.size} precommits`:""})`)});else if(u0&&Y.length===0)console.log("\uD83D\uDCE4 No outputs generated");FC($);let F=Date.now();if(u0)console.log(`  Tick ${$.height-1} completed in ${F-X}ms`);return{entityOutbox:Y,mergedInputs:Z}}catch(Z){return r0.error(" Error processing runtime input:",Z),{entityOutbox:[],mergedInputs:[]}}},RC=async()=>{console.log("\uD83D\uDE80 RUNTIME.JS VERSION: 2025-10-05-16:45 - GRID POSITIONS + ACTIVITY HIGHLIGHTS");let $=await jU();if(!j$)try{let{loadJurisdictions:X}=await Promise.resolve().then(() => (i4(),Xq)),Z=X();console.log("\uD83D\uDD0D STARTUP: Current jurisdictions content (from centralized loader):"),console.log("\uD83D\uDCCD Arrakis Depository:",Z.jurisdictions.arrakis?.contracts?.depository),console.log("\uD83D\uDCCD Arrakis EntityProvider:",Z.jurisdictions.arrakis?.contracts?.entityProvider),console.log("\uD83D\uDCCD Last updated:",Z.lastUpdated),console.log("\uD83D\uDCCD Full Arrakis config:",K$(Z.jurisdictions.arrakis))}catch(X){console.log(" Failed to load jurisdictions:",X.message)}console.log("\uD83D\uDD78 Initializing gossip layer...");let Q=MW();console.log(" Gossip layer initialized"),console.log("\uD83D\uDCE1 Loading persisted profiles from database..."),await QC(bQ,Q),s$={replicas:new Map,height:0,timestamp:Date.now(),runtimeInput:{runtimeTxs:[],entityInputs:[]},history:[],gossip:Q};try{if(!$)throw console.log("\uD83D\uDCBE Database unavailable - starting fresh"),new Error("DB_UNAVAILABLE");console.log("\uD83D\uDCE5 Loading state from database...");let X=await Tj(bQ.get(Buffer.from("latest_height")),2000),Z=parseInt(X.toString(),10);console.log(`\uD83D\uDCCA BROWSER-DEBUG: Found latest height in DB: ${Z}`),console.log(`\uD83D\uDCCA Found latest height: ${Z}, loading ${Z+1} snapshots...`),console.log(`\uD83D\uDCE5 Loading snapshots: 1 to ${Z}...`);let Y=[];for(let V=1;V<=Z;V++)try{let G=await bQ.get(Buffer.from(`snapshot:${V}`)),z=dJ(G);Y.push(z),console.log(`\uD83D\uDCE6 Snapshot ${V}: loaded ${G.length} bytes`)}catch(G){l0("RUNTIME_TICK",` Failed to load snapshot ${V}:`,G),console.warn(` Snapshot ${V} missing, continuing with available data...`)}if(Y.length===0)throw console.log(`\uD83D\uDCE6 No snapshots found (latestHeight: ${Z}), using fresh environment`),new Error("LEVEL_NOT_FOUND");if(console.log(`\uD83D\uDCCA Successfully loaded ${Y.length}/${Z} snapshots (starting from height 1)`),s$.history=Y,Y.length>0){let V=Y[Y.length-1];if(!V.replicas)throw console.warn(" Latest snapshot missing replicas data, using fresh environment"),new Error("LEVEL_NOT_FOUND");let G=MW();if(V.gossip?.profiles){for(let[L,A]of Object.entries(V.gossip.profiles))G.profiles.set(L,A);console.log(`\uD83D\uDCE1 Restored gossip profiles: ${Object.keys(V.gossip.profiles).length} entries`)}let z;try{if(V.replicas instanceof Map)z=V.replicas;else if(V.replicas&&typeof V.replicas==="object")z=new Map(Object.entries(V.replicas));else throw console.warn(" Invalid replicas format in snapshot, using fresh environment"),new Error("LEVEL_NOT_FOUND")}catch(L){throw l0("RUNTIME_TICK"," Failed to convert replicas to Map:",L),console.warn(" Falling back to fresh environment"),new Error("LEVEL_NOT_FOUND")}s$={replicas:new Map(Array.from(z).map(([L,A])=>{return[L,jV(A)]})),height:V.height,timestamp:V.timestamp,runtimeInput:{runtimeTxs:[],entityInputs:[]},history:Y,gossip:G},console.log(` History restored. Runtime is at height ${s$.height} with ${s$.history.length} snapshots.`),console.log("\uD83D\uDCC8 Snapshot details:",{height:s$.height,replicaCount:s$.replicas.size,timestamp:new Date(s$.timestamp).toISOString(),runtimeInputs:s$.runtimeInput.entityInputs.length})}}catch(X){let Z=X instanceof Error&&X.message==="TIMEOUT",Y=X instanceof Error&&(X.name==="NotFoundError"||X.message?.includes("NotFoundError")||X.message?.includes("Entry not found"));if(Z||Y)console.log("\uD83D\uDCE6 No saved state found - starting fresh");else if(X instanceof Error&&X.message==="DB_UNAVAILABLE");else console.warn(" Error loading state:",X instanceof Error?X.message:X),console.log("\uD83D\uDCE6 Starting fresh")}if(!j$)console.log(`
\uD83D\uDE80 Hanko tests disabled during development - focusing on core functionality`);else console.log("\uD83C\uDF10 Browser environment: Demos available via UI buttons, not auto-running");if(r0.info(`\uD83C\uDFAF Runtime startup complete. Height: ${s$.height}, Entities: ${s$.replicas.size}`),j$){console.log("\uD83D\uDD0D BROWSER-DEBUG: Final state before j-watcher start:"),console.log(`\uD83D\uDD0D   Environment height: ${s$.height}`),console.log(`\uD83D\uDD0D   Total replicas: ${s$.replicas.size}`);for(let[X,Z]of s$.replicas.entries()){let[Y,V]=X.split(":");if(Y&&V)console.log(`\uD83D\uDD0D   Entity ${Y.slice(0,10)}... (${V}): jBlock=${Z.state.jBlock}, isProposer=${Z.isProposer}`)}}if(!AC)console.log("\uD83D\uDD2D STARTING-JWATCHER: Snapshots loaded, starting j-watcher (non-blocking)..."),Promise.race([TC(s$),new Promise((X,Z)=>setTimeout(()=>Z(new Error("J-watcher startup timeout (3s)")),3000))]).then(()=>{AC=!0,console.log("\uD83D\uDD2D JWATCHER-READY: J-watcher started successfully")}).catch((X)=>{console.warn("  J-Event Watcher startup failed or timed out (non-critical):",X.message),console.warn("    UI will load anyway. Blockchain sync will retry in background.")});else console.log("\uD83D\uDD2D JWATCHER-SKIP: J-watcher already started, skipping");return s$},Pj=()=>s$.history||[],Ej=($)=>{let Q=s$.history||[];return $>=0&&$<Q.length?Q[$]:null},Ij=()=>(s$.history||[]).length-1,Sj=async()=>{console.log("\uD83D\uDDD1 Clearing database and resetting runtime history..."),await CU(bQ),s$={replicas:new Map,height:0,timestamp:Date.now(),runtimeInput:{runtimeTxs:[],entityInputs:[]},history:[],gossip:MW()},console.log(" Database and runtime history cleared")},Nj=()=>{if(!UO||!s$)return null;return{isWatching:UO.getStatus().isWatching,proposers:Array.from(s$.replicas.entries()).filter(([,$])=>$.isProposer).map(([$,Q])=>{let[X,Z]=$.split(":");if(!X||!Z)throw new Error(`Invalid replica key format: ${$}`);return{entityId:X.slice(0,10)+"...",signerId:Z,jBlock:Q.state.jBlock}}),nextSyncIn:Math.floor((1000-Date.now()%1000)/100)/10}},Bj=async()=>{console.log(`
\uD83D\uDD0D === JURISDICTION VERIFICATION ===`),console.log(`\uD83D\uDCCB Verifying entity registrations across all jurisdictions...
`);let $=await NY();for(let Q of $)try{console.log(`\uD83C\uDFDB ${Q.name}:`),console.log(`   \uD83D\uDCE1 RPC: ${Q.address}`),console.log(`   \uD83D\uDCC4 Contract: ${Q.entityProviderAddress}`);let{entityProvider:X}=await CX(Q),Z=await X.nextNumber(),Y=Number(Z)-1;if(console.log(`   \uD83D\uDCCA Registered Entities: ${Y}`),Y>0){console.log("   \uD83D\uDCDD Entity Details:");for(let V=1;V<=Y;V++)try{let G=GZ(V),z=await X.entities(G);console.log(`      #${V}: ${G.slice(0,10)}... (Block: ${z.registrationBlock})`)}catch(G){console.log(`      #${V}: Error reading entity data`)}}console.log("")}catch(X){l0("RUNTIME_TICK",`    Failed to verify ${Q.name}:`,X instanceof Error?X.message:X),console.log("")}console.log(` Jurisdiction verification complete!
`)},jj=async()=>{try{if(typeof window!=="undefined"){console.log("\uD83C\uDFAF Browser environment detected - running simplified Hanko demo..."),console.log(" Basic signature verification available"),console.log("\uD83D\uDCA1 Full test suite available in Node.js environment"),console.log(" Hanko browser demo completed!");return}console.log("\uD83C\uDFAF Complete Hanko test suite disabled during strict TypeScript mode"),console.log(" Complete Hanko tests skipped!")}catch($){throw l0("RUNTIME_TICK"," Complete Hanko tests failed:",$),$}},_j=async($)=>{try{console.log("\uD83D\uDE80 Starting XLN Consensus Demo..."),console.log("\uD83D\uDCCA This will demonstrate entity creation, consensus, and message passing");let Q=await EU($);return console.log(" XLN Demo completed successfully!"),console.log("\uD83C\uDFAF Check the entity cards above to see the results"),console.log("\uD83D\uDD70 Use the time machine to replay the consensus steps"),Q}catch(Q){throw l0("RUNTIME_TICK"," XLN Demo failed:",Q),Q}},PC=()=>{return{replicas:new Map,height:0,timestamp:Date.now(),runtimeInput:{runtimeTxs:[],entityInputs:[]},history:[],gossip:MW()}},VO=!1,p8=async($,Q,X=0)=>{if(VO)return console.warn(" SKIP-CASCADE: Previous cascade still running"),$;VO=!0;let Z=Q||[],Y=0,V=10,G=(z)=>new Promise((L)=>setTimeout(L,z));Z.forEach((z)=>{try{y5(z)}catch(L){throw l0("RUNTIME_TICK","\uD83D\uDEA8 CRITICAL FINANCIAL ERROR: Invalid EntityInput detected!",{error:L.message,entityId:z.entityId.slice(0,10),signerId:z.signerId}),L}}),Z.forEach((z,L)=>{if(z.entityTxs?.some((A)=>A.type==="vote"))console.log(`\uD83D\uDDF3 VOTE-DEBUG: Input ${L+1} contains vote transactions:`,z.entityTxs.filter((A)=>A.type==="vote"))});try{while(Z.length>0&&Y<V){if(Y++,Z=(await IZ($,{runtimeTxs:[],entityInputs:Z})).entityOutbox,Z.length>0)console.log(`\uD83D\uDD25 PROCESS-CASCADE: Iteration ${Y}, ${Z.length} outputs`);if(Z.length>0&&X>0)console.log(` CASCADE-DELAY: Waiting ${X}ms before next iteration...`),await G(X)}if(Y>=V)console.warn(" process() reached maximum iterations");return await EC($),$}finally{VO=!1}},EC=async($)=>{if(!j$)return;try{if(!await jU())return;await bQ.put(Buffer.from("latest_height"),Buffer.from(String($.height)));let X=JSON.stringify($,(Z,Y)=>typeof Y==="bigint"?String(Y):Y instanceof Uint8Array?Array.from(Y):Y instanceof Map?Array.from(Y.entries()):Y);await bQ.put(Buffer.from(`snapshot:${$.height}`),Buffer.from(X))}catch(Q){console.error(" Failed to save to LevelDB:",Q)}},wj=async()=>{if(!j$)return null;try{if(!await jU())return null;let Q=await bQ.get(Buffer.from("latest_height")),X=parseInt(Q.toString()),Z=[];for(let V=0;V<=X;V++){let G=await bQ.get(Buffer.from(`snapshot:${V}`)),z=JSON.parse(G.toString()),L=PC();if(L.height=BigInt(z.height||0),L.timestamp=BigInt(z.timestamp||0),L.replicas=new Map(z.replicas||[]),z.gossip?.profiles)L.gossip.profiles=new Map(z.gossip.profiles);Z.push(L)}let Y=Z[Z.length-1];if(Y)Y.history=Z;return Y}catch($){return console.log("No persisted state found"),null}},xj=async()=>{if(!j$)return;try{if(!await jU())return;await bQ.clear(),console.log(" LevelDB cleared")}catch($){console.error(" Failed to clear LevelDB:",$)}},kj=($,Q)=>ZM(bQ,$,Q),fj=($)=>GM(bQ,$),vj=($)=>WM(bQ,$);var EZ=G0(()=>{az();ZO();jY();lZ();YC();v5();JC();W1();VZ();SV();fY();EV();YX();XW();OC();BU();LC();CC();bQ=new j6("db",{valueEncoding:"buffer",keyEncoding:"binary"});if(!j$)RC().then(async($)=>{if($)if(!(globalThis.process.env.NO_DEMO==="1"||globalThis.process.argv.includes("--no-demo")))console.log(" Node.js environment initialized. Running demo for local testing..."),console.log("\uD83D\uDCA1 To skip demo, use: NO_DEMO=1 bun run src/runtime.ts or --no-demo flag"),await EU($),await TC($),setTimeout(async()=>{await Bj()},2000);else console.log(" Node.js environment initialized. Demo skipped (NO_DEMO=1 or --no-demo)"),console.log("\uD83D\uDCA1 Use XLN.runDemo(env) to run demo manually if needed")}).catch(($)=>{l0("RUNTIME_TICK"," An error occurred during Node.js auto-execution:",$)})});EZ();export{RJ as validateDelta,UM as validateAccountDeltas,Z5 as transferNameBetweenEntities,HV as submitSettle,J5 as submitReserveToReserve,t4 as submitProcessBatch,a4 as submitPrefundAccount,kj as searchEntityNames,EC as saveEnvToDB,K$ as safeStringify,_j as runDemoWrapper,EU as runDemo,fj as resolveEntityName,U5 as resolveEntityIdentifier,K5 as requestNamedEntity,e4 as registerNumberedEntityOnChain,Rj as registerEnvChangeCallback,p8 as process,UC as prepopulate,qM as parseTokenAmount,kV as parseScenario,NU as mergeAndSortEvents,RC as main,MC as loadScenarioFromText,qC as loadScenarioFromFile,wj as loadEnvFromDB,PJ as isLeft,O5 as isEntityRegistered,zM as isDelta,BY as hashBoard,PZ as getTokenInfo,Ej as getSnapshot,f5 as getSignerDisplayInfo,X5 as getNextEntityNumber,ZW as getJurisdictionByAddress,Nj as getJWatcherStatus,Pj as getHistory,G1 as getEntityShortId,tz as getEntityNumber,Q5 as getEntityInfoFromChain,vj as getEntityDisplayInfoFromProfile,k5 as getEntityDisplayInfo,iQ as getDefaultCreditLimit,Ij as getCurrentHistoryIndex,NY as getAvailableJurisdictions,TV as generateSignerAvatar,GZ as generateNumberedEntityId,G5 as generateNamedEntityId,XU as generateLazyEntityId,FJ as generateEntityAvatar,IV as formatTokenAmountEthers,IV as formatTokenAmount,TJ as formatSignerDisplay,MQ as formatEntityId,C$ as formatEntityDisplay,b5 as formatAssetAmountEthers,DC as executeScenario,x8 as encodeBoard,uJ as encode,k8 as detectEntityType,b8 as deriveDelta,jj as demoCompleteHanko,dJ as decode,r4 as debugFundReserves,bQ as db,YM as createProfileUpdateTx,v8 as createNumberedEntity,V5 as createNumberedEntitiesBatch,W5 as createLazyEntity,PC as createEmptyEnv,NV as createDemoDelta,OM as createDefaultDelta,MM as convertTokenPrecision,CX as connectToEthereum,Sj as clearDatabaseAndHistory,CU as clearDatabase,xj as clearDB,TU as calculatePercentageEthers,$5 as assignNameOnChain,IZ as applyRuntimeInput,AM as FINANCIAL_CONSTANTS,CM as BigIntMath};
